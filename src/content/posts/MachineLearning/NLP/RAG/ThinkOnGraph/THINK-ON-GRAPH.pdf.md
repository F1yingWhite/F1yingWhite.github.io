---
title: "[[MachineLearning/NLP/RAG/ThinkOnGraph/THINK-ON-GRAPH.pdf|THINK-ON-GRAPH]]"
description: ""
image: ""
published: 2025-03-07
tags:
  - 论文阅读
category: 论文阅读
draft: false
---
L
 我们的方法让 llm 想 agent 一样不断的在知识图谱上进行搜索，找到最相关的路径。ToG 具有知识可追溯性和知识可纠正性。即插即用。在我们的范式中，llm 冲当翻译者的角色，把输入的问题转换为机器可理解的指令，提供 kg 搜索和推理，但是他在很大程度上取决于 kg 的完整性和高质量。

TOG 能够自主判断推理路径的条数。他让 llm 自主迭代的推断需要多少条路径直到 llm 认为当前的路径足够推理出。TOG 每次保持前 k 个最可能的推理路径，总的来说，推理步骤有 3 个阶段：初始化，探索和归因

# 具体步骤

## 初始化

给定一个问题，llm 会对问题的起点实体进行初始化，llm 会从问题中提取 topk 个实体

## 探索

在第 d 个迭代的开始，每个路径包含 d-1 个三元组 $p_n=\{(e_{s,n}^d,r_{j,n}^d,e_{o,n}^d)\}_{d=1}^{D-1},$，并且前一个和后一个三元组是连续的。

探索阶段希望 llm 根据前 n 个实体的临近实体探索出最相关的 N 个实体，并且扩展这些路径。然后进行剪枝，减去不相关的路径。

## 归因

在获得了这些原因后，我们 promptllm 来判断当前的信息是否足够生成答案。如果不够就重复探索阶段。如果深度达到最大但是探索仍然没有结束，那么 ToG 将完全根据 llm 中的固有只是回答问题。最多需要 ND+D+1 次 llm 调用
