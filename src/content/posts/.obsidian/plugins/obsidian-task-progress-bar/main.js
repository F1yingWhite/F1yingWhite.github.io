/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var Ka=Object.create;var Xe=Object.defineProperty;var Xa=Object.getOwnPropertyDescriptor;var Qa=Object.getOwnPropertyNames;var Za=Object.getPrototypeOf,Ja=Object.prototype.hasOwnProperty;var Pr=t=>Xe(t,"__esModule",{value:!0});var ee=(t,e)=>()=>(t&&(e=t(t=0)),e);var x=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),xr=(t,e)=>{Pr(t);for(var r in e)Xe(t,r,{get:e[r],enumerable:!0})},es=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Qa(e))!Ja.call(t,n)&&n!=="default"&&Xe(t,n,{get:()=>e[n],enumerable:!(r=Xa(e,n))||r.enumerable});return t},A=t=>es(Pr(Xe(t!=null?Ka(Za(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var Ot=x((Po,Er)=>{"use strict";var ts={mode:"lazy"};Er.exports=ts});var Qe=x((xo,wr)=>{"use strict";var rs=RegExp.prototype.exec;wr.exports=rs});var Ar=x((Eo,Mr)=>{"use strict";Mr.exports={_hasUFlag:!1,shouldRun:function(e){var r=e.flags.includes("s");return r?(e.flags=e.flags.replace("s",""),this._hasUFlag=e.flags.includes("u"),!0):!1},Char:function(e){var r=e.node;if(!(r.kind!=="meta"||r.value!==".")){var n="\\uFFFF",u="\uFFFF";this._hasUFlag&&(n="\\u{10FFFF}",u="\u{10FFFF}"),e.replace({type:"CharacterClass",expressions:[{type:"ClassRange",from:{type:"Char",value:"\\0",kind:"decimal",symbol:"\0"},to:{type:"Char",value:n,kind:"unicode",symbol:u}}]})}}}});var _r=x((wo,Ir)=>{"use strict";Ir.exports={_groupNames:{},init:function(){this._groupNames={}},getExtra:function(){return this._groupNames},Group:function(e){var r=e.node;!r.name||(this._groupNames[r.name]=r.number,delete r.name,delete r.nameRaw)},Backreference:function(e){var r=e.node;r.kind==="name"&&(r.kind="number",r.reference=r.number,delete r.referenceRaw)}}});var Lr=x((Mo,Rr)=>{"use strict";Rr.exports={RegExp:function(e){var r=e.node;r.flags.includes("x")&&(r.flags=r.flags.replace("x",""))}}});var Or=x((Ao,Nr)=>{"use strict";Nr.exports={dotAll:Ar(),namedCapturingGroups:_r(),xFlag:Lr()}});var Dt=x((Io,Dr)=>{"use strict";function V(t){return t?ns[t.type](t):""}var ns={RegExp:function(e){return"/"+V(e.body)+"/"+e.flags},Alternative:function(e){return(e.expressions||[]).map(V).join("")},Disjunction:function(e){return V(e.left)+"|"+V(e.right)},Group:function(e){var r=V(e.expression);return e.capturing?e.name?"(?<"+(e.nameRaw||e.name)+">"+r+")":"("+r+")":"(?:"+r+")"},Backreference:function(e){switch(e.kind){case"number":return"\\"+e.reference;case"name":return"\\k<"+(e.referenceRaw||e.reference)+">";default:throw new TypeError("Unknown Backreference kind: "+e.kind)}},Assertion:function(e){switch(e.kind){case"^":case"$":case"\\b":case"\\B":return e.kind;case"Lookahead":{var r=V(e.assertion);return e.negative?"(?!"+r+")":"(?="+r+")"}case"Lookbehind":{var n=V(e.assertion);return e.negative?"(?<!"+n+")":"(?<="+n+")"}default:throw new TypeError("Unknown Assertion kind: "+e.kind)}},CharacterClass:function(e){var r=e.expressions.map(V).join("");return e.negative?"[^"+r+"]":"["+r+"]"},ClassRange:function(e){return V(e.from)+"-"+V(e.to)},Repetition:function(e){return""+V(e.expression)+V(e.quantifier)},Quantifier:function(e){var r=void 0,n=e.greedy?"":"?";switch(e.kind){case"+":case"?":case"*":r=e.kind;break;case"Range":e.from===e.to?r="{"+e.from+"}":e.to?r="{"+e.from+","+e.to+"}":r="{"+e.from+",}";break;default:throw new TypeError("Unknown Quantifier kind: "+e.kind)}return""+r+n},Char:function(e){var r=e.value;switch(e.kind){case"simple":return e.escaped?"\\"+r:r;case"hex":case"unicode":case"oct":case"decimal":case"control":case"meta":return r;default:throw new TypeError("Unknown Char kind: "+e.kind)}},UnicodeProperty:function(e){var r=e.negative?"P":"p",n=void 0;return!e.shorthand&&!e.binary?n=e.name+"=":n="","\\"+r+"{"+n+e.value+"}"}};Dr.exports={generate:V}});var Ur=x((_o,Vr)=>{"use strict";var Ft={General_Category:"gc",Script:"sc",Script_Extensions:"scx"},Be=tt(Ft),Ze={ASCII:"ASCII",ASCII_Hex_Digit:"AHex",Alphabetic:"Alpha",Any:"Any",Assigned:"Assigned",Bidi_Control:"Bidi_C",Bidi_Mirrored:"Bidi_M",Case_Ignorable:"CI",Cased:"Cased",Changes_When_Casefolded:"CWCF",Changes_When_Casemapped:"CWCM",Changes_When_Lowercased:"CWL",Changes_When_NFKC_Casefolded:"CWKCF",Changes_When_Titlecased:"CWT",Changes_When_Uppercased:"CWU",Dash:"Dash",Default_Ignorable_Code_Point:"DI",Deprecated:"Dep",Diacritic:"Dia",Emoji:"Emoji",Emoji_Component:"Emoji_Component",Emoji_Modifier:"Emoji_Modifier",Emoji_Modifier_Base:"Emoji_Modifier_Base",Emoji_Presentation:"Emoji_Presentation",Extended_Pictographic:"Extended_Pictographic",Extender:"Ext",Grapheme_Base:"Gr_Base",Grapheme_Extend:"Gr_Ext",Hex_Digit:"Hex",IDS_Binary_Operator:"IDSB",IDS_Trinary_Operator:"IDST",ID_Continue:"IDC",ID_Start:"IDS",Ideographic:"Ideo",Join_Control:"Join_C",Logical_Order_Exception:"LOE",Lowercase:"Lower",Math:"Math",Noncharacter_Code_Point:"NChar",Pattern_Syntax:"Pat_Syn",Pattern_White_Space:"Pat_WS",Quotation_Mark:"QMark",Radical:"Radical",Regional_Indicator:"RI",Sentence_Terminal:"STerm",Soft_Dotted:"SD",Terminal_Punctuation:"Term",Unified_Ideograph:"UIdeo",Uppercase:"Upper",Variation_Selector:"VS",White_Space:"space",XID_Continue:"XIDC",XID_Start:"XIDS"},oe=tt(Ze),Bt={Cased_Letter:"LC",Close_Punctuation:"Pe",Connector_Punctuation:"Pc",Control:["Cc","cntrl"],Currency_Symbol:"Sc",Dash_Punctuation:"Pd",Decimal_Number:["Nd","digit"],Enclosing_Mark:"Me",Final_Punctuation:"Pf",Format:"Cf",Initial_Punctuation:"Pi",Letter:"L",Letter_Number:"Nl",Line_Separator:"Zl",Lowercase_Letter:"Ll",Mark:["M","Combining_Mark"],Math_Symbol:"Sm",Modifier_Letter:"Lm",Modifier_Symbol:"Sk",Nonspacing_Mark:"Mn",Number:"N",Open_Punctuation:"Ps",Other:"C",Other_Letter:"Lo",Other_Number:"No",Other_Punctuation:"Po",Other_Symbol:"So",Paragraph_Separator:"Zp",Private_Use:"Co",Punctuation:["P","punct"],Separator:"Z",Space_Separator:"Zs",Spacing_Mark:"Mc",Surrogate:"Cs",Symbol:"S",Titlecase_Letter:"Lt",Unassigned:"Cn",Uppercase_Letter:"Lu"},Je=tt(Bt),Vt={Adlam:"Adlm",Ahom:"Ahom",Anatolian_Hieroglyphs:"Hluw",Arabic:"Arab",Armenian:"Armn",Avestan:"Avst",Balinese:"Bali",Bamum:"Bamu",Bassa_Vah:"Bass",Batak:"Batk",Bengali:"Beng",Bhaiksuki:"Bhks",Bopomofo:"Bopo",Brahmi:"Brah",Braille:"Brai",Buginese:"Bugi",Buhid:"Buhd",Canadian_Aboriginal:"Cans",Carian:"Cari",Caucasian_Albanian:"Aghb",Chakma:"Cakm",Cham:"Cham",Cherokee:"Cher",Common:"Zyyy",Coptic:["Copt","Qaac"],Cuneiform:"Xsux",Cypriot:"Cprt",Cyrillic:"Cyrl",Deseret:"Dsrt",Devanagari:"Deva",Dogra:"Dogr",Duployan:"Dupl",Egyptian_Hieroglyphs:"Egyp",Elbasan:"Elba",Ethiopic:"Ethi",Georgian:"Geor",Glagolitic:"Glag",Gothic:"Goth",Grantha:"Gran",Greek:"Grek",Gujarati:"Gujr",Gunjala_Gondi:"Gong",Gurmukhi:"Guru",Han:"Hani",Hangul:"Hang",Hanifi_Rohingya:"Rohg",Hanunoo:"Hano",Hatran:"Hatr",Hebrew:"Hebr",Hiragana:"Hira",Imperial_Aramaic:"Armi",Inherited:["Zinh","Qaai"],Inscriptional_Pahlavi:"Phli",Inscriptional_Parthian:"Prti",Javanese:"Java",Kaithi:"Kthi",Kannada:"Knda",Katakana:"Kana",Kayah_Li:"Kali",Kharoshthi:"Khar",Khmer:"Khmr",Khojki:"Khoj",Khudawadi:"Sind",Lao:"Laoo",Latin:"Latn",Lepcha:"Lepc",Limbu:"Limb",Linear_A:"Lina",Linear_B:"Linb",Lisu:"Lisu",Lycian:"Lyci",Lydian:"Lydi",Mahajani:"Mahj",Makasar:"Maka",Malayalam:"Mlym",Mandaic:"Mand",Manichaean:"Mani",Marchen:"Marc",Medefaidrin:"Medf",Masaram_Gondi:"Gonm",Meetei_Mayek:"Mtei",Mende_Kikakui:"Mend",Meroitic_Cursive:"Merc",Meroitic_Hieroglyphs:"Mero",Miao:"Plrd",Modi:"Modi",Mongolian:"Mong",Mro:"Mroo",Multani:"Mult",Myanmar:"Mymr",Nabataean:"Nbat",New_Tai_Lue:"Talu",Newa:"Newa",Nko:"Nkoo",Nushu:"Nshu",Ogham:"Ogam",Ol_Chiki:"Olck",Old_Hungarian:"Hung",Old_Italic:"Ital",Old_North_Arabian:"Narb",Old_Permic:"Perm",Old_Persian:"Xpeo",Old_Sogdian:"Sogo",Old_South_Arabian:"Sarb",Old_Turkic:"Orkh",Oriya:"Orya",Osage:"Osge",Osmanya:"Osma",Pahawh_Hmong:"Hmng",Palmyrene:"Palm",Pau_Cin_Hau:"Pauc",Phags_Pa:"Phag",Phoenician:"Phnx",Psalter_Pahlavi:"Phlp",Rejang:"Rjng",Runic:"Runr",Samaritan:"Samr",Saurashtra:"Saur",Sharada:"Shrd",Shavian:"Shaw",Siddham:"Sidd",SignWriting:"Sgnw",Sinhala:"Sinh",Sogdian:"Sogd",Sora_Sompeng:"Sora",Soyombo:"Soyo",Sundanese:"Sund",Syloti_Nagri:"Sylo",Syriac:"Syrc",Tagalog:"Tglg",Tagbanwa:"Tagb",Tai_Le:"Tale",Tai_Tham:"Lana",Tai_Viet:"Tavt",Takri:"Takr",Tamil:"Taml",Tangut:"Tang",Telugu:"Telu",Thaana:"Thaa",Thai:"Thai",Tibetan:"Tibt",Tifinagh:"Tfng",Tirhuta:"Tirh",Ugaritic:"Ugar",Vai:"Vaii",Warang_Citi:"Wara",Yi:"Yiii",Zanabazar_Square:"Zanb"},et=tt(Vt);function tt(t){var e={};for(var r in t)if(!!t.hasOwnProperty(r)){var n=t[r];if(Array.isArray(n))for(var u=0;u<n.length;u++)e[n[u]]=r;else e[n]=r}return e}function us(t){return Ft.hasOwnProperty(t)||Be.hasOwnProperty(t)||Ze.hasOwnProperty(t)||oe.hasOwnProperty(t)}function as(t,e){return is(t)?Fr(e):ds(t)?Br(e):!1}function ss(t){return Be.hasOwnProperty(t)||oe.hasOwnProperty(t)}function is(t){return t==="General_Category"||t=="gc"}function ds(t){return t==="Script"||t==="Script_Extensions"||t==="sc"||t==="scx"}function Fr(t){return Bt.hasOwnProperty(t)||Je.hasOwnProperty(t)}function Br(t){return Vt.hasOwnProperty(t)||et.hasOwnProperty(t)}function os(t){return Ze.hasOwnProperty(t)||oe.hasOwnProperty(t)}function cs(t){return Be.hasOwnProperty(t)?Be[t]:oe.hasOwnProperty(t)?oe[t]:null}function fs(t){return Je.hasOwnProperty(t)?Je[t]:et.hasOwnProperty(t)?et[t]:oe.hasOwnProperty(t)?oe[t]:null}Vr.exports={isAlias:ss,isValidName:us,isValidValue:as,isGeneralCategoryValue:Fr,isScriptCategoryValue:Br,isBinaryPropertyName:os,getCanonicalName:cs,getCanonicalValue:fs,NON_BINARY_PROP_NAMES_TO_ALIASES:Ft,NON_BINARY_ALIASES_TO_PROP_NAMES:Be,BINARY_PROP_NAMES_TO_ALIASES:Ze,BINARY_ALIASES_TO_PROP_NAMES:oe,GENERAL_CATEGORY_VALUE_TO_ALIASES:Bt,GENERAL_CATEGORY_VALUE_ALIASES_TO_VALUES:Je,SCRIPT_VALUE_TO_ALIASES:Vt,SCRIPT_VALUE_ALIASES_TO_VALUE:et}});var Jr=x((Ro,Zr)=>{"use strict";var ls=function(){function t(e,r){var n=[],u=!0,a=!1,s=void 0;try{for(var i=e[Symbol.iterator](),d;!(u=(d=i.next()).done)&&(n.push(d.value),!(r&&n.length===r));u=!0);}catch(o){a=!0,s=o}finally{try{!u&&i.return&&i.return()}finally{if(a)throw s}}return n}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function Gr(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}var W=void 0,Hr=void 0,R={},S=void 0,v=void 0;function C(t,e){return R.options.captureLocations?!t||!e?t||e:{startOffset:t.startOffset,endOffset:e.endOffset,startLine:t.startLine,endLine:e.endLine,startColumn:t.startColumn,endColumn:e.endColumn}:null}var $r="$",hs=[[-1,1,function(t,e){v=C(e,e),S=t}],[0,4,function(t,e,r,n,u,a,s,i){v=C(u,i),S=I({type:"RegExp",body:e,flags:ks(n)},rt(u,i||s))}],[1,1,function(t,e){v=C(e,e),S=t}],[1,0,function(){v=null,S=""}],[2,1,function(t,e){v=C(e,e),S=t}],[2,2,function(t,e,r,n){v=C(r,n),S=t+e}],[3,1,function(t,e){v=C(e,e),S=t}],[4,1,function(t,e){v=C(e,e),S=t}],[4,3,function(t,e,r,n,u,a){v=C(n,a);var s=null;u&&(s=rt(n||u,a||u)),S=I({type:"Disjunction",left:t,right:r},s)}],[5,1,function(t,e){if(v=C(e,e),t.length===0){S=null;return}t.length===1?S=I(t[0],v):S=I({type:"Alternative",expressions:t},v)}],[6,0,function(){v=null,S=[]}],[6,2,function(t,e,r,n){v=C(r,n),S=t.concat(e)}],[7,1,function(t,e){v=C(e,e),S=I(Object.assign({type:"Assertion"},t),v)}],[7,2,function(t,e,r,n){v=C(r,n),S=t,e&&(S=I({type:"Repetition",expression:t,quantifier:e},v))}],[8,1,function(t,e){v=C(e,e),S={kind:"^"}}],[8,1,function(t,e){v=C(e,e),S={kind:"$"}}],[8,1,function(t,e){v=C(e,e),S={kind:"\\b"}}],[8,1,function(t,e){v=C(e,e),S={kind:"\\B"}}],[8,3,function(t,e,r,n,u,a){v=C(n,a),S={kind:"Lookahead",assertion:e}}],[8,3,function(t,e,r,n,u,a){v=C(n,a),S={kind:"Lookahead",negative:!0,assertion:e}}],[8,3,function(t,e,r,n,u,a){v=C(n,a),S={kind:"Lookbehind",assertion:e}}],[8,3,function(t,e,r,n,u,a){v=C(n,a),S={kind:"Lookbehind",negative:!0,assertion:e}}],[9,1,function(t,e){v=C(e,e),S=t}],[9,1,function(t,e){v=C(e,e),S=t}],[9,1,function(t,e){v=C(e,e),S=t}],[10,1,function(t,e){v=C(e,e),S=O(t,"simple",v)}],[10,1,function(t,e){v=C(e,e),S=O(t.slice(1),"simple",v),S.escaped=!0}],[10,1,function(t,e){v=C(e,e),S=O(t,"unicode",v),S.isSurrogatePair=!0}],[10,1,function(t,e){v=C(e,e),S=O(t,"unicode",v)}],[10,1,function(t,e){v=C(e,e),S=ms(t,v)}],[10,1,function(t,e){v=C(e,e),S=O(t,"control",v)}],[10,1,function(t,e){v=C(e,e),S=O(t,"hex",v)}],[10,1,function(t,e){v=C(e,e),S=O(t,"oct",v)}],[10,1,function(t,e){v=C(e,e),S=vs(t,v)}],[10,1,function(t,e){v=C(e,e),S=O(t,"meta",v)}],[10,1,function(t,e){v=C(e,e),S=O(t,"meta",v)}],[10,1,function(t,e){v=C(e,e),S=Ps(t,e)}],[11,1,function(t,e){v=C(e,e),S=t}],[11,0],[12,1,function(t,e){v=C(e,e),S=t}],[12,2,function(t,e,r,n){v=C(r,n),t.greedy=!1,S=t}],[13,1,function(t,e){v=C(e,e),S=I({type:"Quantifier",kind:t,greedy:!0},v)}],[13,1,function(t,e){v=C(e,e),S=I({type:"Quantifier",kind:t,greedy:!0},v)}],[13,1,function(t,e){v=C(e,e),S=I({type:"Quantifier",kind:t,greedy:!0},v)}],[13,1,function(t,e){v=C(e,e);var r=Ht(t);S=I({type:"Quantifier",kind:"Range",from:r[0],to:r[0],greedy:!0},v)}],[13,1,function(t,e){v=C(e,e),S=I({type:"Quantifier",kind:"Range",from:Ht(t)[0],greedy:!0},v)}],[13,1,function(t,e){v=C(e,e);var r=Ht(t);S=I({type:"Quantifier",kind:"Range",from:r[0],to:r[1],greedy:!0},v)}],[14,1,function(t,e){v=C(e,e),S=t}],[14,1,function(t,e){v=C(e,e),S=t}],[15,3,function(t,e,r,n,u,a){v=C(n,a);var s=String(t),i=Kr(s);if(!R.options.allowGroupNameDuplicates&&Ve.hasOwnProperty(i))throw new SyntaxError('Duplicate of the named group "'+i+'".');Ve[i]=t.groupNumber,S=I({type:"Group",capturing:!0,name:i,nameRaw:s,number:t.groupNumber,expression:e},v)}],[15,3,function(t,e,r,n,u,a){v=C(n,a),S=I({type:"Group",capturing:!0,number:t.groupNumber,expression:e},v)}],[16,3,function(t,e,r,n,u,a){v=C(n,a),S=I({type:"Group",capturing:!1,expression:e},v)}],[17,3,function(t,e,r,n,u,a){v=C(n,a),S=I({type:"CharacterClass",negative:!0,expressions:e},v)}],[17,3,function(t,e,r,n,u,a){v=C(n,a),S=I({type:"CharacterClass",expressions:e},v)}],[18,0,function(){v=null,S=[]}],[18,1,function(t,e){v=C(e,e),S=t}],[19,1,function(t,e){v=C(e,e),S=[t]}],[19,2,function(t,e,r,n){v=C(r,n),S=[t].concat(e)}],[19,4,function(t,e,r,n,u,a,s,i){v=C(u,i),Wr(t,r),S=[I({type:"ClassRange",from:t,to:r},rt(u,s))],n&&(S=S.concat(n))}],[20,1,function(t,e){v=C(e,e),S=t}],[20,2,function(t,e,r,n){v=C(r,n),S=[t].concat(e)}],[20,4,function(t,e,r,n,u,a,s,i){v=C(u,i),Wr(t,r),S=[I({type:"ClassRange",from:t,to:r},rt(u,s))],n&&(S=S.concat(n))}],[21,1,function(t,e){v=C(e,e),S=O(t,"simple",v)}],[21,1,function(t,e){v=C(e,e),S=t}],[22,1,function(t,e){v=C(e,e),S=t}],[22,1,function(t,e){v=C(e,e),S=O(t,"meta",v)}]],zr={SLASH:"23",CHAR:"24",BAR:"25",BOS:"26",EOS:"27",ESC_b:"28",ESC_B:"29",POS_LA_ASSERT:"30",R_PAREN:"31",NEG_LA_ASSERT:"32",POS_LB_ASSERT:"33",NEG_LB_ASSERT:"34",ESC_CHAR:"35",U_CODE_SURROGATE:"36",U_CODE:"37",U_PROP_VALUE_EXP:"38",CTRL_CH:"39",HEX_CODE:"40",OCT_CODE:"41",DEC_CODE:"42",META_CHAR:"43",ANY:"44",NAMED_GROUP_REF:"45",Q_MARK:"46",STAR:"47",PLUS:"48",RANGE_EXACT:"49",RANGE_OPEN:"50",RANGE_CLOSED:"51",NAMED_CAPTURE_GROUP:"52",L_PAREN:"53",NON_CAPTURE_GROUP:"54",NEG_CLASS:"55",R_BRACKET:"56",L_BRACKET:"57",DASH:"58",$:"59"},Ut=[{"0":1,"23":"s2"},{"59":"acc"},{"3":3,"4":4,"5":5,"6":6,"23":"r10","24":"r10","25":"r10","26":"r10","27":"r10","28":"r10","29":"r10","30":"r10","32":"r10","33":"r10","34":"r10","35":"r10","36":"r10","37":"r10","38":"r10","39":"r10","40":"r10","41":"r10","42":"r10","43":"r10","44":"r10","45":"r10","52":"r10","53":"r10","54":"r10","55":"r10","57":"r10"},{"23":"s7"},{"23":"r6","25":"s12"},{"23":"r7","25":"r7","31":"r7"},{"7":14,"8":15,"9":16,"10":25,"14":27,"15":42,"16":43,"17":26,"23":"r9","24":"s28","25":"r9","26":"s17","27":"s18","28":"s19","29":"s20","30":"s21","31":"r9","32":"s22","33":"s23","34":"s24","35":"s29","36":"s30","37":"s31","38":"s32","39":"s33","40":"s34","41":"s35","42":"s36","43":"s37","44":"s38","45":"s39","52":"s44","53":"s45","54":"s46","55":"s40","57":"s41"},{"1":8,"2":9,"24":"s10","59":"r3"},{"59":"r1"},{"24":"s11","59":"r2"},{"24":"r4","59":"r4"},{"24":"r5","59":"r5"},{"5":13,"6":6,"23":"r10","24":"r10","25":"r10","26":"r10","27":"r10","28":"r10","29":"r10","30":"r10","31":"r10","32":"r10","33":"r10","34":"r10","35":"r10","36":"r10","37":"r10","38":"r10","39":"r10","40":"r10","41":"r10","42":"r10","43":"r10","44":"r10","45":"r10","52":"r10","53":"r10","54":"r10","55":"r10","57":"r10"},{"23":"r8","25":"r8","31":"r8"},{"23":"r11","24":"r11","25":"r11","26":"r11","27":"r11","28":"r11","29":"r11","30":"r11","31":"r11","32":"r11","33":"r11","34":"r11","35":"r11","36":"r11","37":"r11","38":"r11","39":"r11","40":"r11","41":"r11","42":"r11","43":"r11","44":"r11","45":"r11","52":"r11","53":"r11","54":"r11","55":"r11","57":"r11"},{"23":"r12","24":"r12","25":"r12","26":"r12","27":"r12","28":"r12","29":"r12","30":"r12","31":"r12","32":"r12","33":"r12","34":"r12","35":"r12","36":"r12","37":"r12","38":"r12","39":"r12","40":"r12","41":"r12","42":"r12","43":"r12","44":"r12","45":"r12","52":"r12","53":"r12","54":"r12","55":"r12","57":"r12"},{"11":47,"12":48,"13":49,"23":"r38","24":"r38","25":"r38","26":"r38","27":"r38","28":"r38","29":"r38","30":"r38","31":"r38","32":"r38","33":"r38","34":"r38","35":"r38","36":"r38","37":"r38","38":"r38","39":"r38","40":"r38","41":"r38","42":"r38","43":"r38","44":"r38","45":"r38","46":"s52","47":"s50","48":"s51","49":"s53","50":"s54","51":"s55","52":"r38","53":"r38","54":"r38","55":"r38","57":"r38"},{"23":"r14","24":"r14","25":"r14","26":"r14","27":"r14","28":"r14","29":"r14","30":"r14","31":"r14","32":"r14","33":"r14","34":"r14","35":"r14","36":"r14","37":"r14","38":"r14","39":"r14","40":"r14","41":"r14","42":"r14","43":"r14","44":"r14","45":"r14","52":"r14","53":"r14","54":"r14","55":"r14","57":"r14"},{"23":"r15","24":"r15","25":"r15","26":"r15","27":"r15","28":"r15","29":"r15","30":"r15","31":"r15","32":"r15","33":"r15","34":"r15","35":"r15","36":"r15","37":"r15","38":"r15","39":"r15","40":"r15","41":"r15","42":"r15","43":"r15","44":"r15","45":"r15","52":"r15","53":"r15","54":"r15","55":"r15","57":"r15"},{"23":"r16","24":"r16","25":"r16","26":"r16","27":"r16","28":"r16","29":"r16","30":"r16","31":"r16","32":"r16","33":"r16","34":"r16","35":"r16","36":"r16","37":"r16","38":"r16","39":"r16","40":"r16","41":"r16","42":"r16","43":"r16","44":"r16","45":"r16","52":"r16","53":"r16","54":"r16","55":"r16","57":"r16"},{"23":"r17","24":"r17","25":"r17","26":"r17","27":"r17","28":"r17","29":"r17","30":"r17","31":"r17","32":"r17","33":"r17","34":"r17","35":"r17","36":"r17","37":"r17","38":"r17","39":"r17","40":"r17","41":"r17","42":"r17","43":"r17","44":"r17","45":"r17","52":"r17","53":"r17","54":"r17","55":"r17","57":"r17"},{"4":57,"5":5,"6":6,"24":"r10","25":"r10","26":"r10","27":"r10","28":"r10","29":"r10","30":"r10","31":"r10","32":"r10","33":"r10","34":"r10","35":"r10","36":"r10","37":"r10","38":"r10","39":"r10","40":"r10","41":"r10","42":"r10","43":"r10","44":"r10","45":"r10","52":"r10","53":"r10","54":"r10","55":"r10","57":"r10"},{"4":59,"5":5,"6":6,"24":"r10","25":"r10","26":"r10","27":"r10","28":"r10","29":"r10","30":"r10","31":"r10","32":"r10","33":"r10","34":"r10","35":"r10","36":"r10","37":"r10","38":"r10","39":"r10","40":"r10","41":"r10","42":"r10","43":"r10","44":"r10","45":"r10","52":"r10","53":"r10","54":"r10","55":"r10","57":"r10"},{"4":61,"5":5,"6":6,"24":"r10","25":"r10","26":"r10","27":"r10","28":"r10","29":"r10","30":"r10","31":"r10","32":"r10","33":"r10","34":"r10","35":"r10","36":"r10","37":"r10","38":"r10","39":"r10","40":"r10","41":"r10","42":"r10","43":"r10","44":"r10","45":"r10","52":"r10","53":"r10","54":"r10","55":"r10","57":"r10"},{"4":63,"5":5,"6":6,"24":"r10","25":"r10","26":"r10","27":"r10","28":"r10","29":"r10","30":"r10","31":"r10","32":"r10","33":"r10","34":"r10","35":"r10","36":"r10","37":"r10","38":"r10","39":"r10","40":"r10","41":"r10","42":"r10","43":"r10","44":"r10","45":"r10","52":"r10","53":"r10","54":"r10","55":"r10","57":"r10"},{"23":"r22","24":"r22","25":"r22","26":"r22","27":"r22","28":"r22","29":"r22","30":"r22","31":"r22","32":"r22","33":"r22","34":"r22","35":"r22","36":"r22","37":"r22","38":"r22","39":"r22","40":"r22","41":"r22","42":"r22","43":"r22","44":"r22","45":"r22","46":"r22","47":"r22","48":"r22","49":"r22","50":"r22","51":"r22","52":"r22","53":"r22","54":"r22","55":"r22","57":"r22"},{"23":"r23","24":"r23","25":"r23","26":"r23","27":"r23","28":"r23","29":"r23","30":"r23","31":"r23","32":"r23","33":"r23","34":"r23","35":"r23","36":"r23","37":"r23","38":"r23","39":"r23","40":"r23","41":"r23","42":"r23","43":"r23","44":"r23","45":"r23","46":"r23","47":"r23","48":"r23","49":"r23","50":"r23","51":"r23","52":"r23","53":"r23","54":"r23","55":"r23","57":"r23"},{"23":"r24","24":"r24","25":"r24","26":"r24","27":"r24","28":"r24","29":"r24","30":"r24","31":"r24","32":"r24","33":"r24","34":"r24","35":"r24","36":"r24","37":"r24","38":"r24","39":"r24","40":"r24","41":"r24","42":"r24","43":"r24","44":"r24","45":"r24","46":"r24","47":"r24","48":"r24","49":"r24","50":"r24","51":"r24","52":"r24","53":"r24","54":"r24","55":"r24","57":"r24"},{"23":"r25","24":"r25","25":"r25","26":"r25","27":"r25","28":"r25","29":"r25","30":"r25","31":"r25","32":"r25","33":"r25","34":"r25","35":"r25","36":"r25","37":"r25","38":"r25","39":"r25","40":"r25","41":"r25","42":"r25","43":"r25","44":"r25","45":"r25","46":"r25","47":"r25","48":"r25","49":"r25","50":"r25","51":"r25","52":"r25","53":"r25","54":"r25","55":"r25","56":"r25","57":"r25","58":"r25"},{"23":"r26","24":"r26","25":"r26","26":"r26","27":"r26","28":"r26","29":"r26","30":"r26","31":"r26","32":"r26","33":"r26","34":"r26","35":"r26","36":"r26","37":"r26","38":"r26","39":"r26","40":"r26","41":"r26","42":"r26","43":"r26","44":"r26","45":"r26","46":"r26","47":"r26","48":"r26","49":"r26","50":"r26","51":"r26","52":"r26","53":"r26","54":"r26","55":"r26","56":"r26","57":"r26","58":"r26"},{"23":"r27","24":"r27","25":"r27","26":"r27","27":"r27","28":"r27","29":"r27","30":"r27","31":"r27","32":"r27","33":"r27","34":"r27","35":"r27","36":"r27","37":"r27","38":"r27","39":"r27","40":"r27","41":"r27","42":"r27","43":"r27","44":"r27","45":"r27","46":"r27","47":"r27","48":"r27","49":"r27","50":"r27","51":"r27","52":"r27","53":"r27","54":"r27","55":"r27","56":"r27","57":"r27","58":"r27"},{"23":"r28","24":"r28","25":"r28","26":"r28","27":"r28","28":"r28","29":"r28","30":"r28","31":"r28","32":"r28","33":"r28","34":"r28","35":"r28","36":"r28","37":"r28","38":"r28","39":"r28","40":"r28","41":"r28","42":"r28","43":"r28","44":"r28","45":"r28","46":"r28","47":"r28","48":"r28","49":"r28","50":"r28","51":"r28","52":"r28","53":"r28","54":"r28","55":"r28","56":"r28","57":"r28","58":"r28"},{"23":"r29","24":"r29","25":"r29","26":"r29","27":"r29","28":"r29","29":"r29","30":"r29","31":"r29","32":"r29","33":"r29","34":"r29","35":"r29","36":"r29","37":"r29","38":"r29","39":"r29","40":"r29","41":"r29","42":"r29","43":"r29","44":"r29","45":"r29","46":"r29","47":"r29","48":"r29","49":"r29","50":"r29","51":"r29","52":"r29","53":"r29","54":"r29","55":"r29","56":"r29","57":"r29","58":"r29"},{"23":"r30","24":"r30","25":"r30","26":"r30","27":"r30","28":"r30","29":"r30","30":"r30","31":"r30","32":"r30","33":"r30","34":"r30","35":"r30","36":"r30","37":"r30","38":"r30","39":"r30","40":"r30","41":"r30","42":"r30","43":"r30","44":"r30","45":"r30","46":"r30","47":"r30","48":"r30","49":"r30","50":"r30","51":"r30","52":"r30","53":"r30","54":"r30","55":"r30","56":"r30","57":"r30","58":"r30"},{"23":"r31","24":"r31","25":"r31","26":"r31","27":"r31","28":"r31","29":"r31","30":"r31","31":"r31","32":"r31","33":"r31","34":"r31","35":"r31","36":"r31","37":"r31","38":"r31","39":"r31","40":"r31","41":"r31","42":"r31","43":"r31","44":"r31","45":"r31","46":"r31","47":"r31","48":"r31","49":"r31","50":"r31","51":"r31","52":"r31","53":"r31","54":"r31","55":"r31","56":"r31","57":"r31","58":"r31"},{"23":"r32","24":"r32","25":"r32","26":"r32","27":"r32","28":"r32","29":"r32","30":"r32","31":"r32","32":"r32","33":"r32","34":"r32","35":"r32","36":"r32","37":"r32","38":"r32","39":"r32","40":"r32","41":"r32","42":"r32","43":"r32","44":"r32","45":"r32","46":"r32","47":"r32","48":"r32","49":"r32","50":"r32","51":"r32","52":"r32","53":"r32","54":"r32","55":"r32","56":"r32","57":"r32","58":"r32"},{"23":"r33","24":"r33","25":"r33","26":"r33","27":"r33","28":"r33","29":"r33","30":"r33","31":"r33","32":"r33","33":"r33","34":"r33","35":"r33","36":"r33","37":"r33","38":"r33","39":"r33","40":"r33","41":"r33","42":"r33","43":"r33","44":"r33","45":"r33","46":"r33","47":"r33","48":"r33","49":"r33","50":"r33","51":"r33","52":"r33","53":"r33","54":"r33","55":"r33","56":"r33","57":"r33","58":"r33"},{"23":"r34","24":"r34","25":"r34","26":"r34","27":"r34","28":"r34","29":"r34","30":"r34","31":"r34","32":"r34","33":"r34","34":"r34","35":"r34","36":"r34","37":"r34","38":"r34","39":"r34","40":"r34","41":"r34","42":"r34","43":"r34","44":"r34","45":"r34","46":"r34","47":"r34","48":"r34","49":"r34","50":"r34","51":"r34","52":"r34","53":"r34","54":"r34","55":"r34","56":"r34","57":"r34","58":"r34"},{"23":"r35","24":"r35","25":"r35","26":"r35","27":"r35","28":"r35","29":"r35","30":"r35","31":"r35","32":"r35","33":"r35","34":"r35","35":"r35","36":"r35","37":"r35","38":"r35","39":"r35","40":"r35","41":"r35","42":"r35","43":"r35","44":"r35","45":"r35","46":"r35","47":"r35","48":"r35","49":"r35","50":"r35","51":"r35","52":"r35","53":"r35","54":"r35","55":"r35","56":"r35","57":"r35","58":"r35"},{"23":"r36","24":"r36","25":"r36","26":"r36","27":"r36","28":"r36","29":"r36","30":"r36","31":"r36","32":"r36","33":"r36","34":"r36","35":"r36","36":"r36","37":"r36","38":"r36","39":"r36","40":"r36","41":"r36","42":"r36","43":"r36","44":"r36","45":"r36","46":"r36","47":"r36","48":"r36","49":"r36","50":"r36","51":"r36","52":"r36","53":"r36","54":"r36","55":"r36","56":"r36","57":"r36","58":"r36"},{"10":70,"18":65,"19":66,"21":67,"22":69,"24":"s28","28":"s71","35":"s29","36":"s30","37":"s31","38":"s32","39":"s33","40":"s34","41":"s35","42":"s36","43":"s37","44":"s38","45":"s39","56":"r54","58":"s68"},{"10":70,"18":83,"19":66,"21":67,"22":69,"24":"s28","28":"s71","35":"s29","36":"s30","37":"s31","38":"s32","39":"s33","40":"s34","41":"s35","42":"s36","43":"s37","44":"s38","45":"s39","56":"r54","58":"s68"},{"23":"r47","24":"r47","25":"r47","26":"r47","27":"r47","28":"r47","29":"r47","30":"r47","31":"r47","32":"r47","33":"r47","34":"r47","35":"r47","36":"r47","37":"r47","38":"r47","39":"r47","40":"r47","41":"r47","42":"r47","43":"r47","44":"r47","45":"r47","46":"r47","47":"r47","48":"r47","49":"r47","50":"r47","51":"r47","52":"r47","53":"r47","54":"r47","55":"r47","57":"r47"},{"23":"r48","24":"r48","25":"r48","26":"r48","27":"r48","28":"r48","29":"r48","30":"r48","31":"r48","32":"r48","33":"r48","34":"r48","35":"r48","36":"r48","37":"r48","38":"r48","39":"r48","40":"r48","41":"r48","42":"r48","43":"r48","44":"r48","45":"r48","46":"r48","47":"r48","48":"r48","49":"r48","50":"r48","51":"r48","52":"r48","53":"r48","54":"r48","55":"r48","57":"r48"},{"4":85,"5":5,"6":6,"24":"r10","25":"r10","26":"r10","27":"r10","28":"r10","29":"r10","30":"r10","31":"r10","32":"r10","33":"r10","34":"r10","35":"r10","36":"r10","37":"r10","38":"r10","39":"r10","40":"r10","41":"r10","42":"r10","43":"r10","44":"r10","45":"r10","52":"r10","53":"r10","54":"r10","55":"r10","57":"r10"},{"4":87,"5":5,"6":6,"24":"r10","25":"r10","26":"r10","27":"r10","28":"r10","29":"r10","30":"r10","31":"r10","32":"r10","33":"r10","34":"r10","35":"r10","36":"r10","37":"r10","38":"r10","39":"r10","40":"r10","41":"r10","42":"r10","43":"r10","44":"r10","45":"r10","52":"r10","53":"r10","54":"r10","55":"r10","57":"r10"},{"4":89,"5":5,"6":6,"24":"r10","25":"r10","26":"r10","27":"r10","28":"r10","29":"r10","30":"r10","31":"r10","32":"r10","33":"r10","34":"r10","35":"r10","36":"r10","37":"r10","38":"r10","39":"r10","40":"r10","41":"r10","42":"r10","43":"r10","44":"r10","45":"r10","52":"r10","53":"r10","54":"r10","55":"r10","57":"r10"},{"23":"r13","24":"r13","25":"r13","26":"r13","27":"r13","28":"r13","29":"r13","30":"r13","31":"r13","32":"r13","33":"r13","34":"r13","35":"r13","36":"r13","37":"r13","38":"r13","39":"r13","40":"r13","41":"r13","42":"r13","43":"r13","44":"r13","45":"r13","52":"r13","53":"r13","54":"r13","55":"r13","57":"r13"},{"23":"r37","24":"r37","25":"r37","26":"r37","27":"r37","28":"r37","29":"r37","30":"r37","31":"r37","32":"r37","33":"r37","34":"r37","35":"r37","36":"r37","37":"r37","38":"r37","39":"r37","40":"r37","41":"r37","42":"r37","43":"r37","44":"r37","45":"r37","52":"r37","53":"r37","54":"r37","55":"r37","57":"r37"},{"23":"r39","24":"r39","25":"r39","26":"r39","27":"r39","28":"r39","29":"r39","30":"r39","31":"r39","32":"r39","33":"r39","34":"r39","35":"r39","36":"r39","37":"r39","38":"r39","39":"r39","40":"r39","41":"r39","42":"r39","43":"r39","44":"r39","45":"r39","46":"s56","52":"r39","53":"r39","54":"r39","55":"r39","57":"r39"},{"23":"r41","24":"r41","25":"r41","26":"r41","27":"r41","28":"r41","29":"r41","30":"r41","31":"r41","32":"r41","33":"r41","34":"r41","35":"r41","36":"r41","37":"r41","38":"r41","39":"r41","40":"r41","41":"r41","42":"r41","43":"r41","44":"r41","45":"r41","46":"r41","52":"r41","53":"r41","54":"r41","55":"r41","57":"r41"},{"23":"r42","24":"r42","25":"r42","26":"r42","27":"r42","28":"r42","29":"r42","30":"r42","31":"r42","32":"r42","33":"r42","34":"r42","35":"r42","36":"r42","37":"r42","38":"r42","39":"r42","40":"r42","41":"r42","42":"r42","43":"r42","44":"r42","45":"r42","46":"r42","52":"r42","53":"r42","54":"r42","55":"r42","57":"r42"},{"23":"r43","24":"r43","25":"r43","26":"r43","27":"r43","28":"r43","29":"r43","30":"r43","31":"r43","32":"r43","33":"r43","34":"r43","35":"r43","36":"r43","37":"r43","38":"r43","39":"r43","40":"r43","41":"r43","42":"r43","43":"r43","44":"r43","45":"r43","46":"r43","52":"r43","53":"r43","54":"r43","55":"r43","57":"r43"},{"23":"r44","24":"r44","25":"r44","26":"r44","27":"r44","28":"r44","29":"r44","30":"r44","31":"r44","32":"r44","33":"r44","34":"r44","35":"r44","36":"r44","37":"r44","38":"r44","39":"r44","40":"r44","41":"r44","42":"r44","43":"r44","44":"r44","45":"r44","46":"r44","52":"r44","53":"r44","54":"r44","55":"r44","57":"r44"},{"23":"r45","24":"r45","25":"r45","26":"r45","27":"r45","28":"r45","29":"r45","30":"r45","31":"r45","32":"r45","33":"r45","34":"r45","35":"r45","36":"r45","37":"r45","38":"r45","39":"r45","40":"r45","41":"r45","42":"r45","43":"r45","44":"r45","45":"r45","46":"r45","52":"r45","53":"r45","54":"r45","55":"r45","57":"r45"},{"23":"r46","24":"r46","25":"r46","26":"r46","27":"r46","28":"r46","29":"r46","30":"r46","31":"r46","32":"r46","33":"r46","34":"r46","35":"r46","36":"r46","37":"r46","38":"r46","39":"r46","40":"r46","41":"r46","42":"r46","43":"r46","44":"r46","45":"r46","46":"r46","52":"r46","53":"r46","54":"r46","55":"r46","57":"r46"},{"23":"r40","24":"r40","25":"r40","26":"r40","27":"r40","28":"r40","29":"r40","30":"r40","31":"r40","32":"r40","33":"r40","34":"r40","35":"r40","36":"r40","37":"r40","38":"r40","39":"r40","40":"r40","41":"r40","42":"r40","43":"r40","44":"r40","45":"r40","52":"r40","53":"r40","54":"r40","55":"r40","57":"r40"},{"25":"s12","31":"s58"},{"23":"r18","24":"r18","25":"r18","26":"r18","27":"r18","28":"r18","29":"r18","30":"r18","31":"r18","32":"r18","33":"r18","34":"r18","35":"r18","36":"r18","37":"r18","38":"r18","39":"r18","40":"r18","41":"r18","42":"r18","43":"r18","44":"r18","45":"r18","52":"r18","53":"r18","54":"r18","55":"r18","57":"r18"},{"25":"s12","31":"s60"},{"23":"r19","24":"r19","25":"r19","26":"r19","27":"r19","28":"r19","29":"r19","30":"r19","31":"r19","32":"r19","33":"r19","34":"r19","35":"r19","36":"r19","37":"r19","38":"r19","39":"r19","40":"r19","41":"r19","42":"r19","43":"r19","44":"r19","45":"r19","52":"r19","53":"r19","54":"r19","55":"r19","57":"r19"},{"25":"s12","31":"s62"},{"23":"r20","24":"r20","25":"r20","26":"r20","27":"r20","28":"r20","29":"r20","30":"r20","31":"r20","32":"r20","33":"r20","34":"r20","35":"r20","36":"r20","37":"r20","38":"r20","39":"r20","40":"r20","41":"r20","42":"r20","43":"r20","44":"r20","45":"r20","52":"r20","53":"r20","54":"r20","55":"r20","57":"r20"},{"25":"s12","31":"s64"},{"23":"r21","24":"r21","25":"r21","26":"r21","27":"r21","28":"r21","29":"r21","30":"r21","31":"r21","32":"r21","33":"r21","34":"r21","35":"r21","36":"r21","37":"r21","38":"r21","39":"r21","40":"r21","41":"r21","42":"r21","43":"r21","44":"r21","45":"r21","52":"r21","53":"r21","54":"r21","55":"r21","57":"r21"},{"56":"s72"},{"56":"r55"},{"10":70,"20":73,"21":75,"22":76,"24":"s28","28":"s71","35":"s29","36":"s30","37":"s31","38":"s32","39":"s33","40":"s34","41":"s35","42":"s36","43":"s37","44":"s38","45":"s39","56":"r56","58":"s74"},{"24":"r62","28":"r62","35":"r62","36":"r62","37":"r62","38":"r62","39":"r62","40":"r62","41":"r62","42":"r62","43":"r62","44":"r62","45":"r62","56":"r62","58":"r62"},{"24":"r63","28":"r63","35":"r63","36":"r63","37":"r63","38":"r63","39":"r63","40":"r63","41":"r63","42":"r63","43":"r63","44":"r63","45":"r63","56":"r63","58":"r63"},{"24":"r64","28":"r64","35":"r64","36":"r64","37":"r64","38":"r64","39":"r64","40":"r64","41":"r64","42":"r64","43":"r64","44":"r64","45":"r64","56":"r64","58":"r64"},{"24":"r65","28":"r65","35":"r65","36":"r65","37":"r65","38":"r65","39":"r65","40":"r65","41":"r65","42":"r65","43":"r65","44":"r65","45":"r65","56":"r65","58":"r65"},{"23":"r52","24":"r52","25":"r52","26":"r52","27":"r52","28":"r52","29":"r52","30":"r52","31":"r52","32":"r52","33":"r52","34":"r52","35":"r52","36":"r52","37":"r52","38":"r52","39":"r52","40":"r52","41":"r52","42":"r52","43":"r52","44":"r52","45":"r52","46":"r52","47":"r52","48":"r52","49":"r52","50":"r52","51":"r52","52":"r52","53":"r52","54":"r52","55":"r52","57":"r52"},{"56":"r57"},{"10":70,"21":77,"22":69,"24":"s28","28":"s71","35":"s29","36":"s30","37":"s31","38":"s32","39":"s33","40":"s34","41":"s35","42":"s36","43":"s37","44":"s38","45":"s39","56":"r62","58":"s68"},{"56":"r59"},{"10":70,"20":79,"21":75,"22":76,"24":"s28","28":"s71","35":"s29","36":"s30","37":"s31","38":"s32","39":"s33","40":"s34","41":"s35","42":"s36","43":"s37","44":"s38","45":"s39","56":"r63","58":"s80"},{"10":70,"18":78,"19":66,"21":67,"22":69,"24":"s28","28":"s71","35":"s29","36":"s30","37":"s31","38":"s32","39":"s33","40":"s34","41":"s35","42":"s36","43":"s37","44":"s38","45":"s39","56":"r54","58":"s68"},{"56":"r58"},{"56":"r60"},{"10":70,"21":81,"22":69,"24":"s28","28":"s71","35":"s29","36":"s30","37":"s31","38":"s32","39":"s33","40":"s34","41":"s35","42":"s36","43":"s37","44":"s38","45":"s39","56":"r62","58":"s68"},{"10":70,"18":82,"19":66,"21":67,"22":69,"24":"s28","28":"s71","35":"s29","36":"s30","37":"s31","38":"s32","39":"s33","40":"s34","41":"s35","42":"s36","43":"s37","44":"s38","45":"s39","56":"r54","58":"s68"},{"56":"r61"},{"56":"s84"},{"23":"r53","24":"r53","25":"r53","26":"r53","27":"r53","28":"r53","29":"r53","30":"r53","31":"r53","32":"r53","33":"r53","34":"r53","35":"r53","36":"r53","37":"r53","38":"r53","39":"r53","40":"r53","41":"r53","42":"r53","43":"r53","44":"r53","45":"r53","46":"r53","47":"r53","48":"r53","49":"r53","50":"r53","51":"r53","52":"r53","53":"r53","54":"r53","55":"r53","57":"r53"},{"25":"s12","31":"s86"},{"23":"r49","24":"r49","25":"r49","26":"r49","27":"r49","28":"r49","29":"r49","30":"r49","31":"r49","32":"r49","33":"r49","34":"r49","35":"r49","36":"r49","37":"r49","38":"r49","39":"r49","40":"r49","41":"r49","42":"r49","43":"r49","44":"r49","45":"r49","46":"r49","47":"r49","48":"r49","49":"r49","50":"r49","51":"r49","52":"r49","53":"r49","54":"r49","55":"r49","57":"r49"},{"25":"s12","31":"s88"},{"23":"r50","24":"r50","25":"r50","26":"r50","27":"r50","28":"r50","29":"r50","30":"r50","31":"r50","32":"r50","33":"r50","34":"r50","35":"r50","36":"r50","37":"r50","38":"r50","39":"r50","40":"r50","41":"r50","42":"r50","43":"r50","44":"r50","45":"r50","46":"r50","47":"r50","48":"r50","49":"r50","50":"r50","51":"r50","52":"r50","53":"r50","54":"r50","55":"r50","57":"r50"},{"25":"s12","31":"s90"},{"23":"r51","24":"r51","25":"r51","26":"r51","27":"r51","28":"r51","29":"r51","30":"r51","31":"r51","32":"r51","33":"r51","34":"r51","35":"r51","36":"r51","37":"r51","38":"r51","39":"r51","40":"r51","41":"r51","42":"r51","43":"r51","44":"r51","45":"r51","46":"r51","47":"r51","48":"r51","49":"r51","50":"r51","51":"r51","52":"r51","53":"r51","54":"r51","55":"r51","57":"r51"}],N=[],U=void 0,gs=[[/^#[^\n]+/,function(){}],[/^\s+/,function(){}],[/^-/,function(){return"DASH"}],[/^\//,function(){return"CHAR"}],[/^#/,function(){return"CHAR"}],[/^\|/,function(){return"CHAR"}],[/^\./,function(){return"CHAR"}],[/^\{/,function(){return"CHAR"}],[/^\{\d+\}/,function(){return"RANGE_EXACT"}],[/^\{\d+,\}/,function(){return"RANGE_OPEN"}],[/^\{\d+,\d+\}/,function(){return"RANGE_CLOSED"}],[/^\\k<(([\u0041-\u005a\u0061-\u007a\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4-\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u09fc\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0af9\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60-\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0cf1-\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065-\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae-\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5-\u1cf6\u1cfa\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a-\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd-\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5-\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd23\udf00-\udf1c\udf27\udf30-\udf45\udfe0-\udff6]|\ud804[\udc03-\udc37\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd44\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc5f\udc80-\udcaf\udcc4-\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udeb8\udf00-\udf1a]|\ud806[\udc00-\udc2b\udca0-\udcdf\udcff\udda0-\udda7\uddaa-\uddd0\udde1\udde3\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude89\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f\udd00-\udd06\udd08-\udd09\udd0b-\udd30\udd46\udd60-\udd65\udd67-\udd68\udd6a-\udd89\udd98\udee0-\udef2]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf50\udf93-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud838[\udd00-\udd2c\udd37-\udd3d\udd4e\udec0-\udeeb]|\ud83a[\udc00-\udcc4\udd00-\udd43\udd4b]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\}))(([\u0030-\u0039\u0041-\u005a\u005f\u0061-\u007a\u00aa\u00b5\u00b7\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u05d0-\u05ea\u05ef-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u07fd\u0800-\u082d\u0840-\u085b\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u08d3-\u08e1\u08e3-\u0963\u0966-\u096f\u0971-\u0983\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7-\u09c8\u09cb-\u09ce\u09d7\u09dc-\u09dd\u09df-\u09e3\u09e6-\u09f1\u09fc\u09fe\u0a01-\u0a03\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a3c\u0a3e-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0af9-\u0aff\u0b01-\u0b03\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47-\u0b48\u0b4b-\u0b4d\u0b56-\u0b57\u0b5c-\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82-\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c00-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c58-\u0c5a\u0c60-\u0c63\u0c66-\u0c6f\u0c80-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5-\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1-\u0cf2\u0d00-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d54-\u0d57\u0d5f-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82-\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2-\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18-\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1369-\u1371\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772-\u1773\u1780-\u17d3\u17d7\u17dc-\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1878\u1880-\u18aa\u18b0-\u18f5\u1900-\u191e\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19da\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1ab0-\u1abd\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1cd0-\u1cd2\u1cd4-\u1cfa\u1d00-\u1df9\u1dfb-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u203f-\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua827\ua840-\ua873\ua880-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua8fd-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\ua9e0-\ua9fe\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabea\uabec-\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe2f\ufe33-\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\uddfd\ude80-\ude9c\udea0-\uded0\udee0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf7a\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udca0-\udca9\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00-\ude03\ude05-\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude35\ude38-\ude3a\ude3f\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee6\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd27\udd30-\udd39\udf00-\udf1c\udf27\udf30-\udf50\udfe0-\udff6]|\ud804[\udc00-\udc46\udc66-\udc6f\udc7f-\udcba\udcd0-\udce8\udcf0-\udcf9\udd00-\udd34\udd36-\udd3f\udd44-\udd46\udd50-\udd73\udd76\udd80-\uddc4\uddc9-\uddcc\uddd0-\uddda\udddc\ude00-\ude11\ude13-\ude37\ude3e\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udeea\udef0-\udef9\udf00-\udf03\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3b-\udf44\udf47-\udf48\udf4b-\udf4d\udf50\udf57\udf5d-\udf63\udf66-\udf6c\udf70-\udf74]|\ud805[\udc00-\udc4a\udc50-\udc59\udc5e-\udc5f\udc80-\udcc5\udcc7\udcd0-\udcd9\udd80-\uddb5\uddb8-\uddc0\uddd8-\udddd\ude00-\ude40\ude44\ude50-\ude59\ude80-\udeb8\udec0-\udec9\udf00-\udf1a\udf1d-\udf2b\udf30-\udf39]|\ud806[\udc00-\udc3a\udca0-\udce9\udcff\udda0-\udda7\uddaa-\uddd7\uddda-\udde1\udde3-\udde4\ude00-\ude3e\ude47\ude50-\ude99\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc40\udc50-\udc59\udc72-\udc8f\udc92-\udca7\udca9-\udcb6\udd00-\udd06\udd08-\udd09\udd0b-\udd36\udd3a\udd3c-\udd3d\udd3f-\udd47\udd50-\udd59\udd60-\udd65\udd67-\udd68\udd6a-\udd8e\udd90-\udd91\udd93-\udd98\udda0-\udda9\udee0-\udef6]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\ude60-\ude69\uded0-\udeed\udef0-\udef4\udf00-\udf36\udf40-\udf43\udf50-\udf59\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf4f-\udf87\udf8f-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9d-\udc9e]|\ud834[\udd65-\udd69\udd6d-\udd72\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb\udfce-\udfff]|\ud836[\ude00-\ude36\ude3b-\ude6c\ude75\ude84\ude9b-\ude9f\udea1-\udeaf]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23-\udc24\udc26-\udc2a\udd00-\udd2c\udd30-\udd3d\udd40-\udd49\udd4e\udec0-\udef9]|\ud83a[\udc00-\udcc4\udcd0-\udcd6\udd00-\udd4b\udd50-\udd59]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]|\udb40[\udd00-\uddef])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\})|[\u200c\u200d])*>/,function(){var t=W.slice(3,-1);return Yr(t,this.getCurrentState()),"NAMED_GROUP_REF"}],[/^\\b/,function(){return"ESC_b"}],[/^\\B/,function(){return"ESC_B"}],[/^\\c[a-zA-Z]/,function(){return"CTRL_CH"}],[/^\\0\d{1,2}/,function(){return"OCT_CODE"}],[/^\\0/,function(){return"DEC_CODE"}],[/^\\\d{1,3}/,function(){return"DEC_CODE"}],[/^\\u[dD][89abAB][0-9a-fA-F]{2}\\u[dD][c-fC-F][0-9a-fA-F]{2}/,function(){return"U_CODE_SURROGATE"}],[/^\\u\{[0-9a-fA-F]{1,}\}/,function(){return"U_CODE"}],[/^\\u[0-9a-fA-F]{4}/,function(){return"U_CODE"}],[/^\\[pP]\{\w+(?:=\w+)?\}/,function(){return"U_PROP_VALUE_EXP"}],[/^\\x[0-9a-fA-F]{2}/,function(){return"HEX_CODE"}],[/^\\[tnrdDsSwWvf]/,function(){return"META_CHAR"}],[/^\\\//,function(){return"ESC_CHAR"}],[/^\\[ #]/,function(){return"ESC_CHAR"}],[/^\\[\^\$\.\*\+\?\(\)\\\[\]\{\}\|\/]/,function(){return"ESC_CHAR"}],[/^\\[^*?+\[()\\|]/,function(){var t=this.getCurrentState();if(t==="u_class"&&W==="\\-")return"ESC_CHAR";if(t==="u"||t==="xu"||t==="u_class")throw new SyntaxError("invalid Unicode escape "+W);return"ESC_CHAR"}],[/^\(/,function(){return"CHAR"}],[/^\)/,function(){return"CHAR"}],[/^\(\?=/,function(){return"POS_LA_ASSERT"}],[/^\(\?!/,function(){return"NEG_LA_ASSERT"}],[/^\(\?<=/,function(){return"POS_LB_ASSERT"}],[/^\(\?<!/,function(){return"NEG_LB_ASSERT"}],[/^\(\?:/,function(){return"NON_CAPTURE_GROUP"}],[/^\(\?<(([\u0041-\u005a\u0061-\u007a\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4-\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u09fc\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0af9\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60-\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0cf1-\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065-\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae-\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5-\u1cf6\u1cfa\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a-\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd-\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5-\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd23\udf00-\udf1c\udf27\udf30-\udf45\udfe0-\udff6]|\ud804[\udc03-\udc37\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd44\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc5f\udc80-\udcaf\udcc4-\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udeb8\udf00-\udf1a]|\ud806[\udc00-\udc2b\udca0-\udcdf\udcff\udda0-\udda7\uddaa-\uddd0\udde1\udde3\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude89\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f\udd00-\udd06\udd08-\udd09\udd0b-\udd30\udd46\udd60-\udd65\udd67-\udd68\udd6a-\udd89\udd98\udee0-\udef2]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf50\udf93-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud838[\udd00-\udd2c\udd37-\udd3d\udd4e\udec0-\udeeb]|\ud83a[\udc00-\udcc4\udd00-\udd43\udd4b]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\}))(([\u0030-\u0039\u0041-\u005a\u005f\u0061-\u007a\u00aa\u00b5\u00b7\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u05d0-\u05ea\u05ef-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u07fd\u0800-\u082d\u0840-\u085b\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u08d3-\u08e1\u08e3-\u0963\u0966-\u096f\u0971-\u0983\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7-\u09c8\u09cb-\u09ce\u09d7\u09dc-\u09dd\u09df-\u09e3\u09e6-\u09f1\u09fc\u09fe\u0a01-\u0a03\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a3c\u0a3e-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0af9-\u0aff\u0b01-\u0b03\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47-\u0b48\u0b4b-\u0b4d\u0b56-\u0b57\u0b5c-\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82-\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c00-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c58-\u0c5a\u0c60-\u0c63\u0c66-\u0c6f\u0c80-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5-\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1-\u0cf2\u0d00-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d54-\u0d57\u0d5f-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82-\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2-\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18-\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1369-\u1371\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772-\u1773\u1780-\u17d3\u17d7\u17dc-\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1878\u1880-\u18aa\u18b0-\u18f5\u1900-\u191e\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19da\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1ab0-\u1abd\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1cd0-\u1cd2\u1cd4-\u1cfa\u1d00-\u1df9\u1dfb-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u203f-\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua827\ua840-\ua873\ua880-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua8fd-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\ua9e0-\ua9fe\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabea\uabec-\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe2f\ufe33-\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\uddfd\ude80-\ude9c\udea0-\uded0\udee0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf7a\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udca0-\udca9\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00-\ude03\ude05-\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude35\ude38-\ude3a\ude3f\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee6\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd27\udd30-\udd39\udf00-\udf1c\udf27\udf30-\udf50\udfe0-\udff6]|\ud804[\udc00-\udc46\udc66-\udc6f\udc7f-\udcba\udcd0-\udce8\udcf0-\udcf9\udd00-\udd34\udd36-\udd3f\udd44-\udd46\udd50-\udd73\udd76\udd80-\uddc4\uddc9-\uddcc\uddd0-\uddda\udddc\ude00-\ude11\ude13-\ude37\ude3e\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udeea\udef0-\udef9\udf00-\udf03\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3b-\udf44\udf47-\udf48\udf4b-\udf4d\udf50\udf57\udf5d-\udf63\udf66-\udf6c\udf70-\udf74]|\ud805[\udc00-\udc4a\udc50-\udc59\udc5e-\udc5f\udc80-\udcc5\udcc7\udcd0-\udcd9\udd80-\uddb5\uddb8-\uddc0\uddd8-\udddd\ude00-\ude40\ude44\ude50-\ude59\ude80-\udeb8\udec0-\udec9\udf00-\udf1a\udf1d-\udf2b\udf30-\udf39]|\ud806[\udc00-\udc3a\udca0-\udce9\udcff\udda0-\udda7\uddaa-\uddd7\uddda-\udde1\udde3-\udde4\ude00-\ude3e\ude47\ude50-\ude99\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc40\udc50-\udc59\udc72-\udc8f\udc92-\udca7\udca9-\udcb6\udd00-\udd06\udd08-\udd09\udd0b-\udd36\udd3a\udd3c-\udd3d\udd3f-\udd47\udd50-\udd59\udd60-\udd65\udd67-\udd68\udd6a-\udd8e\udd90-\udd91\udd93-\udd98\udda0-\udda9\udee0-\udef6]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\ude60-\ude69\uded0-\udeed\udef0-\udef4\udf00-\udf36\udf40-\udf43\udf50-\udf59\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf4f-\udf87\udf8f-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9d-\udc9e]|\ud834[\udd65-\udd69\udd6d-\udd72\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb\udfce-\udfff]|\ud836[\ude00-\ude36\ude3b-\ude6c\ude75\ude84\ude9b-\ude9f\udea1-\udeaf]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23-\udc24\udc26-\udc2a\udd00-\udd2c\udd30-\udd3d\udd40-\udd49\udd4e\udec0-\udef9]|\ud83a[\udc00-\udcc4\udcd0-\udcd6\udd00-\udd4b\udd50-\udd59]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]|\udb40[\udd00-\uddef])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\})|[\u200c\u200d])*>/,function(){return W=W.slice(3,-1),Yr(W,this.getCurrentState()),"NAMED_CAPTURE_GROUP"}],[/^\(/,function(){return"L_PAREN"}],[/^\)/,function(){return"R_PAREN"}],[/^[*?+[^$]/,function(){return"CHAR"}],[/^\\\]/,function(){return"ESC_CHAR"}],[/^\]/,function(){return this.popState(),"R_BRACKET"}],[/^\^/,function(){return"BOS"}],[/^\$/,function(){return"EOS"}],[/^\*/,function(){return"STAR"}],[/^\?/,function(){return"Q_MARK"}],[/^\+/,function(){return"PLUS"}],[/^\|/,function(){return"BAR"}],[/^\./,function(){return"ANY"}],[/^\//,function(){return"SLASH"}],[/^[^*?+\[()\\|]/,function(){return"CHAR"}],[/^\[\^/,function(){var t=this.getCurrentState();return this.pushState(t==="u"||t==="xu"?"u_class":"class"),"NEG_CLASS"}],[/^\[/,function(){var t=this.getCurrentState();return this.pushState(t==="u"||t==="xu"?"u_class":"class"),"L_BRACKET"}]],ps={INITIAL:[8,9,10,11,12,13,14,15,16,17,20,22,23,24,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],u:[8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],xu:[0,1,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],x:[0,1,8,9,10,11,12,13,14,15,16,17,20,22,23,24,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],u_class:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],class:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,20,22,23,24,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51]},jr={type:$r,value:""};U={initString:function(e){return this._string=e,this._cursor=0,this._states=["INITIAL"],this._tokensQueue=[],this._currentLine=1,this._currentColumn=0,this._currentLineBeginOffset=0,this._tokenStartOffset=0,this._tokenEndOffset=0,this._tokenStartLine=1,this._tokenEndLine=1,this._tokenStartColumn=0,this._tokenEndColumn=0,this},getStates:function(){return this._states},getCurrentState:function(){return this._states[this._states.length-1]},pushState:function(e){this._states.push(e)},begin:function(e){this.pushState(e)},popState:function(){return this._states.length>1?this._states.pop():this._states[0]},getNextToken:function(){if(this._tokensQueue.length>0)return this.onToken(this._toToken(this._tokensQueue.shift()));if(!this.hasMoreTokens())return this.onToken(jr);for(var e=this._string.slice(this._cursor),r=ps[this.getCurrentState()],n=0;n<r.length;n++){var u=r[n],a=gs[u],s=this._match(e,a[0]);if(e===""&&s===""&&this._cursor++,s!==null){W=s,Hr=W.length;var i=a[1].call(this);if(!i)return this.getNextToken();if(Array.isArray(i)){var d=i.slice(1);if(i=i[0],d.length>0){var o;(o=this._tokensQueue).unshift.apply(o,Gr(d))}}return this.onToken(this._toToken(i,W))}}if(this.isEOF())return this._cursor++,jr;this.throwUnexpectedToken(e[0],this._currentLine,this._currentColumn)},throwUnexpectedToken:function(e,r,n){var u=this._string.split(`
`)[r-1],a="";if(u){var s=" ".repeat(n);a=`

`+u+`
`+s+`^
`}throw new SyntaxError(a+'Unexpected token: "'+e+'" '+("at "+r+":"+n+"."))},getCursor:function(){return this._cursor},getCurrentLine:function(){return this._currentLine},getCurrentColumn:function(){return this._currentColumn},_captureLocation:function(e){var r=/\n/g;this._tokenStartOffset=this._cursor,this._tokenStartLine=this._currentLine,this._tokenStartColumn=this._tokenStartOffset-this._currentLineBeginOffset;for(var n=void 0;(n=r.exec(e))!==null;)this._currentLine++,this._currentLineBeginOffset=this._tokenStartOffset+n.index+1;this._tokenEndOffset=this._cursor+e.length,this._tokenEndLine=this._currentLine,this._tokenEndColumn=this._currentColumn=this._tokenEndOffset-this._currentLineBeginOffset},_toToken:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return{type:e,value:r,startOffset:this._tokenStartOffset,endOffset:this._tokenEndOffset,startLine:this._tokenStartLine,endLine:this._tokenEndLine,startColumn:this._tokenStartColumn,endColumn:this._tokenEndColumn}},isEOF:function(){return this._cursor===this._string.length},hasMoreTokens:function(){return this._cursor<=this._string.length},_match:function(e,r){var n=e.match(r);return n?(this._captureLocation(n[0]),this._cursor+=n[0].length,n[0]):null},onToken:function(e){return e}};R.lexer=U;R.tokenizer=U;R.options={captureLocations:!0};var ke={setOptions:function(e){return R.options=e,this},getOptions:function(){return R.options},parse:function(e,r){if(!U)throw new Error("Tokenizer instance wasn't specified.");U.initString(e);var n=R.options;r&&(R.options=Object.assign({},R.options,r)),ke.onParseBegin(e,U,R.options),N.length=0,N.push(0);var u=U.getNextToken(),a=null;do{u||(R.options=n,Qr());var s=N[N.length-1],i=zr[u.type];Ut[s].hasOwnProperty(i)||(R.options=n,Xr(u));var d=Ut[s][i];if(d[0]==="s"){var o=null;R.options.captureLocations&&(o={startOffset:u.startOffset,endOffset:u.endOffset,startLine:u.startLine,endLine:u.endLine,startColumn:u.startColumn,endColumn:u.endColumn}),a=this.onShift(u),N.push({symbol:zr[a.type],semanticValue:a.value,loc:o},Number(d.slice(1))),u=U.getNextToken()}else if(d[0]==="r"){var c=d.slice(1),f=hs[c],l=typeof f[2]=="function",h=l?[]:null,p=l&&R.options.captureLocations?[]:null;if(f[1]!==0)for(var g=f[1];g-- >0;){N.pop();var m=N.pop();l&&(h.unshift(m.semanticValue),p&&p.unshift(m.loc))}var b={symbol:f[0]};if(l){W=a?a.value:null,Hr=a?a.value.length:null;var k=p!==null?h.concat(p):h;f[2].apply(f,Gr(k)),b.semanticValue=S,p&&(b.loc=v)}var y=N[N.length-1],T=f[0];N.push(b,Ut[y][T])}else if(d==="acc"){N.pop();var E=N.pop();return(N.length!==1||N[0]!==0||U.hasMoreTokens())&&(R.options=n,Xr(u)),E.hasOwnProperty("semanticValue")?(R.options=n,ke.onParseEnd(E.semanticValue),E.semanticValue):(ke.onParseEnd(),R.options=n,!0)}}while(U.hasMoreTokens()||N.length>1)},setTokenizer:function(e){return U=e,ke},getTokenizer:function(){return U},onParseBegin:function(e,r,n){},onParseEnd:function(e){},onShift:function(e){return e}},Gt=0,Ve={},qr="";ke.onParseBegin=function(t,e){qr=t,Gt=0,Ve={};var r=t.lastIndexOf("/"),n=t.slice(r);n.includes("x")&&n.includes("u")?e.pushState("xu"):(n.includes("x")&&e.pushState("x"),n.includes("u")&&e.pushState("u"))};ke.onShift=function(t){return(t.type==="L_PAREN"||t.type==="NAMED_CAPTURE_GROUP")&&(t.value=new String(t.value),t.value.groupNumber=++Gt),t};function Ht(t){var e=t.match(/\d+/g).map(Number);if(Number.isFinite(e[1])&&e[1]<e[0])throw new SyntaxError("Numbers out of order in "+t+" quantifier");return e}function Wr(t,e){if(t.kind==="control"||e.kind==="control"||!isNaN(t.codePoint)&&!isNaN(e.codePoint)&&t.codePoint>e.codePoint)throw new SyntaxError("Range "+t.value+"-"+e.value+" out of order in character class")}var Ce=Ur();function ms(t,e){var r=t[1]==="P",n=t.indexOf("="),u=t.slice(3,n!==-1?n:-1),a=void 0,s=n===-1&&Ce.isGeneralCategoryValue(u),i=n===-1&&Ce.isBinaryPropertyName(u);if(s)a=u,u="General_Category";else if(i)a=u;else{if(!Ce.isValidName(u))throw new SyntaxError("Invalid unicode property name: "+u+".");if(a=t.slice(n+1,-1),!Ce.isValidValue(u,a))throw new SyntaxError("Invalid "+u+" unicode property value: "+a+".")}return I({type:"UnicodeProperty",name:u,value:a,negative:r,shorthand:s,binary:i,canonicalName:Ce.getCanonicalName(u)||u,canonicalValue:Ce.getCanonicalValue(a)||a},e)}function O(t,e,r){var n=void 0,u=void 0;switch(e){case"decimal":{u=Number(t.slice(1)),n=String.fromCodePoint(u);break}case"oct":{u=parseInt(t.slice(1),8),n=String.fromCodePoint(u);break}case"hex":case"unicode":{if(t.lastIndexOf("\\u")>0){var a=t.split("\\u").slice(1),s=ls(a,2),i=s[0],d=s[1];i=parseInt(i,16),d=parseInt(d,16),u=(i-55296)*1024+(d-56320)+65536,n=String.fromCodePoint(u)}else{var o=t.slice(2).replace("{","");if(u=parseInt(o,16),u>1114111)throw new SyntaxError("Bad character escape sequence: "+t);n=String.fromCodePoint(u)}break}case"meta":{switch(t){case"\\t":n="	",u=n.codePointAt(0);break;case"\\n":n=`
`,u=n.codePointAt(0);break;case"\\r":n="\r",u=n.codePointAt(0);break;case"\\v":n="\v",u=n.codePointAt(0);break;case"\\f":n="\f",u=n.codePointAt(0);break;case"\\b":n="\b",u=n.codePointAt(0);case"\\0":n="\0",u=0;case".":n=".",u=NaN;break;default:u=NaN}break}case"simple":{n=t,u=n.codePointAt(0);break}}return I({type:"Char",value:t,kind:e,symbol:n,codePoint:u},r)}var bs="gimsuxy";function ks(t){var e=new Set,r=!0,n=!1,u=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=!0){var i=s.value;if(e.has(i)||!bs.includes(i))throw new SyntaxError("Invalid flags: "+t);e.add(i)}}catch(d){n=!0,u=d}finally{try{!r&&a.return&&a.return()}finally{if(n)throw u}}return t.split("").sort().join("")}function vs(t,e){var r=Number(t.slice(1));return r>0&&r<=Gt?I({type:"Backreference",kind:"number",number:r,reference:r},e):O(t,"decimal",e)}var Ss=/^\\u[0-9a-fA-F]{4}/,ys=/^\\u\{[0-9a-fA-F]{1,}\}/,Ts=/\\u\{[0-9a-fA-F]{1,}\}/;function Yr(t,e){var r=Ts.test(t),n=e==="u"||e==="xu"||e==="u_class";if(r&&!n)throw new SyntaxError('invalid group Unicode name "'+t+'", use `u` flag.');return t}var Cs=/\\u(?:([dD][89aAbB][0-9a-fA-F]{2})\\u([dD][c-fC-F][0-9a-fA-F]{2})|([dD][89aAbB][0-9a-fA-F]{2})|([dD][c-fC-F][0-9a-fA-F]{2})|([0-9a-ce-fA-CE-F][0-9a-fA-F]{3}|[dD][0-7][0-9a-fA-F]{2})|\{(0*(?:[0-9a-fA-F]{1,5}|10[0-9a-fA-F]{4}))\})/;function Kr(t){return t.replace(new RegExp(Cs,"g"),function(e,r,n,u,a,s,i){return r?String.fromCodePoint(parseInt(r,16),parseInt(n,16)):u?String.fromCodePoint(parseInt(u,16)):a?String.fromCodePoint(parseInt(a,16)):s?String.fromCodePoint(parseInt(s,16)):i?String.fromCodePoint(parseInt(i,16)):e})}function Ps(t,e){var r=t.slice(3,-1),n=Kr(r);if(Ve.hasOwnProperty(n))return I({type:"Backreference",kind:"name",number:Ve[n],reference:n,referenceRaw:r},e);var u=null,a=null,s=null,i=null;e&&(u=e.startOffset,a=e.startLine,s=e.endLine,i=e.startColumn);var d=/^[\w$<>]/,o=void 0,c=[O(t.slice(1,2),"simple",u?{startLine:a,endLine:s,startColumn:i,startOffset:u,endOffset:u+=2,endColumn:i+=2}:null)];for(c[0].escaped=!0,t=t.slice(2);t.length>0;){var f=null;(f=t.match(Ss))||(f=t.match(ys))?(u&&(o={startLine:a,endLine:s,startColumn:i,startOffset:u,endOffset:u+=f[0].length,endColumn:i+=f[0].length}),c.push(O(f[0],"unicode",o)),t=t.slice(f[0].length)):(f=t.match(d))&&(u&&(o={startLine:a,endLine:s,startColumn:i,startOffset:u,endOffset:++u,endColumn:++i}),c.push(O(f[0],"simple",o)),t=t.slice(1))}return c}function I(t,e){return R.options.captureLocations&&(t.loc={source:qr.slice(e.startOffset,e.endOffset),start:{line:e.startLine,column:e.startColumn,offset:e.startOffset},end:{line:e.endLine,column:e.endColumn,offset:e.endOffset}}),t}function rt(t,e){return R.options.captureLocations?{startOffset:t.startOffset,endOffset:e.endOffset,startLine:t.startLine,endLine:e.endLine,startColumn:t.startColumn,endColumn:e.endColumn}:null}function Xr(t){t.type===$r&&Qr(),U.throwUnexpectedToken(t.value,t.startLine,t.startColumn)}function Qr(){xs("Unexpected end of input.")}function xs(t){throw new SyntaxError(t)}Zr.exports=ke});var Ge=x((Lo,en)=>{"use strict";var Ue=Jr(),Es=Ue.parse.bind(Ue);Ue.parse=function(t,e){return Es(""+t,e)};Ue.setOptions({captureLocations:!1});en.exports=Ue});var ut=x((No,rn)=>{"use strict";var ws=function(){function t(e,r){for(var n=0;n<r.length;n++){var u=r[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(e,u.key,u)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function Ms(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var nt="expressions",tn="expression",$t=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;Ms(this,t),this.node=e,this.parentPath=r,this.parent=r?r.node:null,this.property=n,this.index=u}return ws(t,[{key:"_enforceProp",value:function(r){if(!this.node.hasOwnProperty(r))throw new Error("Node of type "+this.node.type+` doesn't have "`+r+'" collection.')}},{key:"setChild",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=void 0;return n!=null?(u||(u=nt),this._enforceProp(u),this.node[u][n]=r,a=t.getForNode(r,this,u,n)):(u||(u=tn),this._enforceProp(u),this.node[u]=r,a=t.getForNode(r,this,u,null)),a}},{key:"appendChild",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;n||(n=nt),this._enforceProp(n);var u=this.node[n].length;return this.setChild(r,u,n)}},{key:"insertChildAt",value:function(r,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:nt;this._enforceProp(u),this.node[u].splice(n,0,r),n<=t.getTraversingIndex()&&t.updateTraversingIndex(1),this._rebuildIndex(this.node,u)}},{key:"remove",value:function(){if(!this.isRemoved()&&(t.registry.delete(this.node),this.node=null,!!this.parent)){if(this.index!==null){this.parent[this.property].splice(this.index,1),this.index<=t.getTraversingIndex()&&t.updateTraversingIndex(-1),this._rebuildIndex(this.parent,this.property),this.index=null,this.property=null;return}delete this.parent[this.property],this.property=null}}},{key:"_rebuildIndex",value:function(r,n){for(var u=t.getForNode(r),a=0;a<r[n].length;a++){var s=t.getForNode(r[n][a],u,n,a);s.index=a}}},{key:"isRemoved",value:function(){return this.node===null}},{key:"replace",value:function(r){return t.registry.delete(this.node),this.node=r,this.parent?(this.index!==null?this.parent[this.property][this.index]=r:this.parent[this.property]=r,t.getForNode(r,this.parentPath,this.property,this.index)):null}},{key:"update",value:function(r){Object.assign(this.node,r)}},{key:"getParent",value:function(){return this.parentPath}},{key:"getChild",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.node.expressions?t.getForNode(this.node.expressions[r],this,nt,r):this.node.expression&&r==0?t.getForNode(this.node.expression,this,tn):null}},{key:"hasEqualSource",value:function(r){return JSON.stringify(this.node,zt)===JSON.stringify(r.node,zt)}},{key:"jsonEncode",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.format,u=r.useLoc;return JSON.stringify(this.node,u?null:zt,n)}},{key:"getPreviousSibling",value:function(){return!this.parent||this.index==null?null:t.getForNode(this.parent[this.property][this.index-1],t.getForNode(this.parent),this.property,this.index-1)}},{key:"getNextSibling",value:function(){return!this.parent||this.index==null?null:t.getForNode(this.parent[this.property][this.index+1],t.getForNode(this.parent),this.property,this.index+1)}}],[{key:"getForNode",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1;if(!r)return null;t.registry.has(r)||t.registry.set(r,new t(r,n,u,a==-1?null:a));var s=t.registry.get(r);return n!==null&&(s.parentPath=n,s.parent=s.parentPath.node),u!==null&&(s.property=u),a>=0&&(s.index=a),s}},{key:"initRegistry",value:function(){t.registry||(t.registry=new Map),t.registry.clear()}},{key:"updateTraversingIndex",value:function(r){return t.traversingIndexStack[t.traversingIndexStack.length-1]+=r}},{key:"getTraversingIndex",value:function(){return t.traversingIndexStack[t.traversingIndexStack.length-1]}}]),t}();$t.initRegistry();$t.traversingIndexStack=[];function zt(t,e){if(t!=="loc")return e}rn.exports=$t});var jt=x((Oo,nn)=>{"use strict";var Pe=ut();function As(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.pre,n=e.post,u=e.skipProperty;function a(s,i,d,o){if(!(!s||typeof s.type!="string")){var c=void 0;if(r&&(c=r(s,i,d,o)),c!==!1){i&&i[d]&&(isNaN(o)?s=i[d]:s=i[d][o]);for(var f in s)if(s.hasOwnProperty(f)){if(u?u(f,s):f[0]==="$")continue;var l=s[f];if(Array.isArray(l)){var h=0;for(Pe.traversingIndexStack.push(h);h<l.length;)a(l[h],s,f,h),h=Pe.updateTraversingIndex(1);Pe.traversingIndexStack.pop()}else a(l,s,f)}}n&&n(s,i,d,o)}}a(t,null)}nn.exports={traverse:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{asNodes:!1};Array.isArray(r)||(r=[r]),r=r.filter(function(a){return typeof a.shouldRun!="function"?!0:a.shouldRun(e)}),Pe.initRegistry(),r.forEach(function(a){typeof a.init=="function"&&a.init(e)});function u(a,s,i,d){var o=Pe.getForNode(s),c=Pe.getForNode(a,o,i,d);return c}As(e,{pre:function(s,i,d,o){var c=void 0;n.asNodes||(c=u(s,i,d,o));var f=!0,l=!1,h=void 0;try{for(var p=r[Symbol.iterator](),g;!(f=(g=p.next()).done);f=!0){var m=g.value;if(typeof m["*"]=="function")if(c){if(!c.isRemoved()){var b=m["*"](c);if(b===!1)return!1}}else m["*"](s,i,d,o);var k=void 0;if(typeof m[s.type]=="function"?k=m[s.type]:typeof m[s.type]=="object"&&typeof m[s.type].pre=="function"&&(k=m[s.type].pre),k)if(c){if(!c.isRemoved()){var y=k.call(m,c);if(y===!1)return!1}}else k.call(m,s,i,d,o)}}catch(T){l=!0,h=T}finally{try{!f&&p.return&&p.return()}finally{if(l)throw h}}},post:function(s,i,d,o){if(!!s){var c=void 0;n.asNodes||(c=u(s,i,d,o));var f=!0,l=!1,h=void 0;try{for(var p=r[Symbol.iterator](),g;!(f=(g=p.next()).done);f=!0){var m=g.value,b=void 0;if(typeof m[s.type]=="object"&&typeof m[s.type].post=="function"&&(b=m[s.type].post),b)if(c){if(!c.isRemoved()){var k=b.call(m,c);if(k===!1)return!1}}else b.call(m,s,i,d,o)}}catch(y){l=!0,h=y}finally{try{!f&&p.return&&p.return()}finally{if(l)throw h}}}},skipProperty:function(s){return s==="loc"}})}}});var at=x((Do,sn)=>{"use strict";var Is=function(){function t(e,r){for(var n=0;n<r.length;n++){var u=r[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(e,u.key,u)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function _s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var un=Dt(),Rs=Ge(),Ls=jt(),an=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;_s(this,t),this._ast=e,this._source=null,this._string=null,this._regexp=null,this._extra=r}return Is(t,[{key:"getAST",value:function(){return this._ast}},{key:"setExtra",value:function(r){this._extra=r}},{key:"getExtra",value:function(){return this._extra}},{key:"toRegExp",value:function(){return this._regexp||(this._regexp=new RegExp(this.getSource(),this._ast.flags)),this._regexp}},{key:"getSource",value:function(){return this._source||(this._source=un.generate(this._ast.body)),this._source}},{key:"getFlags",value:function(){return this._ast.flags}},{key:"toString",value:function(){return this._string||(this._string=un.generate(this._ast)),this._string}}]),t}();sn.exports={TransformResult:an,transform:function(e,r){var n=e;return e instanceof RegExp&&(e=""+e),typeof e=="string"&&(n=Rs.parse(e,{captureLocations:!0})),Ls.traverse(n,r),new an(n)}}});var on=x((Fo,dn)=>{"use strict";var st=Or(),Ns=at();dn.exports={transform:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=r.length>0?r:Object.keys(st),u=void 0,a={};return n.forEach(function(s){if(!st.hasOwnProperty(s))throw new Error("Unknown compat-transform: "+s+". Available transforms are: "+Object.keys(st).join(", "));var i=st[s];u=Ns.transform(e,i),e=u.getAST(),typeof i.getExtra=="function"&&(a[s]=i.getExtra())}),u.setExtra(a),u}}});var fn=x((Bo,cn)=>{"use strict";cn.exports=function t(e){if(e===null||typeof e!="object")return e;var r=void 0;Array.isArray(e)?r=[]:r={};for(var n in e)r[n]=t(e[n]);return r}});var hn=x((Vo,ln)=>{"use strict";ln.exports={shouldRun:function(e){return e.flags.includes("u")},Char:function(e){var r=e.node;r.kind!=="unicode"||!r.isSurrogatePair||isNaN(r.codePoint)||(r.value="\\u{"+r.codePoint.toString(16)+"}",delete r.isSurrogatePair)}}});var yn=x((Uo,Sn)=>{"use strict";var gn="A".codePointAt(0),pn="Z".codePointAt(0),mn="a".codePointAt(0),bn="z".codePointAt(0),kn="0".codePointAt(0),vn="9".codePointAt(0);Sn.exports={Char:function(e){var r=e.node,n=e.parent;if(!(isNaN(r.codePoint)||r.kind==="simple")&&!(n.type==="ClassRange"&&!Os(n))&&!!Ds(r.codePoint)){var u=String.fromCodePoint(r.codePoint),a={type:"Char",kind:"simple",value:u,symbol:u,codePoint:r.codePoint};Fs(u,n.type)&&(a.escaped=!0),e.replace(a)}}};function Os(t){var e=t.from,r=t.to;return e.codePoint>=kn&&e.codePoint<=vn&&r.codePoint>=kn&&r.codePoint<=vn||e.codePoint>=gn&&e.codePoint<=pn&&r.codePoint>=gn&&r.codePoint<=pn||e.codePoint>=mn&&e.codePoint<=bn&&r.codePoint>=mn&&r.codePoint<=bn}function Ds(t){return t>=32&&t<=126}function Fs(t,e){return e==="ClassRange"||e==="CharacterClass"?/[\]\\^-]/.test(t):/[*[()+?^$./\\|{}]/.test(t)}});var xn=x((Go,Pn)=>{"use strict";var Tn="A".codePointAt(0),Cn="Z".codePointAt(0);Pn.exports={_AZClassRanges:null,_hasUFlag:!1,init:function(e){this._AZClassRanges=new Set,this._hasUFlag=e.flags.includes("u")},shouldRun:function(e){return e.flags.includes("i")},Char:function(e){var r=e.node,n=e.parent;if(!isNaN(r.codePoint)&&!(!this._hasUFlag&&r.codePoint>=4096)){if(n.type==="ClassRange"){if(!this._AZClassRanges.has(n)&&!Bs(n))return;this._AZClassRanges.add(n)}var u=r.symbol.toLowerCase();u!==r.symbol&&(r.value=Vs(u,r),r.symbol=u,r.codePoint=u.codePointAt(0))}}};function Bs(t){var e=t.from,r=t.to;return e.codePoint>=Tn&&e.codePoint<=Cn&&r.codePoint>=Tn&&r.codePoint<=Cn}function Vs(t,e){var r=t.codePointAt(0);if(e.kind==="decimal")return"\\"+r;if(e.kind==="oct")return"\\0"+r.toString(8);if(e.kind==="hex")return"\\x"+r.toString(16);if(e.kind==="unicode")if(e.isSurrogatePair){var n=Us(r),u=n.lead,a=n.trail;return"\\u"+"0".repeat(4-u.length)+u+"\\u"+"0".repeat(4-a.length)+a}else{if(e.value.includes("{"))return"\\u{"+r.toString(16)+"}";var s=r.toString(16);return"\\u"+"0".repeat(4-s.length)+s}return t}function Us(t){var e=Math.floor((t-65536)/1024)+55296,r=(t-65536)%1024+56320;return{lead:e.toString(16),trail:r.toString(16)}}});var wn=x((Ho,En)=>{"use strict";En.exports={CharacterClass:function(e){for(var r=e.node,n={},u=0;u<r.expressions.length;u++){var a=e.getChild(u),s=a.jsonEncode();n.hasOwnProperty(s)&&(a.remove(),u--),n[s]=!0}}}});var it=x(($o,An)=>{"use strict";function Gs(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}function Mn(t){if(t.type!=="Disjunction")throw new TypeError('Expected "Disjunction" node, got "'+t.type+'"');var e=[];return t.left&&t.left.type==="Disjunction"?e.push.apply(e,Gs(Mn(t.left)).concat([t.right])):e.push(t.left,t.right),e}function Hs(t){return t.reduce(function(e,r){return{type:"Disjunction",left:e,right:r}})}function $s(t){t.kind==="*"?t.kind="+":t.kind==="+"?(t.kind="Range",t.from=2,delete t.to):t.kind==="?"?(t.kind="Range",t.from=1,t.to=2):t.kind==="Range"&&(t.from+=1,t.to&&(t.to+=1))}An.exports={disjunctionToList:Mn,listToDisjunction:Hs,increaseQuantifierByOne:$s}});var Rn=x((zo,_n)=>{"use strict";var zs=it(),js=zs.increaseQuantifierByOne;_n.exports={Repetition:function(e){var r=e.node,n=e.parent;if(!(n.type!=="Alternative"||!e.index)){var u=e.getPreviousSibling();if(!!u)if(u.node.type==="Repetition"){if(!u.getChild().hasEqualSource(e.getChild()))return;var a=In(u.node.quantifier),s=a.from,i=a.to,d=In(r.quantifier),o=d.from,c=d.to;if(u.node.quantifier.greedy!==r.quantifier.greedy&&!dt(u.node.quantifier)&&!dt(r.quantifier))return;r.quantifier.kind="Range",r.quantifier.from=s+o,i&&c?r.quantifier.to=i+c:delete r.quantifier.to,(dt(u.node.quantifier)||dt(r.quantifier))&&(r.quantifier.greedy=!0),u.remove()}else{if(!u.hasEqualSource(e.getChild()))return;js(r.quantifier),u.remove()}}}};function dt(t){return t.greedy&&(t.kind==="+"||t.kind==="*"||t.kind==="Range"&&!t.to)}function In(t){var e=void 0,r=void 0;return t.kind==="*"?e=0:t.kind==="+"?e=1:t.kind==="?"?(e=0,r=1):(e=t.from,t.to&&(r=t.to)),{from:e,to:r}}});var Nn=x((jo,Ln)=>{"use strict";Ln.exports={Quantifier:function(e){var r=e.node;r.kind==="Range"&&(qs(e),Ws(e),Ys(e))}};function qs(t){var e=t.node;e.from!==0||e.to||(e.kind="*",delete e.from)}function Ws(t){var e=t.node;e.from!==1||e.to||(e.kind="+",delete e.from)}function Ys(t){var e=t.node;e.from!==1||e.to!==1||t.parentPath.replace(t.parentPath.node.expression)}});var Dn=x((qo,On)=>{"use strict";On.exports={ClassRange:function(e){var r=e.node;r.from.codePoint===r.to.codePoint?e.replace(r.from):r.from.codePoint===r.to.codePoint-1&&(e.getParent().insertChildAt(r.to,e.index+1),e.replace(r.from))}}});var Un=x((Wo,Vn)=>{"use strict";function Fn(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}Vn.exports={_hasIFlag:!1,_hasUFlag:!1,init:function(e){this._hasIFlag=e.flags.includes("i"),this._hasUFlag=e.flags.includes("u")},CharacterClass:function(e){Ks(e),Xs(e,this._hasIFlag,this._hasUFlag),Qs(e)}};function Ks(t){var e=t.node;e.expressions.forEach(function(r,n){Zs(r)&&t.getChild(n).replace({type:"Char",value:"\\d",kind:"meta"})})}function Xs(t,e,r){var n=t.node,u=null,a=null,s=null,i=null,d=null,o=null;n.expressions.forEach(function(c,f){Wt(c,"\\d")?u=t.getChild(f):Js(c)?a=t.getChild(f):ei(c)?s=t.getChild(f):ti(c)?i=t.getChild(f):e&&r&&He(c,383)?d=t.getChild(f):e&&r&&He(c,8490)&&(o=t.getChild(f))}),u&&(a&&s||e&&(a||s))&&i&&(!r||!e||d&&o)&&(u.replace({type:"Char",value:"\\w",kind:"meta"}),a&&a.remove(),s&&s.remove(),i.remove(),d&&d.remove(),o&&o.remove())}var qt=[function(t){return Bn(t," ")}].concat(Fn(["\\f","\\n","\\r","\\t","\\v"].map(function(t){return function(e){return Wt(e,t)}})),Fn([160,5760,8232,8233,8239,8287,12288,65279].map(function(t){return function(e){return He(e,t)}})),[function(t){return t.type==="ClassRange"&&He(t.from,8192)&&He(t.to,8202)}]);function Qs(t){var e=t.node;if(!(e.expressions.length<qt.length||!qt.every(function(n){return e.expressions.some(function(u){return n(u)})}))){var r=e.expressions.find(function(n){return Wt(n,"\\n")});r.value="\\s",r.symbol=void 0,r.codePoint=NaN,e.expressions.map(function(n,u){return qt.some(function(a){return a(n)})?t.getChild(u):void 0}).filter(Boolean).forEach(function(n){return n.remove()})}}function Zs(t){return t.type==="ClassRange"&&t.from.value==="0"&&t.to.value==="9"}function Bn(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"simple";return t.type==="Char"&&t.value===e&&t.kind===r}function Wt(t,e){return Bn(t,e,"meta")}function Js(t){return t.type==="ClassRange"&&t.from.value==="a"&&t.to.value==="z"}function ei(t){return t.type==="ClassRange"&&t.from.value==="A"&&t.to.value==="Z"}function ti(t){return t.type==="Char"&&t.value==="_"&&t.kind==="simple"}function He(t,e){return t.type==="Char"&&t.kind==="unicode"&&t.codePoint===e}});var Hn=x((Yo,Gn)=>{"use strict";Gn.exports={CharacterClass:function(e){var r=e.node;if(!(r.expressions.length!==1||!ai(e)||!ri(r.expressions[0]))){var n=r.expressions[0],u=n.value,a=n.kind,s=n.escaped;if(r.negative){if(!ni(u))return;u=ui(u)}e.replace({type:"Char",value:u,kind:a,escaped:s||si(u)})}}};function ri(t){return t.type==="Char"&&t.value!=="\\b"}function ni(t){return/^\\[dwsDWS]$/.test(t)}function ui(t){return/[dws]/.test(t)?t.toUpperCase():t.toLowerCase()}function ai(t){var e=t.parent,r=t.index;if(e.type!=="Alternative")return!0;var n=e.expressions[r-1];return n==null?!0:!(n.type==="Backreference"&&n.kind==="number"||n.type==="Char"&&n.kind==="decimal")}function si(t){return/[*[()+?$./{}|]/.test(t)}});var zn=x((Ko,$n)=>{"use strict";$n.exports={_hasXFlag:!1,init:function(e){this._hasXFlag=e.flags.includes("x")},Char:function(e){var r=e.node;!r.escaped||ii(e,this._hasXFlag)&&delete r.escaped}};function ii(t,e){var r=t.node.value,n=t.index,u=t.parent;return u.type!=="CharacterClass"&&u.type!=="ClassRange"?!oi(r,n,u,e):!di(r,n,u)}function di(t,e,r){return t==="^"?e===0&&!r.negative:t==="-"?!0:/[\]\\]/.test(t)}function oi(t,e,r,n){return t==="{"?ci(e,r):t==="}"?fi(e,r):n&&/[ #]/.test(t)?!0:/[*[()+?^$./\\|]/.test(t)}function ot(t,e,r){for(var n=t,u=(r?n>=0:n<e.expressions.length)&&e.expressions[n];u&&u.type==="Char"&&u.kind==="simple"&&!u.escaped&&/\d/.test(u.value);)r?n--:n++,u=(r?n>=0:n<e.expressions.length)&&e.expressions[n];return Math.abs(t-n)}function xe(t,e){return t&&t.type==="Char"&&t.kind==="simple"&&!t.escaped&&t.value===e}function ci(t,e){if(t==null)return!1;var r=ot(t+1,e),n=t+r+1,u=n<e.expressions.length&&e.expressions[n];if(r){if(xe(u,"}"))return!0;if(xe(u,","))return r=ot(n+1,e),n=n+r+1,u=n<e.expressions.length&&e.expressions[n],xe(u,"}")}return!1}function fi(t,e){if(t==null)return!1;var r=ot(t-1,e,!0),n=t-r-1,u=n>=0&&e.expressions[n];return r&&xe(u,"{")?!0:xe(u,",")?(r=ot(n-1,e,!0),n=n-r-1,u=n<e.expressions.length&&e.expressions[n],r&&xe(u,"{")):!1}});var Yn=x((Xo,Wn)=>{"use strict";Wn.exports={_hasIUFlags:!1,init:function(e){this._hasIUFlags=e.flags.includes("i")&&e.flags.includes("u")},CharacterClass:function(e){var r=e.node,n=r.expressions,u=[];n.forEach(function(d){te(d)&&u.push(d.value)}),n.sort(li);for(var a=0;a<n.length;a++){var s=n[a];if(hi(s,u,this._hasIUFlags)||gi(s,n[a-1])||pi(s,n[a+1]))n.splice(a,1),a--;else{var i=mi(s,a,n);n.splice(a-i+1,i),a-=i}}}};function li(t,e){var r=ct(t),n=ct(e);if(r===n){if(t.type==="ClassRange"&&e.type!=="ClassRange")return-1;if(e.type==="ClassRange"&&t.type!=="ClassRange")return 1;if(t.type==="ClassRange"&&e.type==="ClassRange")return ct(t.to)-ct(e.to);if(te(t)&&te(e)||jn(t)&&jn(e))return t.value<e.value?-1:1}return r-n}function ct(t){return t.type==="Char"?t.value==="-"||t.kind==="control"?1/0:t.kind==="meta"&&isNaN(t.codePoint)?-1:t.codePoint:t.from.codePoint}function te(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return t.type==="Char"&&t.kind==="meta"&&(e?t.value===e:/^\\[dws]$/i.test(t.value))}function jn(t){return t.type==="Char"&&t.kind==="control"}function hi(t,e,r){for(var n=0;n<e.length;n++)if(Yt(t,e[n],r))return!0;return!1}function Yt(t,e,r){return t.type==="ClassRange"?Yt(t.from,e,r)&&Yt(t.to,e,r):e==="\\S"&&(te(t,"\\w")||te(t,"\\d"))||e==="\\D"&&(te(t,"\\W")||te(t,"\\s"))||e==="\\w"&&te(t,"\\d")||e==="\\W"&&te(t,"\\s")?!0:t.type!=="Char"||isNaN(t.codePoint)?!1:e==="\\s"?qn(t):e==="\\S"?!qn(t):e==="\\d"?Kt(t):e==="\\D"?!Kt(t):e==="\\w"?Xt(t,r):e==="\\W"?!Xt(t,r):!1}function qn(t){return t.codePoint===9||t.codePoint===10||t.codePoint===11||t.codePoint===12||t.codePoint===13||t.codePoint===32||t.codePoint===160||t.codePoint===5760||t.codePoint>=8192&&t.codePoint<=8202||t.codePoint===8232||t.codePoint===8233||t.codePoint===8239||t.codePoint===8287||t.codePoint===12288||t.codePoint===65279}function Kt(t){return t.codePoint>=48&&t.codePoint<=57}function Xt(t,e){return Kt(t)||t.codePoint>=65&&t.codePoint<=90||t.codePoint>=97&&t.codePoint<=122||t.value==="_"||e&&(t.codePoint===383||t.codePoint===8490)}function gi(t,e){if(e&&e.type==="ClassRange"){if(Qt(t,e))return!0;if(ft(t)&&e.to.codePoint===t.codePoint-1)return e.to=t,!0;if(t.type==="ClassRange"&&t.from.codePoint<=e.to.codePoint+1&&t.to.codePoint>=e.from.codePoint-1)return t.from.codePoint<e.from.codePoint&&(e.from=t.from),t.to.codePoint>e.to.codePoint&&(e.to=t.to),!0}return!1}function pi(t,e){return e&&e.type==="ClassRange"&&ft(t)&&e.from.codePoint===t.codePoint+1?(e.from=t,!0):!1}function Qt(t,e){return t.type==="Char"&&isNaN(t.codePoint)?!1:t.type==="ClassRange"?Qt(t.from,e)&&Qt(t.to,e):t.codePoint>=e.from.codePoint&&t.codePoint<=e.to.codePoint}function mi(t,e,r){if(!ft(t))return 0;for(var n=0;e>0;){var u=r[e],a=r[e-1];if(ft(a)&&a.codePoint===u.codePoint-1)n++,e--;else break}return n>1?(r[e]={type:"ClassRange",from:r[e],to:t},n):0}function ft(t){return t&&t.type==="Char"&&!isNaN(t.codePoint)&&(Xt(t,!1)||t.kind==="unicode"||t.kind==="hex"||t.kind==="oct"||t.kind==="decimal")}});var Qn=x((Qo,Xn)=>{"use strict";var bi=ut(),Kn=it(),ki=Kn.disjunctionToList,vi=Kn.listToDisjunction;Xn.exports={Disjunction:function(e){var r=e.node,n={},u=ki(r).filter(function(a){var s=a?bi.getForNode(a).jsonEncode():"null";return n.hasOwnProperty(s)?!1:(n[s]=a,!0)});e.replace(vi(u))}}});var eu=x((Zo,Jn)=>{"use strict";Jn.exports={Disjunction:function(e){var r=e.node,n=e.parent;if(!!Zn[n.type]){var u=new Map;if(!(!lt(r,u)||!u.size)){var a={type:"CharacterClass",expressions:Array.from(u.keys()).sort().map(function(s){return u.get(s)})};Zn[n.type](e.getParent(),a)}}}};var Zn={RegExp:function(e,r){var n=e.node;n.body=r},Group:function(e,r){var n=e.node;n.capturing?n.expression=r:e.replace(r)}};function lt(t,e){if(!t)return!1;var r=t.type;if(r==="Disjunction"){var n=t.left,u=t.right;return lt(n,e)&&lt(u,e)}else if(r==="Char"){if(t.kind==="meta"&&t.symbol===".")return!1;var a=t.value;return e.set(a,t),!0}else if(r==="CharacterClass"&&!t.negative)return t.expressions.every(function(s){return lt(s,e)});return!1}});var ru=x((Jo,tu)=>{"use strict";tu.exports={Group:function(e){var r=e.node,n=e.parent,u=e.getChild();r.capturing||u||(n.type==="Repetition"?e.getParent().replace(r):n.type!=="RegExp"&&e.remove())}}});var uu=x((ec,nu)=>{"use strict";function Zt(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}nu.exports={Group:function(e){var r=e.node,n=e.parent,u=e.getChild();if(!(r.capturing||!u)&&!!Si(e)&&!(u.node.type==="Disjunction"&&n.type!=="RegExp")&&!(n.type==="Repetition"&&u.node.type!=="Char"&&u.node.type!=="CharacterClass"))if(u.node.type==="Alternative"){var a=e.getParent();a.node.type==="Alternative"&&a.replace({type:"Alternative",expressions:[].concat(Zt(n.expressions.slice(0,e.index)),Zt(u.node.expressions),Zt(n.expressions.slice(e.index+1)))})}else e.replace(u.node)}};function Si(t){var e=t.parent,r=t.index;if(e.type!=="Alternative")return!0;var n=e.expressions[r-1];return n==null?!0:!(n.type==="Backreference"&&n.kind==="number"||n.type==="Char"&&n.kind==="decimal")}});var iu=x((tc,su)=>{"use strict";function ht(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}var gt=ut(),yi=it(),au=yi.increaseQuantifierByOne;su.exports={Alternative:function(e){for(var r=e.node,n=1;n<r.expressions.length;){var u=e.getChild(n);if(n=Math.max(1,Ti(e,u,n)),n>=r.expressions.length||(u=e.getChild(n),n=Math.max(1,Ci(e,u,n)),n>=r.expressions.length))break;u=e.getChild(n),n=Math.max(1,Pi(e,u,n)),n++}}};function Ti(t,e,r){for(var n=t.node,u=Math.ceil(r/2),a=0;a<u;){var s=r-2*a-1,i=void 0,d=void 0;if(a===0?(i=e,d=t.getChild(s)):(i=gt.getForNode({type:"Alternative",expressions:[].concat(ht(n.expressions.slice(r-a,r)),[e.node])}),d=gt.getForNode({type:"Alternative",expressions:[].concat(ht(n.expressions.slice(s,r-a)))})),i.hasEqualSource(d)){for(var o=0;o<2*a+1;o++)t.getChild(s).remove();return e.replace({type:"Repetition",expression:a===0&&i.node.type!=="Repetition"?i.node:{type:"Group",capturing:!1,expression:i.node},quantifier:{type:"Quantifier",kind:"Range",from:2,to:2,greedy:!0}}),s}a++}return r}function Ci(t,e,r){for(var n=t.node,u=0;u<r;){var a=t.getChild(u);if(a.node.type==="Repetition"&&a.node.quantifier.greedy){var s=a.getChild(),i=void 0;if(s.node.type==="Group"&&!s.node.capturing&&(s=s.getChild()),u+1===r?(i=e,i.node.type==="Group"&&!i.node.capturing&&(i=i.getChild())):i=gt.getForNode({type:"Alternative",expressions:[].concat(ht(n.expressions.slice(u+1,r+1)))}),s.hasEqualSource(i)){for(var d=u;d<r;d++)t.getChild(u+1).remove();return au(a.node.quantifier),u}}u++}return r}function Pi(t,e,r){var n=t.node;if(e.node.type==="Repetition"&&e.node.quantifier.greedy){var u=e.getChild(),a=void 0;u.node.type==="Group"&&!u.node.capturing&&(u=u.getChild());var s=void 0;if(u.node.type==="Alternative"?(s=u.node.expressions.length,a=gt.getForNode({type:"Alternative",expressions:[].concat(ht(n.expressions.slice(r-s,r)))})):(s=1,a=t.getChild(r-1),a.node.type==="Group"&&!a.node.capturing&&(a=a.getChild())),a.hasEqualSource(u)){for(var i=r-s;i<r;i++)t.getChild(r-s).remove();return au(e.node.quantifier),r-s}}return r}});var ou=x((rc,du)=>{"use strict";du.exports=new Map([["charSurrogatePairToSingleUnicode",hn()],["charCodeToSimpleChar",yn()],["charCaseInsensitiveLowerCaseTransform",xn()],["charClassRemoveDuplicates",wn()],["quantifiersMerge",Rn()],["quantifierRangeToSymbol",Nn()],["charClassClassrangesToChars",Dn()],["charClassToMeta",Un()],["charClassToSingleChar",Hn()],["charEscapeUnescape",zn()],["charClassClassrangesMerge",Yn()],["disjunctionRemoveDuplicates",Qn()],["groupSingleCharsToCharClass",eu()],["removeEmptyGroup",ru()],["ungroup",uu()],["combineRepeatingPatterns",iu()]])});var hu=x((nc,lu)=>{"use strict";var cu=fn(),xi=Ge(),fu=at(),pt=ou();lu.exports={optimize:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.whitelist,u=n===void 0?[]:n,a=r.blacklist,s=a===void 0?[]:a,i=u.length>0?u:Array.from(pt.keys()),d=i.filter(function(l){return!s.includes(l)}),o=e;e instanceof RegExp&&(e=""+e),typeof e=="string"&&(o=xi.parse(e));var c=new fu.TransformResult(o),f=void 0;do f=c.toString(),o=cu(c.getAST()),d.forEach(function(l){if(!pt.has(l))throw new Error("Unknown optimization-transform: "+l+". Available transforms are: "+Array.from(pt.keys()).join(", "));var h=pt.get(l),p=fu.transform(o,h);p.toString()!==c.toString()&&(p.toString().length<=c.toString().length?c=p:o=cu(c.getAST()))});while(c.toString()!==f);return c}}});var $e=x((uc,pu)=>{"use strict";var gu="\u03B5",Ei=gu+"*";pu.exports={EPSILON:gu,EPSILON_CLOSURE:Ei}});var Jt=x((ac,ku)=>{"use strict";var wi=function(){function t(e,r){var n=[],u=!0,a=!1,s=void 0;try{for(var i=e[Symbol.iterator](),d;!(u=(d=i.next()).done)&&(n.push(d.value),!(r&&n.length===r));u=!0);}catch(o){a=!0,s=o}finally{try{!u&&i.return&&i.return()}finally{if(a)throw s}}return n}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Mi=function(){function t(e,r){for(var n=0;n<r.length;n++){var u=r[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(e,u.key,u)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function Ai(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}function Ii(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var mu=$e(),_i=mu.EPSILON,bu=mu.EPSILON_CLOSURE,Ri=function(){function t(e,r){Ii(this,t),this.in=e,this.out=r}return Mi(t,[{key:"matches",value:function(r){return this.in.matches(r)}},{key:"getAlphabet",value:function(){if(!this._alphabet){this._alphabet=new Set;var r=this.getTransitionTable();for(var n in r){var u=r[n];for(var a in u)a!==bu&&this._alphabet.add(a)}}return this._alphabet}},{key:"getAcceptingStates",value:function(){return this._acceptingStates||this.getTransitionTable(),this._acceptingStates}},{key:"getAcceptingStateNumbers",value:function(){if(!this._acceptingStateNumbers){this._acceptingStateNumbers=new Set;var r=!0,n=!1,u=void 0;try{for(var a=this.getAcceptingStates()[Symbol.iterator](),s;!(r=(s=a.next()).done);r=!0){var i=s.value;this._acceptingStateNumbers.add(i.number)}}catch(d){n=!0,u=d}finally{try{!r&&a.return&&a.return()}finally{if(n)throw u}}}return this._acceptingStateNumbers}},{key:"getTransitionTable",value:function(){var r=this;if(!this._transitionTable){this._transitionTable={},this._acceptingStates=new Set;var n=new Set,u=new Set,a=function s(i){if(!n.has(i)){n.add(i),i.number=n.size,r._transitionTable[i.number]={},i.accepting&&r._acceptingStates.add(i);var d=i.getTransitions(),o=!0,c=!1,f=void 0;try{for(var l=d[Symbol.iterator](),h;!(o=(h=l.next()).done);o=!0){var p=h.value,g=wi(p,2),m=g[0],b=g[1],k=[];u.add(m);var y=!0,T=!1,E=void 0;try{for(var w=b[Symbol.iterator](),M;!(y=(M=w.next()).done);y=!0){var B=M.value;s(B),k.push(B.number)}}catch(q){T=!0,E=q}finally{try{!y&&w.return&&w.return()}finally{if(T)throw E}}r._transitionTable[i.number][m]=k}}catch(q){c=!0,f=q}finally{try{!o&&l.return&&l.return()}finally{if(c)throw f}}}};a(this.in),n.forEach(function(s){delete r._transitionTable[s.number][_i],r._transitionTable[s.number][bu]=[].concat(Ai(s.getEpsilonClosure())).map(function(i){return i.number})})}return this._transitionTable}}]),t}();ku.exports=Ri});var Su=x((sc,vu)=>{"use strict";var Li=function(){function t(e,r){var n=[],u=!0,a=!1,s=void 0;try{for(var i=e[Symbol.iterator](),d;!(u=(d=i.next()).done)&&(n.push(d.value),!(r&&n.length===r));u=!0);}catch(o){a=!0,s=o}finally{try{!u&&i.return&&i.return()}finally{if(a)throw s}}return n}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function Ni(t){return Array.isArray(t)?t:Array.from(t)}function er(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}var re=null;function Oi(t){var e=t.getTransitionTable(),r=Object.keys(e),n=t.getAlphabet(),u=t.getAcceptingStateNumbers();re={};var a=new Set;r.forEach(function(_){_=Number(_);var H=u.has(_);H?re[_]=u:(a.add(_),re[_]=a)});var s=[[a,u].filter(function(_){return _.size>0})],i=void 0,d=void 0;i=s[s.length-1],d=s[s.length-2];for(var o=function(){var H={},ie=!0,X=!1,Q=void 0;try{for(var Z=i[Symbol.iterator](),de;!(ie=(de=Z.next()).done);ie=!0){var Te=de.value,J={},Ke=Ni(Te),br=Ke[0],Wa=Ke.slice(1);J[br]=new Set([br]);var It=!0,kr=!1,vr=void 0;try{e:for(var _t=Wa[Symbol.iterator](),Sr;!(It=(Sr=_t.next()).done);It=!0){var Fe=Sr.value,Rt=!0,yr=!1,Tr=void 0;try{for(var Lt=Object.keys(J)[Symbol.iterator](),Cr;!(Rt=(Cr=Lt.next()).done);Rt=!0){var Nt=Cr.value;if(Fi(Fe,Nt,e,n)){J[Nt].add(Fe),J[Fe]=J[Nt];continue e}}}catch(be){yr=!0,Tr=be}finally{try{!Rt&&Lt.return&&Lt.return()}finally{if(yr)throw Tr}}J[Fe]=new Set([Fe])}}catch(be){kr=!0,vr=be}finally{try{!It&&_t.return&&_t.return()}finally{if(kr)throw vr}}Object.assign(H,J)}}catch(be){X=!0,Q=be}finally{try{!ie&&Z.return&&Z.return()}finally{if(X)throw Q}}re=H;var Ya=new Set(Object.keys(H).map(function(be){return H[be]}));s.push([].concat(er(Ya))),i=s[s.length-1],d=s[s.length-2]};!Di(i,d);)o();var c=new Map,f=1;i.forEach(function(_){return c.set(_,f++)});var l={},h=new Set,p=function(H,ie){var X=!0,Q=!1,Z=void 0;try{for(var de=H[Symbol.iterator](),Te;!(X=(Te=de.next()).done);X=!0){var J=Te.value;u.has(J)&&h.add(ie)}}catch(Ke){Q=!0,Z=Ke}finally{try{!X&&de.return&&de.return()}finally{if(Q)throw Z}}},g=!0,m=!1,b=void 0;try{for(var k=c.entries()[Symbol.iterator](),y;!(g=(y=k.next()).done);g=!0){var T=y.value,E=Li(T,2),w=E[0],M=E[1];l[M]={};var B=!0,q=!1,z=void 0;try{for(var pe=n[Symbol.iterator](),Le;!(B=(Le=pe.next()).done);B=!0){var Ne=Le.value;p(w,M);var ae=void 0,ye=!0,Oe=!1,Ye=void 0;try{for(var me=w[Symbol.iterator](),De;!(ye=(De=me.next()).done);ye=!0){var se=De.value;if(ae=e[se][Ne],ae)break}}catch(_){Oe=!0,Ye=_}finally{try{!ye&&me.return&&me.return()}finally{if(Oe)throw Ye}}ae&&(l[M][Ne]=c.get(re[ae]))}}catch(_){q=!0,z=_}finally{try{!B&&pe.return&&pe.return()}finally{if(q)throw z}}}}catch(_){m=!0,b=_}finally{try{!g&&k.return&&k.return()}finally{if(m)throw b}}return t.setTransitionTable(l),t.setAcceptingStateNumbers(h),t}function Di(t,e){if(!e||t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var n=t[r],u=e[r];if(n.size!==u.size||[].concat(er(n)).sort().join(",")!==[].concat(er(u)).sort().join(","))return!1}return!0}function Fi(t,e,r,n){var u=!0,a=!1,s=void 0;try{for(var i=n[Symbol.iterator](),d;!(u=(d=i.next()).done);u=!0){var o=d.value;if(!Bi(t,e,r,o))return!1}}catch(c){a=!0,s=c}finally{try{!u&&i.return&&i.return()}finally{if(a)throw s}}return!0}function Bi(t,e,r,n){if(!re[t]||!re[e])return!1;var u=r[t][n],a=r[e][n];return!u&&!a?!0:re[t].has(u)&&re[e].has(a)}vu.exports={minimize:Oi}});var Pu=x((ic,Cu)=>{"use strict";var Vi=function(){function t(e,r){for(var n=0;n<r.length;n++){var u=r[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(e,u.key,u)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function yu(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}function Ui(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Gi=Su(),Hi=$e(),Tu=Hi.EPSILON_CLOSURE,$i=function(){function t(e){Ui(this,t),this._nfa=e}return Vi(t,[{key:"minimize",value:function(){this.getTransitionTable(),this._originalAcceptingStateNumbers=this._acceptingStateNumbers,this._originalTransitionTable=this._transitionTable,Gi.minimize(this)}},{key:"getAlphabet",value:function(){return this._nfa.getAlphabet()}},{key:"getAcceptingStateNumbers",value:function(){return this._acceptingStateNumbers||this.getTransitionTable(),this._acceptingStateNumbers}},{key:"getOriginaAcceptingStateNumbers",value:function(){return this._originalAcceptingStateNumbers||this.getTransitionTable(),this._originalAcceptingStateNumbers}},{key:"setTransitionTable",value:function(r){this._transitionTable=r}},{key:"setAcceptingStateNumbers",value:function(r){this._acceptingStateNumbers=r}},{key:"getTransitionTable",value:function(){var r=this;if(this._transitionTable)return this._transitionTable;var n=this._nfa.getTransitionTable(),u=Object.keys(n);this._acceptingStateNumbers=new Set;for(var a=n[u[0]][Tu],s=[a],i=this.getAlphabet(),d=this._nfa.getAcceptingStateNumbers(),o={},c=function(_){var H=!0,ie=!1,X=void 0;try{for(var Q=d[Symbol.iterator](),Z;!(H=(Z=Q.next()).done);H=!0){var de=Z.value;if(_.indexOf(de)!==-1){r._acceptingStateNumbers.add(_.join(","));break}}}catch(Te){ie=!0,X=Te}finally{try{!H&&Q.return&&Q.return()}finally{if(ie)throw X}}};s.length>0;){var f=s.shift(),l=f.join(",");o[l]={};var h=!0,p=!1,g=void 0;try{for(var m=i[Symbol.iterator](),b;!(h=(b=m.next()).done);h=!0){var k=b.value,y=[];c(f);var T=!0,E=!1,w=void 0;try{for(var M=f[Symbol.iterator](),B;!(T=(B=M.next()).done);T=!0){var q=B.value,z=n[q][k];if(!!z){var pe=!0,Le=!1,Ne=void 0;try{for(var ae=z[Symbol.iterator](),ye;!(pe=(ye=ae.next()).done);pe=!0){var Oe=ye.value;!n[Oe]||y.push.apply(y,yu(n[Oe][Tu]))}}catch(se){Le=!0,Ne=se}finally{try{!pe&&ae.return&&ae.return()}finally{if(Le)throw Ne}}}}}catch(se){E=!0,w=se}finally{try{!T&&M.return&&M.return()}finally{if(E)throw w}}var Ye=new Set(y),me=[].concat(yu(Ye));if(me.length>0){var De=me.join(",");o[l][k]=De,o.hasOwnProperty(De)||s.unshift(me)}}}catch(se){p=!0,g=se}finally{try{!h&&m.return&&m.return()}finally{if(p)throw g}}}return this._transitionTable=this._remapStateNumbers(o)}},{key:"_remapStateNumbers",value:function(r){var n={};this._originalTransitionTable=r;var u={};Object.keys(r).forEach(function(g,m){n[g]=m+1});for(var a in r){var s=r[a],i={};for(var d in s)i[d]=n[s[d]];u[n[a]]=i}this._originalAcceptingStateNumbers=this._acceptingStateNumbers,this._acceptingStateNumbers=new Set;var o=!0,c=!1,f=void 0;try{for(var l=this._originalAcceptingStateNumbers[Symbol.iterator](),h;!(o=(h=l.next()).done);o=!0){var p=h.value;this._acceptingStateNumbers.add(n[p])}}catch(g){c=!0,f=g}finally{try{!o&&l.return&&l.return()}finally{if(c)throw f}}return u}},{key:"getOriginalTransitionTable",value:function(){return this._originalTransitionTable||this.getTransitionTable(),this._originalTransitionTable}},{key:"matches",value:function(r){for(var n=1,u=0,a=this.getTransitionTable();r[u];)if(n=a[n][r[u++]],!n)return!1;return!!this.getAcceptingStateNumbers().has(n)}}]),t}();Cu.exports=$i});var Eu=x((dc,xu)=>{"use strict";var zi=function(){function t(e,r){for(var n=0;n<r.length;n++){var u=r[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(e,u.key,u)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function ji(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var qi=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.accepting,n=r===void 0?!1:r;ji(this,t),this._transitions=new Map,this.accepting=n}return zi(t,[{key:"getTransitions",value:function(){return this._transitions}},{key:"addTransition",value:function(r,n){return this.getTransitionsOnSymbol(r).add(n),this}},{key:"getTransitionsOnSymbol",value:function(r){var n=this._transitions.get(r);return n||(n=new Set,this._transitions.set(r,n)),n}}]),t}();xu.exports=qi});var Mu=x((oc,wu)=>{"use strict";var Wi=function(){function t(e,r){for(var n=0;n<r.length;n++){var u=r[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(e,u.key,u)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function Yi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ki(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Xi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Qi=Eu(),Zi=$e(),tr=Zi.EPSILON,Ji=function(t){Xi(e,t);function e(){return Yi(this,e),Ki(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Wi(e,[{key:"matches",value:function(n){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;if(u.has(this))return!1;if(u.add(this),n.length===0){if(this.accepting)return!0;var a=!0,s=!1,i=void 0;try{for(var d=this.getTransitionsOnSymbol(tr)[Symbol.iterator](),o;!(a=(o=d.next()).done);a=!0){var c=o.value;if(c.matches("",u))return!0}}catch(z){s=!0,i=z}finally{try{!a&&d.return&&d.return()}finally{if(s)throw i}}return!1}var f=n[0],l=n.slice(1),h=this.getTransitionsOnSymbol(f),p=!0,g=!1,m=void 0;try{for(var b=h[Symbol.iterator](),k;!(p=(k=b.next()).done);p=!0){var y=k.value;if(y.matches(l))return!0}}catch(z){g=!0,m=z}finally{try{!p&&b.return&&b.return()}finally{if(g)throw m}}var T=!0,E=!1,w=void 0;try{for(var M=this.getTransitionsOnSymbol(tr)[Symbol.iterator](),B;!(T=(B=M.next()).done);T=!0){var q=B.value;if(q.matches(n,u))return!0}}catch(z){E=!0,w=z}finally{try{!T&&M.return&&M.return()}finally{if(E)throw w}}return!1}},{key:"getEpsilonClosure",value:function(){var n=this;return this._epsilonClosure||function(){var u=n.getTransitionsOnSymbol(tr),a=n._epsilonClosure=new Set;a.add(n);var s=!0,i=!1,d=void 0;try{for(var o=u[Symbol.iterator](),c;!(s=(c=o.next()).done);s=!0){var f=c.value;if(!a.has(f)){a.add(f);var l=f.getEpsilonClosure();l.forEach(function(h){return a.add(h)})}}}catch(h){i=!0,d=h}finally{try{!s&&o.return&&o.return()}finally{if(i)throw d}}}(),this._epsilonClosure}}]),e}(Qi);wu.exports=Ji});var rr=x((cc,Iu)=>{"use strict";var mt=Jt(),Ee=Mu(),ed=$e(),F=ed.EPSILON;function Au(t){var e=new Ee,r=new Ee({accepting:!0});return new mt(e.addTransition(t,r),r)}function td(){return Au(F)}function rd(t,e){return t.out.accepting=!1,e.out.accepting=!0,t.out.addTransition(F,e.in),new mt(t.in,e.out)}function nd(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var u=!0,a=!1,s=void 0;try{for(var i=r[Symbol.iterator](),d;!(u=(d=i.next()).done);u=!0){var o=d.value;t=rd(t,o)}}catch(c){a=!0,s=c}finally{try{!u&&i.return&&i.return()}finally{if(a)throw s}}return t}function ud(t,e){var r=new Ee,n=new Ee;return r.addTransition(F,t.in),r.addTransition(F,e.in),n.accepting=!0,t.out.accepting=!1,e.out.accepting=!1,t.out.addTransition(F,n),e.out.addTransition(F,n),new mt(r,n)}function ad(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var u=!0,a=!1,s=void 0;try{for(var i=r[Symbol.iterator](),d;!(u=(d=i.next()).done);u=!0){var o=d.value;t=ud(t,o)}}catch(c){a=!0,s=c}finally{try{!u&&i.return&&i.return()}finally{if(a)throw s}}return t}function sd(t){var e=new Ee,r=new Ee({accepting:!0});return e.addTransition(F,t.in),e.addTransition(F,r),t.out.accepting=!1,t.out.addTransition(F,r),r.addTransition(F,t.in),new mt(e,r)}function id(t){return t.in.addTransition(F,t.out),t.out.addTransition(F,t.in),t}function dd(t){return t.out.addTransition(F,t.in),t}function od(t){return t.in.addTransition(F,t.out),t}Iu.exports={alt:nd,char:Au,e:td,or:ad,rep:id,repExplicit:sd,plusRep:dd,questionRep:od}});var Lu=x((fc,Ru)=>{"use strict";function cd(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}var fd=Ge(),we=rr(),ld=we.alt,hd=we.char,gd=we.or,pd=we.rep,md=we.plusRep,bd=we.questionRep;function ne(t){if(t&&!_u[t.type])throw new Error(t.type+" is not supported in NFA/DFA interpreter.");return t?_u[t.type](t):""}var _u={RegExp:function(e){if(e.flags!=="")throw new Error("NFA/DFA: Flags are not supported yet.");return ne(e.body)},Alternative:function(e){var r=(e.expressions||[]).map(ne);return ld.apply(void 0,cd(r))},Disjunction:function(e){return gd(ne(e.left),ne(e.right))},Repetition:function(e){switch(e.quantifier.kind){case"*":return pd(ne(e.expression));case"+":return md(ne(e.expression));case"?":return bd(ne(e.expression));default:throw new Error("Unknown repeatition: "+e.quantifier.kind+".")}},Char:function(e){if(e.kind!=="simple")throw new Error("NFA/DFA: Only simple chars are supported yet.");return hd(e.value)},Group:function(e){return ne(e.expression)}};Ru.exports={build:function(e){var r=e;return e instanceof RegExp&&(e=""+e),typeof e=="string"&&(r=fd.parse(e,{captureLocations:!0})),ne(r)}}});var Du=x((lc,Ou)=>{"use strict";var kd=Jt(),Nu=Pu(),vd=Lu(),Sd=rr();Ou.exports={NFA:kd,DFA:Nu,builders:Sd,toNFA:function(e){return vd.build(e)},toDFA:function(e){return new Nu(this.toNFA(e))},test:function(e,r){return this.toDFA(e).matches(r)}}});var Bu=x((hc,Fu)=>{"use strict";var yd=function(){function t(e,r){for(var n=0;n<r.length;n++){var u=r[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(e,u.key,u)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function Td(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Cd=function(){function t(e,r){var n=r.flags,u=r.groups,a=r.source;Td(this,t),this._re=e,this._groups=u,this.flags=n,this.source=a||e.source,this.dotAll=n.includes("s"),this.global=e.global,this.ignoreCase=e.ignoreCase,this.multiline=e.multiline,this.sticky=e.sticky,this.unicode=e.unicode}return yd(t,[{key:"test",value:function(r){return this._re.test(r)}},{key:"compile",value:function(r){return this._re.compile(r)}},{key:"toString",value:function(){return this._toStringResult||(this._toStringResult="/"+this.source+"/"+this.flags),this._toStringResult}},{key:"exec",value:function(r){var n=this._re.exec(r);if(!this._groups||!n)return n;n.groups={};for(var u in this._groups){var a=this._groups[u];n.groups[u]=n[a]}return n}}]),t}();Fu.exports={RegExpTree:Cd}});var Hu=x((gc,Gu)=>{"use strict";var Pd=on(),xd=Dt(),Ed=hu(),Vu=Ge(),Uu=at(),wd=jt(),Md=Du(),Ad=Bu(),Id=Ad.RegExpTree,_d={parser:Vu,fa:Md,TransformResult:Uu.TransformResult,parse:function(e,r){return Vu.parse(""+e,r)},traverse:function(e,r,n){return wd.traverse(e,r,n)},transform:function(e,r){return Uu.transform(e,r)},generate:function(e){return xd.generate(e)},toRegExp:function(e){var r=this.compatTranspile(e);return new RegExp(r.getSource(),r.getFlags())},optimize:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=n.blacklist;return Ed.optimize(e,{whitelist:r,blacklist:u})},compatTranspile:function(e,r){return Pd.transform(e,r)},exec:function(e,r){if(typeof e=="string"){var n=this.compatTranspile(e),u=n.getExtra();u.namedCapturingGroups?e=new Id(n.toRegExp(),{flags:n.getFlags(),source:n.getSource(),groups:u.namedCapturingGroups}):e=n.toRegExp()}return e.exec(r)}};Gu.exports=_d});var zu=x((pc,$u)=>{"use strict";$u.exports=Hu()});var dr=x((mc,Xu)=>{"use strict";var Rd=Ot(),nr=Qe(),ce=zu(),ju=new WeakMap;function Ld(t){return Rd.mode==="spec-compliant"?Od(this,t):Nd(this,t)}function Nd(t,e){let r=t.lastIndex,n=nr.call(t,e);if(n===null)return null;let u;return Object.defineProperty(n,"indices",{enumerable:!0,configurable:!0,get(){if(u===void 0){let{measurementRegExp:a,groupInfos:s}=qu(t);a.lastIndex=r;let i=nr.call(a,e);if(i===null)throw new TypeError;$(n,"indices",u=Wu(i,s))}return u},set(a){$(n,"indices",a)}}),n}function Od(t,e){let{measurementRegExp:r,groupInfos:n}=qu(t);r.lastIndex=t.lastIndex;let u=nr.call(r,e);if(u===null)return null;t.lastIndex=r.lastIndex;let a=[];$(a,0,u[0]);for(let s of n)$(a,s.oldGroupNumber,u[s.newGroupNumber]);return $(a,"index",u.index),$(a,"input",u.input),$(a,"groups",u.groups),$(a,"indices",Wu(u,n)),a}function qu(t){let e=ju.get(t);e||(e=Gd(ce.parse(`/${t.source}/${t.flags}`)),ju.set(t,e));let r=e.getExtra();return{measurementRegExp:e.toRegExp(),groupInfos:r}}function Wu(t,e){let r=t.index,n=r+t[0].length,u=!!t.groups,a=[],s=u?Object.create(null):void 0;$(a,0,[r,n]);for(let i of e){let d;if(t[i.newGroupNumber]!==void 0){let o=r;if(i.measurementGroups)for(let f of i.measurementGroups)o+=t[f].length;let c=o+t[i.newGroupNumber].length;d=[o,c]}$(a,i.oldGroupNumber,d),s&&i.groupName!==void 0&&$(s,i.groupName,d)}return $(a,"groups",s),a}function $(t,e,r){let n=Object.getOwnPropertyDescriptor(t,e);if(n?n.configurable:Object.isExtensible(t)){let u={enumerable:n?n.enumerable:!0,configurable:n?n.configurable:!0,writable:!0,value:r};Object.defineProperty(t,e,u)}}var bt,ur=!1,ze=new Set,ar=[],Me=!1,Yu=1,kt=[],sr=new Map,ir=new Map,Dd={init(){ur=!1,ze.clear(),ar.length=0,Me=!1,Yu=1,kt.length=0,sr.clear(),ir.clear(),bt=[]},RegExp(t){return ce.traverse(t.node,Fd),ze.size>0&&(ce.transform(t.node,Ku),ce.transform(t.node,Bd),ur&&ce.transform(t.node,Vd)),!1}},je={pre(t){ar.push(Me),Me=t.node.type==="Group"&&t.node.capturing},post(t){Me&&ze.add(t.node),Me=ar.pop()||Me}},Fd={Alternative:je,Disjunction:je,Assertion:je,Group:je,Repetition:je,Backreference(t){ur=!0}},Ku={Alternative(t){if(ze.has(t.node)){let e=0,r=[],n=[],u=[];for(let a=0;a<t.node.expressions.length;a++){let s=t.node.expressions[a];if(ze.has(s)){if(a>e){let i={type:"Group",capturing:!0,number:-1,expression:r.length>1?{type:"Alternative",expressions:r}:r.length===1?r[0]:null};u.push(i),n.push(i),e=a,r=[]}kt.push(n),ce.transform(s,Ku),kt.pop(),r.push(s);continue}r.push(s)}t.update({expressions:u.concat(r)})}return!1},Group(t){!t.node.capturing||sr.set(t.node,Ud())}},Bd={Group(t){if(!bt)throw new Error("Not initialized.");if(!t.node.capturing)return;let e=t.node.number,r=Yu++,n=sr.get(t.node);e!==-1&&(bt.push({oldGroupNumber:e,newGroupNumber:r,measurementGroups:n&&n.map(u=>u.number),groupName:t.node.name}),ir.set(e,r)),t.update({number:r})}},Vd={Backreference(t){let e=ir.get(t.node.number);e&&(t.node.kind==="number"?t.update({number:e,reference:e}):t.update({number:e}))}};function Ud(){let t=[];for(let e of kt)for(let r of e)t.push(r);return t}function Gd(t){let e=ce.transform(t,Dd);return new ce.TransformResult(e.getAST(),bt)}Xu.exports=Ld});var or=x((bc,Zu)=>{"use strict";var Qu=Qe(),Hd=dr();function $d(){let t=new RegExp("a");return Qu.call(t,"a").indices?Qu:Hd}Zu.exports=$d});var ea=x((kc,Ju)=>{"use strict";var zd=or();function jd(){let t=zd();RegExp.prototype.exec!==t&&(RegExp.prototype.exec=t)}Ju.exports=jd});var na=x((vc,ra)=>{"use strict";var qd=dr(),Wd=Qe(),ta=or(),Yd=ea(),Kd=Ot(),Xd=ta();function fe(t,e){return Xd.call(t,e)}fe.implementation=qd;fe.native=Wd;fe.getPolyfill=ta;fe.shim=Yd;fe.config=Kd;(function(t){})(fe||(fe={}));ra.exports=fe});function Jd(){return[[" ","Unchecked","notStarted"],["x","Checked","completed"],[">","Rescheduled","planned"],["<","Scheduled","planned"],["!","Important","notStarted"],["-","Cancelled","abandoned"],["/","In Progress","inProgress"],["?","Question","notStarted"],["*","Star","notStarted"],["n","Note","notStarted"],["l","Location","notStarted"],["i","Information","notStarted"],["I","Idea","notStarted"],["S","Amount","notStarted"],["p","Pro","notStarted"],["c","Con","notStarted"],["b","Bookmark","notStarted"],['"',"Quote","notStarted"],["0","Speech bubble 0","notStarted"],["1","Speech bubble 1","notStarted"],["2","Speech bubble 2","notStarted"],["3","Speech bubble 3","notStarted"],["4","Speech bubble 4","notStarted"],["5","Speech bubble 5","notStarted"],["6","Speech bubble 6","notStarted"],["7","Speech bubble 7","notStarted"],["8","Speech bubble 8","notStarted"],["9","Speech bubble 9","notStarted"]]}var ma=ee(()=>{});function eo(){return[[" ","incomplete","notStarted"],["x","complete / done","completed"],["-","cancelled","abandoned"],[">","deferred","planned"],["/","in progress, or half-done","inProgress"],["!","Important","notStarted"],["?","question","notStarted"],["R","review","notStarted"],["+","Inbox / task that should be processed later","notStarted"],["b","bookmark","notStarted"],["B","brainstorm","notStarted"],["D","deferred or scheduled","planned"],["I","Info","notStarted"],["i","idea","notStarted"],["N","note","notStarted"],["Q","quote","notStarted"],["W","win / success / reward","notStarted"],["P","pro","notStarted"],["C","con","notStarted"]]}var ba=ee(()=>{});function to(){return[[" ","To Do","notStarted"],["/","In Progress","inProgress"],["x","Done","completed"],["-","Cancelled","abandoned"],[">","Rescheduled","planned"],["<","Scheduled","planned"],["!","Important","notStarted"],["?","Question","notStarted"],["i","Infomation","notStarted"],["S","Amount","notStarted"],["*","Star","notStarted"],["b","Bookmark","notStarted"],["\u201C","Quote","notStarted"],["n","Note","notStarted"],["l","Location","notStarted"],["I","Idea","notStarted"],["p","Pro","notStarted"],["c","Con","notStarted"],["u","Up","notStarted"],["d","Down","notStarted"]]}var ka=ee(()=>{});function ro(){return[[" ","Unchecked","notStarted"],["x","Checked","completed"],["-","Cancelled","abandoned"],["/","In Progress","inProgress"],[">","Deferred","planned"],["!","Important","notStarted"],["?","Question","planned"],["r","Review","notStarted"]]}var va=ee(()=>{});function no(){return[[" ","Unchecked","notStarted"],["x","Regular","completed"],["X","Checked","completed"],["-","Dropped","abandoned"],[">","Forward","planned"],["D","Date","notStarted"],["?","Question","planned"],["/","Half Done","inProgress"],["+","Add","notStarted"],["R","Research","notStarted"],["!","Important","notStarted"],["i","Idea","notStarted"],["B","Brainstorm","notStarted"],["P","Pro","notStarted"],["C","Con","notStarted"],["Q","Quote","notStarted"],["N","Note","notStarted"],["b","Bookmark","notStarted"],["I","Information","notStarted"],["p","Paraphrase","notStarted"],["L","Location","notStarted"],["E","Example","notStarted"],["A","Answer","notStarted"],["r","Reward","notStarted"],["c","Choice","notStarted"],["d","Doing","inProgress"],["T","Time","notStarted"],["@","Character / Person","notStarted"],["t","Talk","notStarted"],["O","Outline / Plot","notStarted"],["~","Conflict","notStarted"],["W","World","notStarted"],["f","Clue / Find","notStarted"],["F","Foreshadow","notStarted"],["H","Favorite / Health","notStarted"],["&","Symbolism","notStarted"],["s","Secret","notStarted"]]}var Sa=ee(()=>{});function uo(){return[[" ","Unchecked","notStarted"],["x","Checked","completed"],[">","Rescheduled","planned"],["<","Scheduled","planned"],["!","Important","notStarted"],["-","Cancelled","abandoned"],["/","In Progress","inProgress"],["?","Question","notStarted"],["*","Star","notStarted"],["n","Note","notStarted"],["l","Location","notStarted"],["i","Information","notStarted"],["I","Idea","notStarted"],["S","Amount","notStarted"],["p","Pro","notStarted"],["c","Con","notStarted"],["b","Bookmark","notStarted"],["f","Fire","notStarted"],["k","Key","notStarted"],["w","Win","notStarted"],["u","Up","notStarted"],["d","Down","notStarted"]]}var ya=ee(()=>{});function ao(){return[[" ","to-do","notStarted"],["/","incomplete","inProgress"],["x","done","completed"],["-","canceled","abandoned"],[">","forwarded","planned"],["<","scheduling","planned"],["?","question","notStarted"],["!","important","notStarted"],["*","star","notStarted"],['"',"quote","notStarted"],["l","location","notStarted"],["b","bookmark","notStarted"],["i","information","notStarted"],["S","savings","notStarted"],["I","idea","notStarted"],["p","pros","notStarted"],["c","cons","notStarted"],["f","fire","notStarted"],["k","key","notStarted"],["w","win","notStarted"],["u","up","notStarted"],["d","down","notStarted"]]}var Ta=ee(()=>{});function so(){return[[" ","to-do","notStarted"],["/","incomplete","inProgress"],["x","done","completed"],["-","canceled","abandoned"],[">","forwarded","planned"],["<","scheduling","planned"],["?","question","notStarted"],["!","important","notStarted"],["*","star","notStarted"],['"',"quote","notStarted"],["l","location","notStarted"],["b","bookmark","notStarted"],["i","information","notStarted"],["S","savings","notStarted"],["I","idea","notStarted"],["p","pros","notStarted"],["c","cons","notStarted"],["f","fire","notStarted"],["k","key","notStarted"],["w","win","notStarted"],["u","up","notStarted"],["d","down","notStarted"]]}var Ca=ee(()=>{});var Pa={};xr(Pa,{allStatusCollections:()=>lr,anuppuccinSupportedStatuses:()=>Jd,auraSupportedStatuses:()=>eo,borderSupportedStatuses:()=>to,ebullientworksSupportedStatuses:()=>ro,itsSupportedStatuses:()=>no,lytModeSupportedStatuses:()=>uo,minimalSupportedStatuses:()=>ao,thingsSupportedStatuses:()=>so});var lr,hr=ee(()=>{ma();ba();ka();va();Sa();ya();Ta();Ca();lr=["AnuPpuccin","Aura","Border","Ebullientworks","ITS","LYTMode","Minimal","Things"]});xr(exports,{default:()=>mr,showPopoverWithProgressBar:()=>fr});var ge=A(require("obsidian"));var G=A(require("@codemirror/view")),Ie=A(require("@codemirror/language"));var ua=A(na()),Qd={from:-1,to:-1,match:/.*/.exec("")},Zd="gm"+(/x/.unicode==null?"":"u"),vt=class{constructor(e,r,n,u=0,a=e.length){this.to=a;this.curLine="";this.done=!1;this.value=Qd;this.re=new RegExp(r,Zd+((n==null?void 0:n.ignoreCase)?"i":"")),this.iter=e.iter();let s=e.lineAt(u);this.curLineStart=s.from,this.matchPos=u,this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let r=this.matchPos<=this.to&&(0,ua.default)(this.re,this.curLine);if(r){let n=this.curLineStart+r.index,u=n+r[0].length;if(this.matchPos=u+(n==u?1:0),n==this.curLine.length&&this.nextLine(),n<u||n>this.value.to)return this.value={from:n,to:u,match:r},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}};Symbol.iterator;var Sc=new WeakMap;var aa;(function(e){e[e.Base=5e3]="Base"})(aa||(aa={}));var St=A(require("obsidian"));function sa(t,e){if(!t.settings.hideProgressBarBasedOnConditions)return!1;let r=e.sourcePath?t.app.vault.getFileByPath(e.sourcePath):null;if(!r||!(r instanceof St.TFile))return!1;let n=r;if(t.settings.hideProgressBarFolders){let u=t.settings.hideProgressBarFolders.split(",").map(s=>s.trim()),a=n.path;for(let s of u)if(s&&a.startsWith(s))return!0}if(t.settings.hideProgressBarTags){let u=t.settings.hideProgressBarTags.split(",").map(s=>s.trim()),a=t.app.metadataCache.getFileCache(n);if(a&&a.tags){for(let s of u)if(a.tags.some(i=>i.tag==="#"+s))return!0}}if(t.settings.hideProgressBarMetadata){let u=t.app.metadataCache.getFileCache(n);if(u&&u.frontmatter){let a=t.settings.hideProgressBarMetadata;if(a&&u.frontmatter[a]!==void 0)return!!u.frontmatter[a]}}return!1}function ia(t,e){if(!t.settings.hideProgressBarBasedOnConditions)return!1;let r=e.state.field(St.editorInfoField);if(!r)return!1;let n=r.file;if(!n)return!1;if(t.settings.hideProgressBarFolders){let u=t.settings.hideProgressBarFolders.split(",").map(s=>s.trim()),a=n.path;for(let s of u)if(s&&a.startsWith(s))return!0}if(t.settings.hideProgressBarTags){let u=t.settings.hideProgressBarTags.split(",").map(s=>s.trim()),a=t.app.metadataCache.getFileCache(n);if(a&&a.tags){for(let s of u)if(a.tags.some(i=>i.tag==="#"+s))return!0}}if(t.settings.hideProgressBarMetadata){let u=t.app.metadataCache.getFileCache(n);if(u&&u.frontmatter){let a=t.settings.hideProgressBarMetadata;if(a&&a in u.frontmatter)return!!u.frontmatter[a]}}return!1}function ve(t){var e,r,n,u;try{let a=t.vault;return((e=a.getConfig)==null?void 0:e.call(a,"useTab"))===void 0||((r=a.getConfig)==null?void 0:r.call(a,"useTab"))===!0?(((n=a.getConfig)==null?void 0:n.call(a,"tabSize"))||4)/4:((u=a.getConfig)==null?void 0:u.call(a,"tabSize"))||4}catch(a){return console.error("Error getting tab size:",a),4}}function Ae(t){var e,r;try{let n=t.vault,u=((e=n.getConfig)==null?void 0:e.call(n,"useTab"))===void 0||((r=n.getConfig)==null?void 0:r.call(n,"useTab"))===!0,a=ve(t);return u?"	":" ".repeat(a)}catch(n){return console.error("Error building indent string:",n),""}}function yt(t){let e=t.app.plugins.plugins["obsidian-tasks-plugin"];return!e||!e._loaded?null:e.apiV1}var cr=class extends G.WidgetType{constructor(e,r,n,u,a,s,i,d=0,o=0,c=0,f=0){super();this.app=e;this.plugin=r;this.view=n;this.from=u;this.to=a;this.completed=s;this.total=i;this.inProgress=d;this.abandoned=o;this.notStarted=c;this.planned=f}eq(e){return this.from===e.from&&this.to===e.to&&this.inProgress===e.inProgress&&this.abandoned===e.abandoned&&this.notStarted===e.notStarted&&this.planned===e.planned&&this.completed===e.completed&&this.total===e.total?!0:e.completed===this.completed&&e.total===this.total&&e.inProgress===this.inProgress&&e.abandoned===this.abandoned&&e.notStarted===this.notStarted&&e.planned===this.planned}changePercentage(){if(this.total===0)return;let e=Math.round(this.completed/this.total*1e4)/100,r=Math.round(this.inProgress/this.total*1e4)/100,n=Math.round(this.abandoned/this.total*1e4)/100,u=Math.round(this.planned/this.total*1e4)/100;this.progressEl.style.width=e+"%",this.inProgressEl&&(this.inProgressEl.style.width=r+"%",this.inProgressEl.style.left=e+"%"),this.abandonedEl&&(this.abandonedEl.style.width=n+"%",this.abandonedEl.style.left=e+r+"%"),this.plannedEl&&(this.plannedEl.style.width=u+"%",this.plannedEl.style.left=e+r+n+"%");let a="progress-bar-inline";switch(!0){case e===0:a+=" progress-bar-inline-empty";break;case(e>0&&e<25):a+=" progress-bar-inline-0";break;case(e>=25&&e<50):a+=" progress-bar-inline-1";break;case(e>=50&&e<75):a+=" progress-bar-inline-2";break;case(e>=75&&e<100):a+=" progress-bar-inline-3";break;case e>=100:a+=" progress-bar-inline-complete";break}r>0&&(a+=" has-in-progress"),n>0&&(a+=" has-abandoned"),u>0&&(a+=" has-planned"),this.progressEl.className=a}changeNumber(){var e,r,n;if((e=this.plugin)==null?void 0:e.settings.addNumberToProgressBar){let u;if((r=this.plugin)==null?void 0:r.settings.showPercentage){let a=Math.round(this.completed/this.total*1e4)/100;if((n=this.plugin)==null?void 0:n.settings.customizeProgressRanges){let s=this.plugin.settings.progressRanges.find(i=>a>=i.min&&a<=i.max);s?u=s.text.replace("{{PROGRESS}}",a.toString()):u=`${a}%`}else u=`${a}%`}else this.inProgress>0||this.abandoned>0||this.planned>0?u=`[${this.completed}\u2713 ${this.inProgress}\u27F3 ${this.abandoned}\u2717 ${this.planned}? / ${this.total}]`:u=`[${this.completed}/${this.total}]`;this.numberEl?this.numberEl.innerText=u:this.numberEl=this.progressBarEl.createEl("div",{cls:"progress-status",text:u})}else this.numberEl&&(this.numberEl.innerText=`[${this.completed}/${this.total}]`)}toDOM(){var e,r,n,u,a,s;if(!((e=this.plugin)==null?void 0:e.settings.addNumberToProgressBar)&&this.numberEl!==void 0&&this.numberEl.detach(),this.progressBarEl!==void 0)return this.changePercentage(),this.numberEl!==void 0&&this.changeNumber(),this.progressBarEl;if(this.progressBarEl=createSpan(((r=this.plugin)==null?void 0:r.settings.addNumberToProgressBar)?"cm-task-progress-bar with-number":"cm-task-progress-bar",i=>{var d;i.dataset.completed=this.completed.toString(),i.dataset.total=this.total.toString(),i.dataset.inProgress=this.inProgress.toString(),i.dataset.abandoned=this.abandoned.toString(),i.dataset.notStarted=this.notStarted.toString(),i.dataset.planned=this.planned.toString(),((d=this.plugin)==null?void 0:d.settings.supportHoverToShowProgressInfo)&&(i.onmouseover=()=>{fr(this.plugin,{progressBar:i,data:{completed:this.completed.toString(),total:this.total.toString(),inProgress:this.inProgress.toString(),abandoned:this.abandoned.toString(),notStarted:this.notStarted.toString(),planned:this.planned.toString()},view:this.view})})}),this.progressBackGroundEl=this.progressBarEl.createEl("div",{cls:"progress-bar-inline-background"}),this.progressBackGroundEl.toggleClass("hidden",!((n=this.plugin)==null?void 0:n.settings.showProgressBar)),this.progressEl=this.progressBackGroundEl.createEl("div",{cls:"progress-bar-inline progress-completed"}),this.inProgress>0&&(this.inProgressEl=this.progressBackGroundEl.createEl("div",{cls:"progress-bar-inline progress-in-progress"})),this.abandoned>0&&(this.abandonedEl=this.progressBackGroundEl.createEl("div",{cls:"progress-bar-inline progress-abandoned"})),this.planned>0&&(this.plannedEl=this.progressBackGroundEl.createEl("div",{cls:"progress-bar-inline progress-planned"})),((u=this.plugin)==null?void 0:u.settings.addNumberToProgressBar)&&this.total){let i;if((a=this.plugin)==null?void 0:a.settings.showPercentage){let d=Math.round(this.completed/this.total*1e4)/100;if((s=this.plugin)==null?void 0:s.settings.customizeProgressRanges){let o=this.plugin.settings.progressRanges.find(c=>d>=c.min&&d<=c.max);o?i=o.text.replace("{{PROGRESS}}",d.toString()):i=`${d}%`}else i=`${d}%`}else this.inProgress>0||this.abandoned>0?i=`[${this.completed}\u2713 ${this.inProgress}\u27F3 ${this.abandoned}\u2717 / ${this.total}]`:i=`[${this.completed}/${this.total}]`;this.numberEl=this.progressBarEl.createEl("div",{cls:"progress-status",text:i})}return this.changePercentage(),this.progressBarEl}ignoreEvent(){return!1}};function da(t,e){return G.ViewPlugin.fromClass(class{constructor(r){this.view=r;this.progressDecorations=G.Decoration.none;let{progress:n}=this.getDeco(r);this.progressDecorations=n}update(r){if(r.docChanged||r.viewportChanged){let{progress:n}=this.getDeco(r.view);this.progressDecorations=n}}getDeco(r){let{state:n}=r,u=[];if(ia(e,r))return{progress:G.Decoration.none};for(let a of r.visibleRanges){let s,i;try{s=new vt(n.doc,"^[\\t|\\s]*([-*+]|\\d+\\.)\\s\\[(.)\\]",{},a.from,a.to)}catch(d){console.debug(d);continue}if(e==null?void 0:e.settings.addTaskProgressBarToHeading){try{i=new vt(n.doc,"^(#){1,6} ",{},a.from,a.to)}catch(d){console.debug(d);continue}this.processHeadings(i,u,r)}this.processBullets(s,u,r)}return{progress:G.Decoration.set(u.sort((a,s)=>a.from-s.from))}}processHeadings(r,n,u){for(;!r.next().done;){let{from:a,to:s}=r.value,i=u.state.doc.lineAt(a),d=this.calculateRangeForTransform(u.state,i.from);if(!d)continue;let o=this.extractTasksFromRange(d,u.state,!1);if(o.total===0)continue;let c=G.Decoration.widget({widget:new cr(t,e,u,i.to,i.to,o.completed,o.total,o.inProgress||0,o.abandoned||0,o.notStarted||0,o.planned||0)});n.push(c.range(i.to,i.to))}}processBullets(r,n,u){var a;for(;!r.next().done;){let{from:s}=r.value,i=(a=u.state.doc.lineAt(s))==null?void 0:a.from,o=(0,Ie.syntaxTree)(u.state).resolveInner(i+1).type.prop(Ie.tokenClassNodeProp);if(["hmd-codeblock","hmd-frontmatter"].find(b=>o==null?void 0:o.split(" ").includes(b)))continue;let f=u.state.doc.lineAt(i),l=this.getDocumentText(u.state.doc,f.from,f.to);if(!l||!/^[\s|\t]*([-*+]|\d+\.)\s\[(.)\]/.test(l))continue;let h=this.calculateRangeForTransform(u.state,f.to);if(!h)continue;let p=this.getDocumentText(u.state.doc,h.from,h.to);if(!p||p.length===1)continue;let g=this.extractTasksFromRange(h,u.state,!0);if(g.total===0)continue;let m=G.Decoration.widget({widget:new cr(t,e,u,f.to,f.to,g.completed,g.total,g.inProgress||0,g.abandoned||0,g.notStarted||0,g.planned||0),side:1});n.push(m.range(f.to,f.to))}}extractTasksFromRange(r,n,u){let a=this.getDocumentTextArray(n.doc,r.from,r.to);return this.calculateTasksNum(a,u)}getDocumentText(r,n,u){try{return r.sliceString(n,u)}catch(a){return console.error("Error getting document text:",a),null}}getDocumentTextArray(r,n,u){let a=this.getDocumentText(r,n,u);return a?a.split(`
`):[]}calculateRangeForTransform(r,n){let u=r.doc.lineAt(n),a=(0,Ie.foldable)(r,u.from,u.to);return a?{from:u.from,to:a.to}:null}createTotalTaskRegex(r,n=0,u=4){if(e==null?void 0:e.settings.useOnlyCountMarks){let i=(e==null?void 0:e.settings.onlyCountTaskMarks)||"";if(!i.trim())return new RegExp("^$");let d=`\\[([ ${i}])\\]`;return r?new RegExp(`^[\\t|\\s]*([-*+]|\\d+\\.)\\s${d}`):(e==null?void 0:e.settings.countSubLevel)?new RegExp(`^[\\t|\\s]*?([-*+]|\\d+\\.)\\s${d}`):new RegExp(`^[\\t|\\s]*([-*+]|\\d+\\.)\\s${d}`)}let a=(e==null?void 0:e.settings.excludeTaskMarks)||"",s="\\[(.)\\]";return a&&a.length>0&&(s=`\\[([^${a.split("").map(d=>"\\"+d).join("")}])\\]`),r?new RegExp(`^[\\t|\\s]*([-*+]|\\d+\\.)\\s${s}`):(e==null?void 0:e.settings.countSubLevel)?new RegExp(`^[\\t|\\s]*?([-*+]|\\d+\\.)\\s${s}`):new RegExp(`^[\\t|\\s]*([-*+]|\\d+\\.)\\s${s}`)}createCompletedTaskRegex(r,n,u=0,a=4){var l;let s=r==null?void 0:r.settings.useOnlyCountMarks,i=(r==null?void 0:r.settings.onlyCountTaskMarks)||"x|X";if(s&&!i.trim())return new RegExp("^$");let d=(r==null?void 0:r.settings.excludeTaskMarks)||"",o=((l=r==null?void 0:r.settings.taskStatuses)==null?void 0:l.completed)||"x|X",c=n?"^[\\t|\\s]*":(r==null?void 0:r.settings.countSubLevel)?"^[\\t|\\s]*?":"^[\\t|\\s]*",f=(n||(r==null?void 0:r.settings.countSubLevel),"([-*+]|\\d+\\.)\\s");if(s)return new RegExp(c+f+"\\[("+i+")\\]");if(d){let h=o.split("|"),p=d.split(""),g=h.filter(m=>!p.includes(m)).join("|");return new RegExp(c+f+"\\[("+g+")\\]")}else return new RegExp(c+f+"\\[("+o+")\\]")}isCompletedTask(r){var s,i;let n=r.match(/\[(.)]/);if(!n||!n[1])return!1;let u=n[1];return(e==null?void 0:e.settings.useOnlyCountMarks)?(e==null?void 0:e.settings.onlyCountTaskMarks.split("|")).includes(u):(e==null?void 0:e.settings.excludeTaskMarks)&&e.settings.excludeTaskMarks.includes(u)?!1:(((i=(s=e==null?void 0:e.settings.taskStatuses)==null?void 0:s.completed)==null?void 0:i.split("|"))||["x","X"]).includes(u)}getTaskStatus(r){let n=r.match(/\[(.)]/);if(!n||!n[1])return"notStarted";let u=n[1];return(e==null?void 0:e.settings.useOnlyCountMarks)?(e==null?void 0:e.settings.onlyCountTaskMarks.split("|")).includes(u)?"completed":this.determineNonCompletedStatus(u):(e==null?void 0:e.settings.excludeTaskMarks)&&e.settings.excludeTaskMarks.includes(u)?"notStarted":this.determineTaskStatus(u)}determineNonCompletedStatus(r){var s,i,d,o,c,f;return(((i=(s=e==null?void 0:e.settings.taskStatuses)==null?void 0:s.inProgress)==null?void 0:i.split("|"))||["-","/"]).includes(r)?"inProgress":(((o=(d=e==null?void 0:e.settings.taskStatuses)==null?void 0:d.abandoned)==null?void 0:o.split("|"))||[">"]).includes(r)?"abandoned":(((f=(c=e==null?void 0:e.settings.taskStatuses)==null?void 0:c.planned)==null?void 0:f.split("|"))||["?"]).includes(r)?"planned":(e==null?void 0:e.settings.countOtherStatusesAs)||"notStarted"}determineTaskStatus(r){var d,o,c,f,l,h,p,g,m,b;return(((o=(d=e==null?void 0:e.settings.taskStatuses)==null?void 0:d.completed)==null?void 0:o.split("|"))||["x","X"]).includes(r)?"completed":(((f=(c=e==null?void 0:e.settings.taskStatuses)==null?void 0:c.inProgress)==null?void 0:f.split("|"))||["-","/"]).includes(r)?"inProgress":(((h=(l=e==null?void 0:e.settings.taskStatuses)==null?void 0:l.abandoned)==null?void 0:h.split("|"))||[">"]).includes(r)?"abandoned":(((g=(p=e==null?void 0:e.settings.taskStatuses)==null?void 0:p.planned)==null?void 0:g.split("|"))||["?"]).includes(r)?"planned":(((b=(m=e==null?void 0:e.settings.taskStatuses)==null?void 0:m.notStarted)==null?void 0:b.split("|"))||[" "]).includes(r)?"notStarted":(e==null?void 0:e.settings.countOtherStatusesAs)||"notStarted"}shouldExcludeTask(r){if(!(e==null?void 0:e.settings.excludeTaskMarks)||e.settings.excludeTaskMarks.length===0)return!1;let n=r.match(/\[(.)]/);if(n&&n[1]){let u=n[1];return e.settings.excludeTaskMarks.includes(u)}return!1}getTabSize(){var r,n,u,a;try{let s=t.vault;return((r=s.getConfig)==null?void 0:r.call(s,"useTab"))===void 0||((n=s.getConfig)==null?void 0:n.call(s,"useTab"))===!0?(((u=s.getConfig)==null?void 0:u.call(s,"tabSize"))||4)/4:((a=s.getConfig)==null?void 0:a.call(s,"tabSize"))||4}catch(s){return console.error("Error getting tab size:",s),4}}calculateTasksNum(r,n){var g,m;if(!r||r.length===0)return{completed:0,total:0,inProgress:0,abandoned:0,notStarted:0,planned:0};if(r.length>1&&n){let b=((g=r[0].match(/^[\s|\t]*/))==null?void 0:g[0])||"",k=((m=r[1].match(/^[\s|\t]*/))==null?void 0:m[0])||"";if(b===k)return{completed:0,total:0,inProgress:0,abandoned:0,notStarted:0,planned:0}}let u=0,a=0,s=0,i=0,d=0,o=0,c=0,f=this.getTabSize(),l=[];if(!(e==null?void 0:e.settings.countSubLevel)&&n&&r[0]){let b=r[0].match(/^[\s|\t]*/);b&&(c=b[0].length/f)}let h=this.createTotalTaskRegex(!1,c,f),p=this.createTotalTaskRegex(!0);for(let b=0;b<r.length;b++)if(b!==0){if(n){let k=r[b],y=k.trim();if(!(e==null?void 0:e.settings.countSubLevel)){let T=k.match(/^[\s|\t]*/);if((T?T[0].length/f:0)!==c+1)continue}if(y&&k.match(h)&&!this.shouldExcludeTask(y)){o++;let T=this.getTaskStatus(y),E=y.match(/\[(.)]/);E&&E[1]&&l.push({mark:E[1],status:T,lineText:y}),T==="completed"?u++:T==="inProgress"?a++:T==="abandoned"?s++:T==="planned"?d++:T==="notStarted"&&i++}}else if(e==null?void 0:e.settings.addTaskProgressBarToHeading){let k=r[b],y=k.trim();if(!(e==null?void 0:e.settings.countSubLevel)){let T=k.match(/^[\s|\t]*/);if((T?T[0].length/f:0)!==0)continue}if(y&&k.match(p)&&!this.shouldExcludeTask(y)){o++;let T=this.getTaskStatus(y),E=y.match(/\[(.)]/);E&&E[1]&&l.push({mark:E[1],status:T,lineText:y}),T==="completed"?u++:T==="inProgress"?a++:T==="abandoned"?s++:T==="planned"?d++:T==="notStarted"&&i++}}}return u=Math.min(u,o),a=Math.min(a,o-u),s=Math.min(s,o-u-a),d=Math.min(d,o-u-a-s),i=o-u-a-s-d,{completed:u,total:o,inProgress:a,abandoned:s,notStarted:i,planned:d}}},{provide:r=>[G.EditorView.decorations.of(n=>{var u;return((u=n.plugin(r))==null?void 0:u.progressDecorations)||G.Decoration.none})]})}var Tt=A(require("obsidian"));function oa(t){let e=new Map;t.forEach(n=>{let u=n.parentElement;u&&(e.has(u)?e.get(u).push(n):e.set(u,[n]))});let r=[];return e.forEach((n,u)=>{r.push({parentElement:u,childrenElement:n})}),r}function ca(t){var s;let e=t.findAll(".task-list-item"),r=t.findAll("h1, h2, h3, h4, h5, h6"),n=new Map;if(n.set(null,[]),r.length===0)return n.set(null,e),n;let u=null,a=[...r,...e].sort((i,d)=>{let o=i.getBoundingClientRect().top,c=d.getBoundingClientRect().top;return o-c});for(let i of a)i.matches("h1, h2, h3, h4, h5, h6")?(u=i,n.has(u)||n.set(u,[])):i.matches(".task-list-item")&&((s=n.get(u))==null||s.push(i));return n}function fa(t,e,r){var n;for(let u of e)if(u.parentElement.parentElement&&((n=u.parentElement)==null?void 0:n.parentElement.hasClass("task-list-item"))){let a=new Ct(t,u,r).onload(),s=u.parentElement.previousElementSibling;s&&s.tagName==="P"?s.appendChild(a):u.parentElement.parentElement.insertBefore(a,u.parentElement)}}function la(t,e,r){e.forEach((n,u)=>{if(!u||n.length===0)return;let a={parentElement:u,childrenElement:n},s=new Ct(t,a,r).onload();u.appendChild(s)})}function ha({plugin:t,element:e,ctx:r}){if(!sa(t,r)){if(t.settings.enableHeadingProgressBar&&e.children[0]&&e.children[0].matches("h1, h2, h3, h4, h5, h6")){if(e.find(".cm-task-progress-bar"))return;let n=r.getSectionInfo(e);if(n){let u=n.text.split(`
`),a=[],i=u[n.lineStart].match(/^(#{1,6})\s/);if(!i)return;let d=i[1].length,o=!1;for(let f of u.slice(n.lineStart)){let l=f.match(/^(#{1,6})\s/);if(l){let h=l[1].length;if(o&&h<=d)break}o||(o=!0),a.push(f)}let c=a.filter(f=>f.trim().match(/^([-*+]|\\d+\\.)\s*\[(.)\]/)!==null);if(c.length>0){let f=[];for(let p of c){let g=createEl("li",{cls:"task-list-item"}),m=p.match(/\[(.)\]/);if(m&&m[1]){let k=m[1];g.setAttribute("data-task",k);let y=createEl("input",{cls:"task-list-item-checkbox",type:"checkbox"});t.settings.taskStatuses.completed.split("|").includes(k)&&(y.checked=!0),g.prepend(y)}let b=p.replace(/^([-*+]|\\d+\\.)\s*\[(.)\]\s*/,"");g.appendChild(createSpan({text:b})),f.push(g)}let l={parentElement:e.children[0],childrenElement:f},h=new Ct(t,l,"normal",{sectionInfo:n,ctx:r,element:e}).onload();e.children[0].appendChild(h)}}}if(e.find("ul.contains-task-list")){let n=e.findAll(".task-list-item"),u=oa(n);if(fa(t,u,"normal"),t.settings.enableHeadingProgressBar){let a=ca(e);la(t,a,"normal")}}else if(e.closest(".dataview-container")){let n=e.closest(".dataview-container");if(!n||n.getAttribute("data-task-progress-bar")==="true")return;let u=n.findAll(".task-list-item"),a=oa(u);if(fa(t,a,"dataview"),t.settings.enableHeadingProgressBar===!0){let s=ca(n);la(t,s,"dataview")}n.setAttribute("data-task-progress-bar","true")}}}var Ct=class extends Tt.Component{constructor(e,r,n,u){super();this.type=n;this.debounceUpdateFromModifiedFile=(0,Tt.debounce)(()=>{this.updateFromModifiedFile()},200);this.plugin=e,this.group=r,this.info=u,this.completed=0,this.total=0,this.inProgress=0,this.abandoned=0,this.notStarted=0,this.planned=0,n==="dataview"?this.updateCompletedAndTotalDataview():this.updateCompletedAndTotal();for(let a of this.group.childrenElement)this.type==="normal"?a.on("click","input",()=>{setTimeout(()=>{if(this.updateCompletedAndTotal(),this.changePercentage(),this.changeNumber(),this.group.parentElement.matches("h1, h2, h3, h4, h5, h6")){let s=this.group.parentElement.closest(".markdown-reading-view");s&&(s.style.display="none",setTimeout(()=>{s.style.display=""},10))}},200)}):this.type==="dataview"&&this.registerDomEvent(a,"mousedown",s=>{!s.target||s.target.tagName==="INPUT"&&setTimeout(()=>{if(this.updateCompletedAndTotalDataview(),this.changePercentage(),this.changeNumber(),this.group.parentElement.matches("h1, h2, h3, h4, h5, h6")){let i=this.group.parentElement.closest(".markdown-reading-view");i&&(i.style.display="none",setTimeout(()=>{i.style.display=""},10))}},200)});this.setupFileMonitoring()}setupFileMonitoring(){var r;if(!this.info)return;let e=(r=this.info.ctx)==null?void 0:r.sourcePath;!e||this.registerEvent(this.plugin.app.vault.on("modify",n=>{e===n.path&&this.debounceUpdateFromModifiedFile()}))}updateFromModifiedFile(){var p;if(!this.info||!this.info.ctx||!this.info.element||!this.info.sectionInfo){this.unload();return}let{ctx:e,element:r,sectionInfo:n}=this.info,u=e.getSectionInfo(r);if(!u){this.unload();return}this.info.sectionInfo=u;let a=u.text.split(`
`),s=[],d=a[u.lineStart].match(/^(#{1,6})\s/);if(!d){this.unload();return}let o=d[1].length,c=!1;for(let g of a.slice(u.lineStart)){let m=g.match(/^(#{1,6})\s/);if(m){let b=m[1].length;if(c&&b<=o)break}c||(c=!0),s.push(g)}let f=s.filter(g=>g.trim().match(/^([-*+]|\\d+\\.)\s*\[(.)\]/)!==null);if(f.length===0){this.unload();return}let l=[];for(let g of f){let m=createEl("li",{cls:"task-list-item"}),b=g.match(/\[(.)\]/);if(b&&b[1]){let y=b[1];m.setAttribute("data-task",y);let T=createEl("input",{cls:"task-list-item-checkbox",type:"checkbox"});this.plugin.settings.taskStatuses.completed.split("|").includes(y)&&(T.checked=!0),m.prepend(T)}let k=g.replace(/^([-*+]|\\d+\\.)\s*\[(.)\]\s*/,"");m.appendChild(createSpan({text:k})),l.push(m)}if(this.group.childrenElement=l,this.updateCompletedAndTotal(),this.inProgress>0&&!this.inProgressEl||this.inProgress===0&&this.inProgressEl||this.abandoned>0&&!this.abandonedEl||this.abandoned===0&&this.abandonedEl||this.planned>0&&!this.plannedEl||this.planned===0&&this.plannedEl){if(this.progressBarEl&&this.progressBarEl.parentElement){let g=this.progressBarEl.parentElement;(p=this.progressBarEl)==null||p.detach(),this.onunload();let m=this.onload();this.progressBarEl.remove(),g.appendChild(m)}}else this.changePercentage(),this.changeNumber()}getTaskStatusFromDataTask(e){var r,n,u;return((r=this.plugin)==null?void 0:r.settings.useOnlyCountMarks)?((n=this.plugin)==null?void 0:n.settings.onlyCountTaskMarks.split("|")).includes(e)?"completed":this.determineNonCompletedStatusFromDataTask(e):((u=this.plugin)==null?void 0:u.settings.excludeTaskMarks)&&this.plugin.settings.excludeTaskMarks.includes(e)?"notStarted":this.determineTaskStatusFromDataTask(e)}getTaskStatus(e){var u,a,s;let r=e.match(/\[(.)]/);if(!r||!r[1])return"notStarted";let n=r[1];return((u=this.plugin)==null?void 0:u.settings.useOnlyCountMarks)?((a=this.plugin)==null?void 0:a.settings.onlyCountTaskMarks.split("|")).includes(n)?"completed":this.determineNonCompletedStatus(n):((s=this.plugin)==null?void 0:s.settings.excludeTaskMarks)&&this.plugin.settings.excludeTaskMarks.includes(n)?"notStarted":this.determineTaskStatus(n)}determineNonCompletedStatusFromDataTask(e){var a,s,i,d,o,c,f;return(((s=(a=this.plugin)==null?void 0:a.settings.taskStatuses.inProgress)==null?void 0:s.split("|"))||["-","/"]).includes(e)?"inProgress":(((d=(i=this.plugin)==null?void 0:i.settings.taskStatuses.abandoned)==null?void 0:d.split("|"))||[">"]).includes(e)?"abandoned":(((c=(o=this.plugin)==null?void 0:o.settings.taskStatuses.planned)==null?void 0:c.split("|"))||["?"]).includes(e)?"planned":((f=this.plugin)==null?void 0:f.settings.countOtherStatusesAs)||"notStarted"}determineNonCompletedStatus(e){var a,s,i,d,o,c,f;return(((s=(a=this.plugin)==null?void 0:a.settings.taskStatuses.inProgress)==null?void 0:s.split("|"))||["-","/"]).includes(e)?"inProgress":(((d=(i=this.plugin)==null?void 0:i.settings.taskStatuses.abandoned)==null?void 0:d.split("|"))||[">"]).includes(e)?"abandoned":(((c=(o=this.plugin)==null?void 0:o.settings.taskStatuses.planned)==null?void 0:c.split("|"))||["?"]).includes(e)?"planned":((f=this.plugin)==null?void 0:f.settings.countOtherStatusesAs)||"notStarted"}determineTaskStatusFromDataTask(e){var i,d,o,c,f,l,h,p,g,m,b;return(((d=(i=this.plugin)==null?void 0:i.settings.taskStatuses.completed)==null?void 0:d.split("|"))||["x","X"]).includes(e)?"completed":(((c=(o=this.plugin)==null?void 0:o.settings.taskStatuses.inProgress)==null?void 0:c.split("|"))||["-","/"]).includes(e)?"inProgress":(((l=(f=this.plugin)==null?void 0:f.settings.taskStatuses.abandoned)==null?void 0:l.split("|"))||[">"]).includes(e)?"abandoned":(((p=(h=this.plugin)==null?void 0:h.settings.taskStatuses.planned)==null?void 0:p.split("|"))||["?"]).includes(e)?"planned":(((m=(g=this.plugin)==null?void 0:g.settings.taskStatuses.notStarted)==null?void 0:m.split("|"))||[" "]).includes(e)?"notStarted":((b=this.plugin)==null?void 0:b.settings.countOtherStatusesAs)||"notStarted"}determineTaskStatus(e){var i,d,o,c,f,l,h,p,g;return((i=this.plugin)==null?void 0:i.settings.taskStatuses.completed.split("|")).includes(e)?"completed":((o=(d=this.plugin)==null?void 0:d.settings.taskStatuses.inProgress)==null?void 0:o.split("|")).includes(e)?"inProgress":((f=(c=this.plugin)==null?void 0:c.settings.taskStatuses.abandoned)==null?void 0:f.split("|")).includes(e)?"abandoned":((h=(l=this.plugin)==null?void 0:l.settings.taskStatuses.planned)==null?void 0:h.split("|")).includes(e)?"planned":(((g=(p=this.plugin)==null?void 0:p.settings.taskStatuses.notStarted)==null?void 0:g.split("|")).includes(e),"notStarted")}isCompletedTaskFromDataTask(e){var n,u,a,s;return((n=this.plugin)==null?void 0:n.settings.useOnlyCountMarks)?((u=this.plugin)==null?void 0:u.settings.onlyCountTaskMarks.split("|")).includes(e):((a=this.plugin)==null?void 0:a.settings.excludeTaskMarks)&&this.plugin.settings.excludeTaskMarks.includes(e)?!1:((s=this.plugin)==null?void 0:s.settings.taskStatuses.completed.split("|")).includes(e)}isCompletedTask(e){var a,s,i,d;let r=e.match(/\[(.)]/);if(!r||!r[1])return!1;let n=r[1];return((a=this.plugin)==null?void 0:a.settings.useOnlyCountMarks)?((s=this.plugin)==null?void 0:s.settings.onlyCountTaskMarks.split("|")).includes(n):((i=this.plugin)==null?void 0:i.settings.excludeTaskMarks)&&this.plugin.settings.excludeTaskMarks.includes(n)?!1:((d=this.plugin)==null?void 0:d.settings.taskStatuses.completed.split("|")).includes(n)}updateCompletedAndTotalDataview(){var d,o,c,f;let e=0,r=0,n=0,u=0,a=0,s=0,i=new Map;for(let l of this.group.childrenElement){let h=l.parentElement;h&&(i.has(h)||i.set(h,[]),(d=i.get(h))==null||d.push(l))}for(let l of this.group.childrenElement){let h=l.querySelector(".task-list-item-checkbox");if(!h)continue;if(!((o=this.plugin)==null?void 0:o.settings.countSubLevel)){let g=l.parentElement;if(g&&g.classList.contains("task-list-item"))continue;if(this.group.parentElement.matches("h1, h2, h3, h4, h5, h6")){let m=l.closest("li");if(m){let b=m.parentElement;if((c=b==null?void 0:b.parentElement)==null?void 0:c.closest("li"))continue}}}s++;let p=l.getAttribute("data-task");if(p){let g=this.getTaskStatusFromDataTask(p);this.isCompletedTaskFromDataTask(p)?e++:g==="inProgress"?r++:g==="abandoned"?n++:g==="planned"?u++:g==="notStarted"&&a++}else{let g=((f=l.textContent)==null?void 0:f.trim())||"",m=g.match(/\[(.)]/);if(m&&m[1]){let b=this.getTaskStatus(g);this.isCompletedTask(g)?e++:b==="inProgress"?r++:b==="abandoned"?n++:b==="planned"?u++:b==="notStarted"&&a++}else h.checked?e++:a++}}this.completed=e,this.inProgress=r,this.abandoned=n,this.planned=u,this.notStarted=a,this.total=s}countTasks(e){var d;let r=0,n=0,u=0,a=0,s=0,i=0;for(let o of e){let c=o.querySelector(".task-list-item-checkbox");if(!c)continue;let f=o.getAttribute("data-task");if(f){let l=this.getTaskStatusFromDataTask(f);this.isCompletedTaskFromDataTask(f)?r++:l==="inProgress"?n++:l==="abandoned"?u++:l==="planned"?a++:l==="notStarted"&&s++}else{let l=((d=o.textContent)==null?void 0:d.trim())||"",h=c,p=l.match(/\[(.)]/);if(p&&p[1]){let g=this.getTaskStatus(l);this.isCompletedTask(l)?r++:g==="inProgress"?n++:g==="abandoned"?u++:g==="planned"?a++:g==="notStarted"&&s++}else h.checked?r++:s++}i++}return{completed:r,inProgress:n,abandoned:u,planned:a,notStarted:s,total:i}}updateCompletedAndTotal(){var o,c,f,l;let e=0,r=new Map;for(let h of this.group.childrenElement){let p=h.parentElement;p&&(r.has(p)||r.set(p,[]),(o=r.get(p))==null||o.push(h))}let n=[];for(let h of this.group.childrenElement)if(!!h.querySelector(".task-list-item-checkbox")){if(n.push(h),(c=this.plugin)==null?void 0:c.settings.countSubLevel){if((l=this.plugin)==null?void 0:l.settings.countSubLevel){let g=h.findAll(".task-list-item");for(let m of g)e++,n.push(m)}}else{let g=h.parentElement;if(g&&g.classList.contains("task-list-item"))continue;if(this.group.parentElement.matches("h1, h2, h3, h4, h5, h6")){let m=h.closest("li");if(m){let b=m.parentElement;if((f=b==null?void 0:b.parentElement)==null?void 0:f.closest("li"))continue}}}e++}let{completed:u,inProgress:a,abandoned:s,planned:i,notStarted:d}=this.countTasks(n);this.completed=u,this.inProgress=a,this.abandoned=s,this.planned=i,this.notStarted=d,this.total=e}changePercentage(){if(this.total===0)return;let e=Math.round(this.completed/this.total*1e4)/100,r=Math.round(this.inProgress/this.total*1e4)/100,n=Math.round(this.abandoned/this.total*1e4)/100,u=Math.round(this.planned/this.total*1e4)/100;this.progressEl.style.width=e+"%",this.inProgressEl&&(this.inProgressEl.style.width=r+"%",this.inProgressEl.style.left=e+"%"),this.abandonedEl&&(this.abandonedEl.style.width=n+"%",this.abandonedEl.style.left=e+r+"%"),this.plannedEl&&(this.plannedEl.style.width=u+"%",this.plannedEl.style.left=e+r+n+"%");let a="progress-bar-inline";switch(!0){case e===0:a+=" progress-bar-inline-empty";break;case(e>0&&e<25):a+=" progress-bar-inline-0";break;case(e>=25&&e<50):a+=" progress-bar-inline-1";break;case(e>=50&&e<75):a+=" progress-bar-inline-2";break;case(e>=75&&e<100):a+=" progress-bar-inline-3";break;case e>=100:a+=" progress-bar-inline-complete";break}r>0&&(a+=" has-in-progress"),n>0&&(a+=" has-abandoned"),u>0&&(a+=" has-planned"),this.progressEl.className=a}changeNumber(){var e,r,n;if((e=this.plugin)==null?void 0:e.settings.addNumberToProgressBar){let u;if((r=this.plugin)==null?void 0:r.settings.showPercentage){let a=Math.round(this.completed/this.total*1e4)/100;if((n=this.plugin)==null?void 0:n.settings.customizeProgressRanges){let s=this.plugin.settings.progressRanges,i=`${a}%`;for(let d of s)if(a>=d.min&&a<=d.max){i=d.text.replace("{{PROGRESS}}",a.toString());break}u=i}else u=`${a}%`}else this.inProgress>0||this.abandoned>0||this.planned>0?u=`[${this.completed}\u2713 ${this.inProgress}\u27F3 ${this.abandoned}\u2717 ${this.planned}? / ${this.total}]`:u=`[${this.completed}/${this.total}]`;this.numberEl?this.numberEl.innerText=u:this.numberEl=this.progressBarEl.createEl("div",{cls:"progress-status",text:u})}else this.numberEl&&(this.numberEl.innerText=`[${this.completed}/${this.total}]`)}onload(){var e,r,n,u;if(this.progressBarEl=createSpan(((e=this.plugin)==null?void 0:e.settings.addNumberToProgressBar)?"cm-task-progress-bar with-number":"cm-task-progress-bar"),this.progressBackGroundEl=this.progressBarEl.createEl("div",{cls:"progress-bar-inline-background"}),this.progressEl=this.progressBackGroundEl.createEl("div",{cls:"progress-bar-inline progress-completed"}),this.inProgress>0&&(this.inProgressEl=this.progressBackGroundEl.createEl("div",{cls:"progress-bar-inline progress-in-progress"})),this.abandoned>0&&(this.abandonedEl=this.progressBackGroundEl.createEl("div",{cls:"progress-bar-inline progress-abandoned"})),this.planned>0&&(this.plannedEl=this.progressBackGroundEl.createEl("div",{cls:"progress-bar-inline progress-planned"})),((r=this.plugin)==null?void 0:r.settings.addNumberToProgressBar)&&this.total){let a;if((n=this.plugin)==null?void 0:n.settings.showPercentage){let s=Math.round(this.completed/this.total*1e4)/100;if((u=this.plugin)==null?void 0:u.settings.customizeProgressRanges){let i=this.plugin.settings.progressRanges,d=`${s}%`;for(let o of i)if(s>=o.min&&s<=o.max){d=o.text.replace("{{PROGRESS}}",s.toString());break}a=d}else a=`${s}%`}else this.inProgress>0||this.abandoned>0||this.planned>0?a=`[${this.completed}\u2713 ${this.inProgress}\u27F3 ${this.abandoned}\u2717 ${this.planned}? / ${this.total}]`:a=`[${this.completed}/${this.total}]`;this.numberEl=this.progressBarEl.createEl("div",{cls:"progress-status",text:a})}return this.changePercentage(),this.progressBarEl}onunload(){super.onunload()}};var _e=A(require("obsidian"));function ga({plugin:t,element:e,ctx:r}){let n=e.findAll(".task-list-item");for(let u of n){if(u.querySelector(".task-text-mark"))continue;let a=u.querySelector(".task-list-item-checkbox");if(!a)continue;let s=u.getAttribute("data-task")||" ";new pa(t,u,a,s,r).load()}}var pa=class extends _e.Component{constructor(e,r,n,u,a){super();this.plugin=e;this.taskItem=r;this.originalCheckbox=n;this.currentMark=u;this.ctx=a;this.debounceCycleTaskStatus=(0,_e.debounce)(()=>{this.cycleTaskStatus()},200)}load(){var e,r;if(this.plugin.settings.enableCustomTaskMarks)this.markContainerEl=createEl("span",{cls:"task-state-container",attr:{"data-task-state":this.currentMark}}),this.bulletEl=this.markContainerEl.createEl("span",{cls:"task-fake-bullet"}),this.markEl=this.markContainerEl.createEl("span",{cls:"task-state",attr:{"data-task-state":this.currentMark}}),this.styleMarkByStatus(),(e=this.originalCheckbox.parentElement)==null||e.insertBefore(this.markContainerEl,this.originalCheckbox.nextSibling),this.markEl,this.registerDomEvent(this.markEl,"click",n=>{n.preventDefault(),n.stopPropagation(),this.debounceCycleTaskStatus()});else{let n=this.originalCheckbox.cloneNode(!0);(r=this.originalCheckbox.parentElement)==null||r.insertBefore(n,this.originalCheckbox.nextSibling),this.registerDomEvent(n,"click",u=>{u.preventDefault(),u.stopPropagation(),this.debounceCycleTaskStatus()})}return this.originalCheckbox.style.display="none",this}styleMarkByStatus(){this.markEl.empty();let e=this.getTaskStatusFromMark(this.currentMark);e?this.markEl.setText(e):this.markEl.setText(this.currentMark)}triggerMarkUpdate(e){this.plugin.settings.enableCustomTaskMarks&&(this.taskItem.setAttribute("data-task",e),this.markEl.setAttribute("data-task-state",e),this.styleMarkByStatus())}cycleTaskStatus(){var m;let e=this.ctx.getSectionInfo(this.taskItem),r=this.ctx.sourcePath?this.plugin.app.vault.getFileByPath(this.ctx.sourcePath):null;if(!r||!(r instanceof _e.TFile))return;let n=null;if(!e){if((m=this.ctx.containerEl)==null?void 0:m.cmView){let b=this.ctx.containerEl.cmView;b.widget.clazz==="cm-callout"&&(n={lineStart:0,start:b.widget.start,end:b.widget.end,text:b.widget.text})}if(!n)return}let u=this.plugin.settings.taskStatusCycle||[],a=this.plugin.settings.taskStatusMarks||{},s=this.plugin.settings.excludeMarksFromCycle||[],i=u.filter(b=>!s.includes(b));if(i.length===0)return;let d=Object.keys(a).find(b=>a[b]===this.currentMark)||i[0],c=(i.indexOf(d)+1)%i.length,f=i[c],l=a[f]||" ",h=yt(this.plugin),p=f==="DONE"&&h,g=d==="DONE";this.plugin.app.vault.process(r,b=>{var E;let k=b.split(`
`),y,T;if(e){let w=parseInt(this.taskItem.getAttribute("data-line")||"0");y=e.lineStart+w,T=k[y]}else if(n){let w=parseInt(((E=this.taskItem.querySelector("input"))==null?void 0:E.getAttribute("data-line"))||"0");y=b.substring(0,n.start).split(`
`).length-1+w,T=k[y]}else return b;if(""+y,p){let w=h.executeToggleTaskDoneCommand(T,r.path),M=w.split(`
`);M.length===1?k[y]=w:k.splice(y,1,...M),this.currentMark=l,this.triggerMarkUpdate(l),this.originalCheckbox.checked=!0}else{let w=T;if(g&&(w=w.replace(/\s+✅\s+\d{4}-\d{2}-\d{2}/,"")),w=w.replace(/(\s*[-*+]\s*\[)(.)(])/,`$1${l}$3`),w!==T){k[y]=w,this.currentMark=l,this.triggerMarkUpdate(l);let M=this.plugin.settings.taskStatuses.completed.split("|");this.originalCheckbox.checked=M.includes(l)}}return k.join(`
`)})}getTaskStatusFromMark(e){let r=this.plugin.settings.taskStatusCycle,n=this.plugin.settings.taskStatusMarks,u=this.plugin.settings.excludeMarksFromCycle||[],a=r.filter(i=>!u.includes(i));return a.length===0?null:Object.keys(n).find(i=>n[i]===e)||a[0]}unload(){this.markEl&&this.markEl.remove(),this.bulletEl&&this.bulletEl.remove(),this.originalCheckbox&&(this.originalCheckbox.style.display=""),super.unload()}};var P=A(require("obsidian"));hr();var L={showProgressBar:!1,addTaskProgressBarToHeading:!1,enableHeadingProgressBar:!1,addNumberToProgressBar:!1,autoCompleteParent:!1,supportHoverToShowProgressInfo:!1,markParentInProgressWhenPartiallyComplete:!1,showPercentage:!1,countSubLevel:!0,hideProgressBarBasedOnConditions:!1,hideProgressBarTags:"no-progress-bar",hideProgressBarFolders:"",hideProgressBarMetadata:"hide-progress-bar",taskStatuses:{completed:"x|X",inProgress:">|/",abandoned:"-",notStarted:" ",planned:"?"},countOtherStatusesAs:"notStarted",excludeTaskMarks:"",onlyCountTaskMarks:"x|X",useOnlyCountMarks:!1,customizeProgressRanges:!1,progressRanges:[{min:0,max:20,text:"Just started {{PROGRESS}}%"},{min:20,max:40,text:"Making progress {{PROGRESS}}%"},{min:40,max:60,text:"Half way {{PROGRESS}}%"},{min:60,max:80,text:"Good progress {{PROGRESS}}%"},{min:80,max:100,text:"Almost there {{PROGRESS}}%"}],enableTaskStatusSwitcher:!1,enableCustomTaskMarks:!1,taskStatusCycle:["TODO","DOING","IN-PROGRESS","DONE"],taskStatusMarks:{TODO:" ",DOING:"-","IN-PROGRESS":">",DONE:"x"},excludeMarksFromCycle:[],enablePriorityPicker:!1,enablePriorityKeyboardShortcuts:!1,enableDatePicker:!1,enableCycleCompleteStatus:!0,alwaysCycleNewTasks:!1,completedTaskMover:{enableCompletedTaskMover:!1,taskMarkerType:"version",versionMarker:"version 1.0",dateMarker:"archived on {{date}}",customMarker:"moved {{DATE:YYYY-MM-DD HH:mm}}",completeAllMovedTasks:!1,treatAbandonedAsCompleted:!1,withCurrentFileLink:!1}},gr=class extends P.PluginSettingTab{constructor(e,r){super(e,r);this.applyDebounceTimer=0;this.plugin=r}applySettingsUpdate(){clearTimeout(this.applyDebounceTimer);let e=this.plugin;this.applyDebounceTimer=window.setTimeout(()=>{e.saveSettings()},100)}display(){let{containerEl:e}=this;e.empty(),new P.Setting(e).setName("Task Genius").setDesc("Comprehensive task management plugin for Obsidian with progress bars, task status cycling, and advanced task tracking features.").setHeading(),new P.Setting(e).setName("Show progress bar").setDesc("Toggle this to show the progress bar.").addToggle(u=>u.setValue(this.plugin.settings.showProgressBar).onChange(async a=>{this.plugin.settings.showProgressBar=a,this.applySettingsUpdate()})),new P.Setting(e).setName("Support hover to show progress info").setDesc("Toggle this to allow this plugin to show progress info when hovering over the progress bar.").addToggle(u=>u.setValue(this.plugin.settings.supportHoverToShowProgressInfo).onChange(async a=>{this.plugin.settings.supportHoverToShowProgressInfo=a,this.applySettingsUpdate()})),new P.Setting(e).setName("Add progress bar to Heading").setDesc("Toggle this to allow this plugin to add progress bar for Task below the headings.").addToggle(u=>u.setValue(this.plugin.settings.addTaskProgressBarToHeading).onChange(async a=>{this.plugin.settings.addTaskProgressBarToHeading=a,this.applySettingsUpdate()})),new P.Setting(e).setName("Enable heading progress bars").setDesc("Add progress bars to headings to show progress of all tasks under that heading.").addToggle(u=>u.setValue(this.plugin.settings.enableHeadingProgressBar).onChange(async a=>{this.plugin.settings.enableHeadingProgressBar=a,this.applySettingsUpdate()})),new P.Setting(e).setName("Auto complete parent task").setDesc("Toggle this to allow this plugin to auto complete parent task when all child tasks are completed.").addToggle(u=>u.setValue(this.plugin.settings.autoCompleteParent).onChange(async a=>{this.plugin.settings.autoCompleteParent=a,this.applySettingsUpdate()})),new P.Setting(e).setName("Mark parent as 'In Progress' when partially complete").setDesc("When some but not all child tasks are completed, mark the parent task as 'In Progress'. Only works when 'Auto complete parent' is enabled.").addToggle(u=>u.setValue(this.plugin.settings.markParentInProgressWhenPartiallyComplete).onChange(async a=>{this.plugin.settings.markParentInProgressWhenPartiallyComplete=a,this.applySettingsUpdate()})),this.showNumberToProgressbar(),new P.Setting(e).setName("Count sub children level of current Task").setDesc("Toggle this to allow this plugin to count sub tasks.").addToggle(u=>u.setValue(this.plugin.settings.countSubLevel).onChange(async a=>{this.plugin.settings.countSubLevel=a,this.applySettingsUpdate()})),new P.Setting(e).setName("Task Status Settings").setDesc("Select a predefined task status collection or customize your own").setHeading().addDropdown(u=>{u.addOption("custom","Custom");for(let a of lr)u.addOption(a,a);u.setValue("custom"),u.onChange(async a=>{if(a==="custom")return;let s=new P.Modal(this.app);s.titleEl.setText(`Apply ${a} Theme?`),s.contentEl.createDiv().setText(`This will override your current task status settings with the ${a} theme. Do you want to continue?`);let d=s.contentEl.createDiv();d.addClass("modal-button-container");let o=d.createEl("button");o.setText("Cancel"),o.addEventListener("click",()=>{u.setValue("custom"),s.close()});let c=d.createEl("button");c.setText("Apply Theme"),c.addClass("mod-cta"),c.addEventListener("click",async()=>{s.close();try{let f=a.toLowerCase()+"SupportedStatuses",h=(await Promise.resolve().then(()=>(hr(),Pa)))[f];if(typeof h=="function"){let p=h(),g={completed:[],inProgress:[],abandoned:[],notStarted:[],planned:[]};for(let[m,b,k]of p)k in g&&g[k].push(m);for(let m of Object.keys(this.plugin.settings.taskStatuses))g[m]&&g[m].length>0&&(this.plugin.settings.taskStatuses[m]=g[m].join("|"));this.applySettingsUpdate(),this.display()}}catch(f){console.error("Failed to apply task status theme:",f)}}),s.open()})}),new P.Setting(e).setName("Completed task markers").setDesc('Characters in square brackets that represent completed tasks. Example: "x|X"').addText(u=>u.setPlaceholder(L.taskStatuses.completed).setValue(this.plugin.settings.taskStatuses.completed).onChange(async a=>{this.plugin.settings.taskStatuses.completed=a||L.taskStatuses.completed,this.applySettingsUpdate()})),new P.Setting(e).setName("Planned task markers").setDesc('Characters in square brackets that represent planned tasks. Example: "?"').addText(u=>u.setPlaceholder(L.taskStatuses.planned).setValue(this.plugin.settings.taskStatuses.planned).onChange(async a=>{this.plugin.settings.taskStatuses.planned=a||L.taskStatuses.planned,this.applySettingsUpdate()})),new P.Setting(e).setName("In progress task markers").setDesc('Characters in square brackets that represent tasks in progress. Example: ">|/"').addText(u=>u.setPlaceholder(L.taskStatuses.inProgress).setValue(this.plugin.settings.taskStatuses.inProgress).onChange(async a=>{this.plugin.settings.taskStatuses.inProgress=a||L.taskStatuses.inProgress,this.applySettingsUpdate()})),new P.Setting(e).setName("Abandoned task markers").setDesc('Characters in square brackets that represent abandoned tasks. Example: "-"').addText(u=>u.setPlaceholder(L.taskStatuses.abandoned).setValue(this.plugin.settings.taskStatuses.abandoned).onChange(async a=>{this.plugin.settings.taskStatuses.abandoned=a||L.taskStatuses.abandoned,this.applySettingsUpdate()})),new P.Setting(e).setName("Not started task markers").setDesc('Characters in square brackets that represent not started tasks. Default is space " "').addText(u=>u.setPlaceholder(L.taskStatuses.notStarted).setValue(this.plugin.settings.taskStatuses.notStarted).onChange(async a=>{this.plugin.settings.taskStatuses.notStarted=a||L.taskStatuses.notStarted,this.applySettingsUpdate()})),new P.Setting(e).setName("Count other statuses as").setDesc('Select the status to count other statuses as. Default is "Not Started".').addDropdown(u=>{u.addOption("notStarted","Not Started"),u.addOption("abandoned","Abandoned"),u.addOption("planned","Planned"),u.addOption("completed","Completed"),u.addOption("inProgress","In Progress")}),new P.Setting(e).setName("Task Counting Settings").setDesc("Toggle this to allow this plugin to count sub tasks.").setHeading(),new P.Setting(e).setName("Exclude specific task markers").setDesc('Specify task markers to exclude from counting. Example: "?|/"').addText(u=>u.setPlaceholder("").setValue(this.plugin.settings.excludeTaskMarks).onChange(async a=>{this.plugin.settings.excludeTaskMarks=a,this.applySettingsUpdate()})),new P.Setting(e).setName("Only count specific task markers").setDesc("Toggle this to only count specific task markers").addToggle(u=>u.setValue(this.plugin.settings.useOnlyCountMarks).onChange(async a=>{this.plugin.settings.useOnlyCountMarks=a,this.applySettingsUpdate(),setTimeout(()=>{this.display()},200)})),this.plugin.settings.useOnlyCountMarks&&new P.Setting(e).setName("Specific task markers to count").setDesc('Specify which task markers to count. Example: "x|X|>"').addText(u=>u.setPlaceholder(L.onlyCountTaskMarks).setValue(this.plugin.settings.onlyCountTaskMarks).onChange(async a=>{a.length===0?this.plugin.settings.onlyCountTaskMarks=L.onlyCountTaskMarks:this.plugin.settings.onlyCountTaskMarks=a,this.applySettingsUpdate()})),new P.Setting(e).setName("Conditional Progress Bar Display").setHeading(),new P.Setting(e).setName("Hide progress bars based on conditions").setDesc("Toggle this to enable hiding progress bars based on tags, folders, or metadata.").addToggle(u=>u.setValue(this.plugin.settings.hideProgressBarBasedOnConditions).onChange(async a=>{this.plugin.settings.hideProgressBarBasedOnConditions=a,this.applySettingsUpdate(),setTimeout(()=>{this.display()},200)})),this.plugin.settings.hideProgressBarBasedOnConditions&&(new P.Setting(e).setName("Hide by tags").setDesc('Specify tags that will hide progress bars (comma-separated, without #). Example: "no-progress-bar,hide-progress"').addText(u=>u.setPlaceholder(L.hideProgressBarTags).setValue(this.plugin.settings.hideProgressBarTags).onChange(async a=>{this.plugin.settings.hideProgressBarTags=a,this.applySettingsUpdate()})),new P.Setting(e).setName("Hide by folders").setDesc('Specify folder paths that will hide progress bars (comma-separated). Example: "Daily Notes,Projects/Hidden"').addText(u=>u.setPlaceholder("folder1,folder2/subfolder").setValue(this.plugin.settings.hideProgressBarFolders).onChange(async a=>{this.plugin.settings.hideProgressBarFolders=a,this.applySettingsUpdate()})),new P.Setting(e).setName("Hide by metadata").setDesc('Specify frontmatter metadata that will hide progress bars. Example: "hide-progress-bar: true"').addText(u=>u.setPlaceholder(L.hideProgressBarMetadata).setValue(this.plugin.settings.hideProgressBarMetadata).onChange(async a=>{this.plugin.settings.hideProgressBarMetadata=a,this.applySettingsUpdate()}))),this.containerEl.createEl("h2",{text:"Task Status Switcher"}),new P.Setting(e).setName("Enable task status switcher").setDesc("Enable/disable the ability to cycle through task states by clicking.").addToggle(u=>{u.setValue(this.plugin.settings.enableTaskStatusSwitcher).onChange(async a=>{this.plugin.settings.enableTaskStatusSwitcher=a,this.applySettingsUpdate()})}),new P.Setting(e).setName("Enable custom task marks").setDesc("Replace default checkboxes with styled text marks that follow your task status cycle when clicked.").addToggle(u=>{u.setValue(this.plugin.settings.enableCustomTaskMarks).onChange(async a=>{this.plugin.settings.enableCustomTaskMarks=a,this.applySettingsUpdate()})}),new P.Setting(e).setName("Enable cycle complete status").setDesc("Enable/disable the ability to automatically cycle through task states when pressing a mark.").addToggle(u=>{u.setValue(this.plugin.settings.enableCycleCompleteStatus).onChange(async a=>{this.plugin.settings.enableCycleCompleteStatus=a,this.applySettingsUpdate()})}),new P.Setting(e).setName("Always cycle new tasks").setDesc("When enabled, newly inserted tasks will immediately cycle to the next status. When disabled, newly inserted tasks with valid marks will keep their original mark.").addToggle(u=>{u.setValue(this.plugin.settings.alwaysCycleNewTasks).onChange(async a=>{this.plugin.settings.alwaysCycleNewTasks=a,this.applySettingsUpdate()})}),new P.Setting(e).setName("Task Status Cycle and Marks").setDesc("Define task states and their corresponding marks. The order from top to bottom defines the cycling sequence.");let r=e.createDiv({cls:"task-states-container"}),n=()=>{r.empty();let u=this.plugin.settings.taskStatusCycle,a=this.plugin.settings.taskStatusMarks;this.plugin.settings.excludeMarksFromCycle||(this.plugin.settings.excludeMarksFromCycle=[]),u.forEach((i,d)=>{let o=r.createDiv({cls:"task-state-row"}),c=new P.Setting(o).setName(`Status #${d+1}`).addText(f=>{f.setValue(i).setPlaceholder("Status name").onChange(l=>{let h=u[d];u[d]=l,h in a&&(a[l]=a[h],delete a[h]),this.applySettingsUpdate()})}).addText(f=>{f.setValue(a[i]||" ").setPlaceholder("Mark").onChange(l=>{let h=l.trim().charAt(0)||" ";a[i]=h,this.applySettingsUpdate()}),f.inputEl.maxLength=1,f.inputEl.style.width="40px"});c.addToggle(f=>{f.setTooltip("Include in cycle").setValue(!this.plugin.settings.excludeMarksFromCycle.includes(i)).onChange(l=>{l?this.plugin.settings.excludeMarksFromCycle=this.plugin.settings.excludeMarksFromCycle.filter(h=>h!==i):this.plugin.settings.excludeMarksFromCycle.includes(i)||this.plugin.settings.excludeMarksFromCycle.push(i),this.applySettingsUpdate()})}),c.addExtraButton(f=>{f.setIcon("arrow-up").setTooltip("Move up").onClick(()=>{d>0&&([u[d-1],u[d]]=[u[d],u[d-1]],this.applySettingsUpdate(),n())}),f.extraSettingsEl.style.marginRight="0"}),c.addExtraButton(f=>{f.setIcon("arrow-down").setTooltip("Move down").onClick(()=>{d<u.length-1&&([u[d],u[d+1]]=[u[d+1],u[d]],this.applySettingsUpdate(),n())}),f.extraSettingsEl.style.marginRight="0"}),c.addExtraButton(f=>{f.setIcon("trash").setTooltip("Remove").onClick(()=>{u.splice(d,1),this.applySettingsUpdate(),n()}),f.extraSettingsEl.style.marginRight="0"})});let s=r.createDiv();new P.Setting(s).addButton(i=>{i.setButtonText("Add Status").setCta().onClick(()=>{let d=`STATUS_${u.length+1}`;u.push(d),a[d]=" ",this.applySettingsUpdate(),n()})})};if(n(),this.addPriorityPickerSettings(),this.addDatePickerSettings(),new P.Setting(e).setName("Completed Task Mover").setHeading(),new P.Setting(e).setName("Enable completed task mover").setDesc("Toggle this to enable commands for moving completed tasks to another file.").addToggle(u=>u.setValue(this.plugin.settings.completedTaskMover.enableCompletedTaskMover).onChange(async a=>{this.plugin.settings.completedTaskMover.enableCompletedTaskMover=a,this.applySettingsUpdate(),setTimeout(()=>{this.display()},200)})),this.plugin.settings.completedTaskMover.enableCompletedTaskMover){new P.Setting(e).setName("Task marker type").setDesc("Choose what type of marker to add to moved tasks").addDropdown(a=>{a.addOption("version","Version marker").addOption("date","Date marker").addOption("custom","Custom marker").setValue(this.plugin.settings.completedTaskMover.taskMarkerType).onChange(async s=>{this.plugin.settings.completedTaskMover.taskMarkerType=s,this.applySettingsUpdate(),setTimeout(()=>{this.display()},200)})});let u=this.plugin.settings.completedTaskMover.taskMarkerType;u==="version"?new P.Setting(e).setName("Version marker text").setDesc("Text to append to tasks when moved (e.g., 'version 1.0')").addText(a=>a.setPlaceholder("version 1.0").setValue(this.plugin.settings.completedTaskMover.versionMarker).onChange(async s=>{this.plugin.settings.completedTaskMover.versionMarker=s,this.applySettingsUpdate()})):u==="date"?new P.Setting(e).setName("Date marker text").setDesc("Text to append to tasks when moved (e.g., 'archived on 2023-12-31')").addText(a=>a.setPlaceholder("archived on {{date}}").setValue(this.plugin.settings.completedTaskMover.dateMarker).onChange(async s=>{this.plugin.settings.completedTaskMover.dateMarker=s,this.applySettingsUpdate()})):u==="custom"&&new P.Setting(e).setName("Custom marker text").setDesc("Use {{DATE:format}} for date formatting (e.g., {{DATE:YYYY-MM-DD}})").addText(a=>a.setPlaceholder("moved {{DATE:YYYY-MM-DD HH:mm}}").setValue(this.plugin.settings.completedTaskMover.customMarker).onChange(async s=>{this.plugin.settings.completedTaskMover.customMarker=s,this.applySettingsUpdate()})),new P.Setting(e).setName("Treat abandoned tasks as completed").setDesc("If enabled, abandoned tasks will be treated as completed.").addToggle(a=>{a.setValue(this.plugin.settings.completedTaskMover.treatAbandonedAsCompleted),a.onChange(s=>{this.plugin.settings.completedTaskMover.treatAbandonedAsCompleted=s,this.applySettingsUpdate()})}),new P.Setting(e).setName("Complete all moved tasks").setDesc("If enabled, all moved tasks will be marked as completed.").addToggle(a=>{a.setValue(this.plugin.settings.completedTaskMover.completeAllMovedTasks),a.onChange(s=>{this.plugin.settings.completedTaskMover.completeAllMovedTasks=s,this.applySettingsUpdate()})}),new P.Setting(e).setName("With current file link").setDesc("A link to the current file will be added to the parent task of the moved tasks.").addToggle(a=>{a.setValue(this.plugin.settings.completedTaskMover.withCurrentFileLink),a.onChange(s=>{this.plugin.settings.completedTaskMover.withCurrentFileLink=s,this.applySettingsUpdate()})})}new P.Setting(e).setName("Say Thank You").setHeading(),new P.Setting(e).setName("Donate").setDesc("If you like this plugin, consider donating to support continued development:").addButton(u=>{u.buttonEl.outerHTML='<a href="https://www.buymeacoffee.com/boninall"><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&emoji=&slug=boninall&button_colour=6495ED&font_colour=ffffff&font_family=Inter&outline_colour=000000&coffee_colour=FFDD00"></a>'})}showNumberToProgressbar(){new P.Setting(this.containerEl).setName("Add number to the Progress Bar").setDesc("Toggle this to allow this plugin to add tasks number to progress bar.").addToggle(e=>e.setValue(this.plugin.settings.addNumberToProgressBar).onChange(async r=>{this.plugin.settings.addNumberToProgressBar=r,this.applySettingsUpdate(),setTimeout(()=>{this.display()},200)})),this.plugin.settings.addNumberToProgressBar&&(new P.Setting(this.containerEl).setName("Show percentage").setDesc("Toggle this to allow this plugin to show percentage in the progress bar.").addToggle(e=>e.setValue(this.plugin.settings.showPercentage).onChange(async r=>{this.plugin.settings.showPercentage=r,this.applySettingsUpdate(),setTimeout(()=>{this.display()},200)})),this.plugin.settings.showPercentage&&(new P.Setting(this.containerEl).setName("Customize progress text").setDesc("Toggle this to customize text representation for different progress percentage ranges.").addToggle(e=>e.setValue(this.plugin.settings.customizeProgressRanges).onChange(async r=>{this.plugin.settings.customizeProgressRanges=r,this.applySettingsUpdate(),setTimeout(()=>{this.display()},200)})),this.plugin.settings.customizeProgressRanges&&this.addProgressRangesSettings()))}addProgressRangesSettings(){new P.Setting(this.containerEl).setName("Progress Ranges").setDesc("Define progress ranges and their corresponding text representations.").setHeading(),this.plugin.settings.progressRanges.forEach((r,n)=>{new P.Setting(this.containerEl).setName(`Range ${n+1}: ${r.min}%-${r.max}%`).setDesc("Use {{PROGRESS}} as a placeholder for the percentage value").addText(u=>u.setPlaceholder("Template text with {{PROGRESS}} placeholder").setValue(r.text).onChange(async a=>{this.plugin.settings.progressRanges[n].text=a,this.applySettingsUpdate()})).addButton(u=>{u.setButtonText("Delete").onClick(async()=>{this.plugin.settings.progressRanges.splice(n,1),this.applySettingsUpdate(),this.display()})})}),new P.Setting(this.containerEl).setName("Add new range").setDesc("Add a new progress percentage range with custom text");let e=new P.Setting(this.containerEl);e.infoEl.detach(),e.addText(r=>r.setPlaceholder("Min percentage (0-100)").setValue("").onChange(async n=>{})).addText(r=>r.setPlaceholder("Max percentage (0-100)").setValue("").onChange(async n=>{})).addText(r=>r.setPlaceholder("Text template (use {{PROGRESS}})").setValue("").onChange(async n=>{})).addButton(r=>{r.setButtonText("Add").onClick(async()=>{let n=r.buttonEl.parentElement;if(!n)return;let u=n.querySelectorAll("input");if(u.length<3)return;let a=parseInt(u[0].value),s=parseInt(u[1].value),i=u[2].value;isNaN(a)||isNaN(s)||!i||(this.plugin.settings.progressRanges.push({min:a,max:s,text:i}),u[0].value="",u[1].value="",u[2].value="",this.applySettingsUpdate(),this.display())})}),new P.Setting(this.containerEl).setName("Reset to defaults").setDesc("Reset progress ranges to default values").addButton(r=>{r.setButtonText("Reset").onClick(async()=>{this.plugin.settings.progressRanges=[{min:0,max:20,text:"Just started {{PROGRESS}}%"},{min:20,max:40,text:"Making progress {{PROGRESS}}%"},{min:40,max:60,text:"Half way {{PROGRESS}}%"},{min:60,max:80,text:"Good progress {{PROGRESS}}%"},{min:80,max:100,text:"Almost there {{PROGRESS}}%"}],this.applySettingsUpdate(),this.display()})})}addPriorityPickerSettings(){let{containerEl:e}=this;new P.Setting(e).setName("Priority Picker Settings").setDesc("Toggle to enable priority picker dropdown for emoji and letter format priorities.").setHeading(),new P.Setting(e).setName("Enable priority picker").setDesc("Toggle to enable priority picker dropdown for emoji and letter format priorities.").addToggle(r=>r.setValue(this.plugin.settings.enablePriorityPicker).onChange(async n=>{this.plugin.settings.enablePriorityPicker=n,this.applySettingsUpdate()})),new P.Setting(e).setName("Enable priority keyboard shortcuts").setDesc("Toggle to enable keyboard shortcuts for setting task priorities.").addToggle(r=>r.setValue(this.plugin.settings.enablePriorityKeyboardShortcuts).onChange(async n=>{this.plugin.settings.enablePriorityKeyboardShortcuts=n,this.applySettingsUpdate()}))}addDatePickerSettings(){let{containerEl:e}=this;new P.Setting(e).setName("Date Picker Settings").setDesc("Toggle to enable date picker dropdown for task dates.").setHeading(),new P.Setting(e).setName("Enable date picker").setDesc("Toggle to enable date picker dropdown for task dates.").addToggle(r=>r.setValue(this.plugin.settings.enableDatePicker).onChange(async n=>{this.plugin.settings.enableDatePicker=n,this.applySettingsUpdate()}))}};var Ma=A(require("@codemirror/state"));var Y=A(require("@codemirror/view")),Re=A(require("obsidian")),Pt=A(require("@codemirror/state")),xt=A(require("@codemirror/language")),le=Pt.Annotation.define(),xa={TODO:" ",DOING:"-","IN-PROGRESS":">",DONE:"x"},Ea=class extends Y.WidgetType{constructor(e,r,n,u,a,s){super();this.app=e;this.plugin=r;this.view=n;this.from=u;this.to=a;this.currentState=s;this.cycle=[];this.marks={};let i=this.getStatusConfig();this.cycle=i.cycle,this.marks=i.marks}eq(e){return this.from===e.from&&this.to===e.to&&this.currentState===e.currentState}toDOM(){let{cycle:e,marks:r,excludeMarksFromCycle:n}=this.getStatusConfig(),u=this.currentState,a=e.filter(o=>!n.includes(o));if(a.length>0){let c=(a.indexOf(this.currentState)+1)%a.length;u=a[c]}let s=createEl("span",{cls:"task-status-widget",attr:{"aria-label":"Next status: "+u}});s.createEl("span",{cls:"cm-formatting cm-formatting-list cm-formatting-list-ul"},o=>{o.createEl("span",{cls:"list-bullet",text:"-"})});let i=document.createElement("span");i.classList.add("task-state");let d=r[this.currentState]||" ";return i.setAttribute("data-task-state",d),i.textContent=this.currentState,i.addEventListener("click",o=>{if(o.preventDefault(),o.stopPropagation(),Re.Keymap.isModEvent(o)){let{cycle:c}=this.getStatusConfig();c.length>0&&(this.currentState!==c[c.length-1]?this.setTaskState(c[c.length-1]):this.setTaskState(c[0]))}else this.cycleTaskState()}),i.addEventListener("contextmenu",o=>{o.preventDefault(),o.stopPropagation();let c=new Re.Menu;for(let f of this.cycle)c.addItem(l=>{l.setTitle(f),l.onClick(()=>{this.setTaskState(f)})});c.showAtMouseEvent(o)}),s.appendChild(i),s}setTaskState(e){let r=this.view.state.doc.sliceString(this.from,this.to);if(!r.match(/\[(.)]/))return;let u=this.marks[e]||" ",a=r.replace(/\[(.)]/,`[${u}]`);this.view.dispatch({changes:{from:this.from,to:this.to,insert:a},annotations:le.of("taskStatusChange")})}getStatusConfig(){return this.plugin.settings.enableTaskStatusSwitcher?{cycle:this.plugin.settings.taskStatusCycle,excludeMarksFromCycle:this.plugin.settings.excludeMarksFromCycle||[],marks:this.plugin.settings.taskStatusMarks}:{cycle:Object.keys(xa),marks:xa,excludeMarksFromCycle:[]}}cycleTaskState(){let e=this.view.state.doc.sliceString(this.from,this.to),r=e.match(/\[(.)]/);if(!r)return;let n=r[1],{cycle:u,marks:a,excludeMarksFromCycle:s}=this.getStatusConfig(),i=u.filter(h=>!s.includes(h));if(i.length===0)return;let d=-1;for(let h=0;h<i.length;h++){let p=i[h];if(a[p]===n){d=h;break}}d===-1&&(d=0);let o=(d+1)%i.length,c=i[o],f=a[c]||" ",l=e.replace(/\[(.)]/,`[${f}]`);this.view.dispatch({changes:{from:this.from,to:this.to,insert:l},annotations:le.of("taskStatusChange"),selection:Pt.EditorSelection.range(this.to+1,this.to+1)})}};function wa(t,e){class r{constructor(a){this.decorations=Y.Decoration.none;this.lastUpdate=0;this.updateThreshold=50;this.match=new Y.MatchDecorator({regexp:/^(\s*)((?:[-*+]|\d+[.)])\s\[(.)])(\s)/g,decorate:(a,s,i,d,o)=>{if(!this.shouldRender(o,s,i))return;let c=d[3],f=e.settings.taskStatusCycle,l=e.settings.taskStatusMarks,h=e.settings.excludeMarksFromCycle||[],p=f.filter(m=>!h.includes(m));if(p.length===0)return;let g=Object.keys(l).find(m=>l[m]===c)||p[0];a(s+d[1].length,i-d[4].length,Y.Decoration.replace({widget:new Ea(t,e,o,s+d[1].length,i-d[4].length,g)}))}});this.view=a,this.updateDecorations(a)}update(a){let s=Date.now();(a.docChanged||a.viewportChanged||s-this.lastUpdate>this.updateThreshold&&a.selectionSet)&&(this.lastUpdate=s,this.updateDecorations(a.view,a))}destroy(){this.decorations=Y.Decoration.none}updateDecorations(a,s){!s||s.docChanged||s.selectionSet||this.decorations.size===0?this.decorations=this.match.createDeco(a):this.decorations=this.match.updateDeco(s,this.decorations)}isLivePreview(a){return a.field(Re.editorLivePreviewField)}shouldRender(a,s,i){let o=(0,xt.syntaxTree)(a.state).resolveInner(s+1).type.prop(xt.tokenClassNodeProp);if(o){let l=o.split(" ");if(l.includes("hmd-codeblock")||l.includes("hmd-frontmatter"))return!1}return!a.state.selection.ranges.some(l=>!(l.to<=s||l.from>=i))&&this.isLivePreview(a.state)}}let n={decorations:u=>u.decorations.update({filter:(a,s,i)=>{var c;if(((c=i.spec)==null?void 0:c.widget).error)return!1;let o=u.view.state.selection;for(let f of o.ranges)if(!(f.to<=a||f.from>=s))return!1;return!0}})};return Y.ViewPlugin.fromClass(r,n)}function Aa(t,e){return Ma.EditorState.transactionFilter.of(r=>io(r,t,e))}function io(t,e,r){if(!t.docChanged)return t;let n=oo(t);if(!n||t.isUserEvent("input.paste"))return t;let{doc:u,lineNumber:a}=n,s=co(u,a);if(!s)return t;let i=fo(u,s.lineNumber,s.indentationLevel,e),d=go(u,s.lineNumber),o=d==="x"||d==="X";if(i)return lo(t,s.lineNumber,u);if(o&&!i&&r.settings.markParentInProgressWhenPartiallyComplete)return Ia(t,s.lineNumber,u,r.settings.taskStatuses.inProgress.split("|")||["/"]);if(ho(u,s.lineNumber,s.indentationLevel,e)&&r.settings.markParentInProgressWhenPartiallyComplete){let f=r.settings.taskStatuses.inProgress.trim().split("|")||["/",">"];if(!f.includes(d)&&d!=="x"&&d!=="X")return Ia(t,s.lineNumber,u,f)}return t}function oo(t){let e=null;return t.changes.iterChanges((r,n,u,a,s)=>{if(s.length>0){let l=s.toString(),h=l.match(/\n[\s|\t]*([-*+]|\d+\.)\s\[ \]/);if(h)try{e=t.newDoc.lineAt(u+l.indexOf(h[0])+1).number;return}catch(g){}if(l.match(/^[\s|\t]*([-*+]|\d+\.)\s\[ \]/))try{e=t.newDoc.lineAt(u).number;return}catch(g){}}let i=u,d=t.newDoc.lineAt(i),o=d.text,c=/^[\s|\t]*([-*+]|\d+\.)\s\[(.)]/i;if(o.match(c)){let l=null;try{let h=r;h>=0&&h<t.startState.doc.length&&(l=t.startState.doc.lineAt(h))}catch(h){}(!l||s.length>0&&d.from+o.indexOf("[")<=a&&d.from+o.indexOf("]")>=u)&&(e=d.number)}}),e===null?null:{doc:t.newDoc,lineNumber:e}}function co(t,e){let r=t.line(e),n=r.text,u=n.match(/^[\s|\t]*/),a=u?u[0].length:0;if(a===0)return null;let s=u&&u[0].includes(" "),i=u&&u[0].includes("	");for(let d=e-1;d>=1;d--){let c=t.line(d).text;if(c.trim()==="")continue;let f=c.match(/^[\s|\t]*/),l=f?f[0].length:0,h=f&&f[0].includes(" "),p=f&&f[0].includes("	");if(!(l>0&&a>0&&(s&&!h||i&&!p))&&l<a){if(/^[\s|\t]*([-*+]|\d+\.)\s\[(.)\]/i.test(c))return{lineNumber:d,indentationLevel:l};if(!c.startsWith("#")&&!c.startsWith(">"))break}}return null}function fo(t,e,r,n){let u=ve(n),a=r+u,s=!1;for(let i=e+1;i<=t.lines;i++){let o=t.line(i).text;if(o.trim()==="")continue;let c=o.match(/^[\s|\t]*/),f=c?c[0].length:0;if(f<=r)break;if(f===a){let l=new RegExp(`^[\\s|\\t]{${a}}([-*+]|\\d+\\.)\\s\\[(.)\\]`),h=o.match(l);if(h){s=!0;let p=h[2];if(p!=="x"&&p!=="X")return!1}}}return s}function lo(t,e,r){let n=r.line(e),u=n.text;if(!u.match(/^[\s|\t]*([-*+]|\d+\.)\s\[(.)\]/))return t;let s=u.indexOf("[")+1,i=n.from+s;return{changes:[t.changes,{from:i,to:i+1,insert:"x"}],selection:t.selection,annotations:[le.of("taskStatusChange")]}}function ho(t,e,r,n){let u=ve(n),a=r+u;for(let s=e+1;s<=t.lines;s++){let d=t.line(s).text;if(d.trim()==="")continue;let o=d.match(/^[\s|\t]*/),c=o?o[0].length:0;if(c<=r)break;if(c===a){let f=new RegExp(`^[\\s|\\t]{${a}}([-*+]|\\d+\\.)\\s\\[(.)\\]`),l=d.match(f);if(l&&l[2]!==" ")return!0}}return!1}function go(t,e){let u=t.line(e).text.match(/^[\s|\t]*([-*+]|\d+\.)\s\[(.)]/);return u?u[2]:""}function Ia(t,e,r,n){let u=r.line(e),a=u.text;if(!a.match(/^[\s|\t]*([-*+]|\d+\.)\s\[(.)\]/))return t;let i=a.indexOf("[")+1,d=u.from+i;return{changes:[t.changes,{from:d,to:d+1,insert:n[0]}],selection:t.selection,annotations:[le.of("taskStatusChange")]}}var La=A(require("@codemirror/state"));var j=A(require("@codemirror/view")),Et=A(require("obsidian")),_a=A(require("@codemirror/state")),wt=A(require("@codemirror/language")),he=_a.Annotation.define(),qe={highest:{emoji:"\u{1F53A}",text:"Highest priority",regex:"\u{1F53A}"},high:{emoji:"\u23EB",text:"High priority",regex:"\u23EB"},medium:{emoji:"\u{1F53C}",text:"Medium priority",regex:"\u{1F53C}"},none:{emoji:"",text:"No priority",regex:""},low:{emoji:"\u{1F53D}",text:"Low priority",regex:"\u{1F53D}"},lowest:{emoji:"\u23EC\uFE0F",text:"Lowest priority",regex:"\u23EC\uFE0F"}},We={A:{text:"Priority A",regex:"\\[#A\\]"},B:{text:"Priority B",regex:"\\[#B\\]"},C:{text:"Priority C",regex:"\\[#C\\]"}},po=Object.values(qe).map(t=>t.regex).filter(t=>t).join("|"),mo=Object.values(We).map(t=>t.regex).join("|"),pr=class extends j.WidgetType{constructor(e,r,n,u,a,s,i){super();this.app=e;this.plugin=r;this.view=n;this.from=u;this.to=a;this.currentPriority=s;this.isLetterFormat=i}eq(e){return this.from===e.from&&this.to===e.to&&this.currentPriority===e.currentPriority&&this.isLetterFormat===e.isLetterFormat}toDOM(){let e=createEl("span",{cls:"priority-widget",attr:{"aria-label":"Task Priority"}});if(this.isLetterFormat){let r=document.createElement("span");r.classList.add("cm-formatting","cm-formatting-link","cm-hmd-barelink","cm-link","cm-list-1"),r.setAttribute("spellcheck","false"),r.textContent="[";let n=document.createElement("span");n.classList.add("cm-hmd-barelink","cm-link","cm-list-1"),n.textContent=this.currentPriority.slice(1,-1);let u=document.createElement("span");u.classList.add("cm-formatting","cm-formatting-link","cm-hmd-barelink","cm-link","cm-list-1"),u.setAttribute("spellcheck","false"),u.textContent="]",e.appendChild(r),e.appendChild(n),e.appendChild(u)}else{let r=document.createElement("span");r.classList.add("task-priority"),r.textContent=this.currentPriority,e.appendChild(r)}return e.addEventListener("click",r=>{r.preventDefault(),r.stopPropagation(),this.showPriorityMenu(r)}),e}showPriorityMenu(e){let r=new Et.Menu;this.isLetterFormat?(Object.entries(We).forEach(([n,u])=>{r.addItem(a=>{a.setTitle(u.text),a.onClick(()=>{this.setPriority(`[#${n}]`)})})}),r.addItem(n=>{n.setTitle("Remove Priority"),n.onClick(()=>{this.removePriority()})})):Object.entries(qe).forEach(([n,u])=>{n==="none"?r.addItem(a=>{a.setTitle("Remove Priority"),a.onClick(()=>{this.removePriority()})}):r.addItem(a=>{a.setTitle(`${u.emoji} ${u.text}`),a.onClick(()=>{this.setPriority(u.emoji)})})}),r.showAtMouseEvent(e)}setPriority(e){let r=this.view.state.update({changes:{from:this.from,to:this.to,insert:e},annotations:[he.of(!0)]});this.view.dispatch(r)}removePriority(){let e=this.view.state.update({changes:{from:this.from,to:this.to,insert:""},annotations:[he.of(!0)]});this.view.dispatch(e)}};function Ra(t,e){if(!e.settings.enablePriorityPicker)return[];class r{constructor(s){this.decorations=j.Decoration.none;this.lastUpdate=0;this.updateThreshold=50;this.emojiMatch=new j.MatchDecorator({regexp:new RegExp(`(${po})`,"g"),decorate:(s,i,d,o,c)=>{!this.shouldRender(c,i,d)||s(i,d,j.Decoration.replace({widget:new pr(t,e,c,i,d,o[0],!1)}))}});this.letterMatch=new j.MatchDecorator({regexp:new RegExp(`(${mo})`,"g"),decorate:(s,i,d,o,c)=>{!this.shouldRender(c,i,d)||s(i,d,j.Decoration.replace({widget:new pr(t,e,c,i,d,o[0],!0)}))}});this.view=s,this.plugin=e,this.updateDecorations(s)}update(s){if(s.docChanged||s.viewportChanged){let i=Date.now();i-this.lastUpdate>this.updateThreshold&&(this.lastUpdate=i,this.updateDecorations(s.view))}}destroy(){}updateDecorations(s,i){!this.isLivePreview(s.state)||(this.decorations=this.emojiMatch.createDeco(s),this.decorations.size===0&&(this.decorations=this.letterMatch.createDeco(s)))}isLivePreview(s){return s.field(Et.editorLivePreviewField)}shouldRender(s,i,d){let c=(0,wt.syntaxTree)(s.state).resolveInner(i+1).type.prop(wt.tokenClassNodeProp);if(c){let h=c.split(" ");if(h.includes("hmd-codeblock")||h.includes("hmd-frontmatter"))return!1}return!s.state.selection.ranges.some(h=>!(h.to<=i||h.from>=d))&&this.isLivePreview(s.state)}}let n={decorations:a=>a.decorations.update({filter:(s,i,d)=>{var f;if(((f=d.spec)==null?void 0:f.widget).error)return!1;let c=a.view.state.selection;for(let l of c.ranges)if(!(l.to<=s||l.from>=i))return!1;return!0}})};return j.ViewPlugin.fromClass(r,n)}function Na(t,e){return La.EditorState.transactionFilter.of(r=>vo(r,t,e))}function bo(t){return{cycle:t.settings.taskStatusCycle,excludeMarksFromCycle:t.settings.excludeMarksFromCycle||[],marks:t.settings.taskStatusMarks}}function ko(t,e){let r=[],n=!1;if(t.changes.length>1){let u=[];t.changes.iterChanges((a,s,i,d,o)=>{u.push({fromA:a,toA:s,fromB:i,toB:d,text:o.toString()})}),u.length>1&&u.every(s=>s.text==="	"||s.text==="    "||s.text===""&&(t.startState.doc.sliceString(s.fromA,s.toA)==="	"||t.startState.doc.sliceString(s.fromA,s.toA)==="    "))&&(n=!0)}return n?[]:(t.changes.iterChanges((u,a,s,i,d)=>{let o=d.toString();if(o.includes(`
`)||o.includes("[[")||o.includes("]]")||s>t.startState.doc.length)return;let c=s,l=t.startState.doc.lineAt(c).text,h=t.newDoc.lineAt(c),p=h.text,g=/^[\s|\t]*([-*+]|\d+\.)\s+\[(.)]/,m=l.match(g),b=p.match(g);if(b&&!m&&o===p){let k=p.indexOf("[")+1,y=h.from+k,T=b[2];r.push({position:y,currentMark:T,wasCompleteTask:!0,tasksInfo:{isTaskChange:!0,originalFromA:u,originalToA:a,originalFromB:s,originalToB:i,originalInsertedText:o}});return}if(m){let k=null,y=null,T=!1,E=!1,w=!1;if(o.trim().match(/^(?:[\s|\t]*(?:[-*+]|\d+\.)\s+\[.(?:\])?)/)){let M=p.indexOf("[")+1;k=h.from+M,y=m[2],T=!0,E=!0}else if(o.length===1){let M=p.indexOf("[")+1;c===h.from+M&&o!=="["&&(k=c,y=m[2],T=!0,E=!0)}else if(o.indexOf("[")!==-1&&o.indexOf("]")!==-1&&o!=="[]"){let M=p.indexOf("[")+1;k=h.from+M,y=m[2],T=!0,E=!0}e&&p===o&&(o.includes("\u2705")||o.includes("\u274C")||o.includes("\u{1F6EB}")||o.includes("\u{1F4C5}"))&&(w=!0),k!==null&&y!==null&&E&&r.push({position:k,currentMark:y,wasCompleteTask:T,tasksInfo:w?{isTaskChange:w,originalFromA:u,originalToA:a,originalFromB:s,originalToB:i,originalInsertedText:o}:null})}}),r)}function vo(t,e,r){var o;if(!t.docChanged||t.annotation(le)||t.annotation(he)||t.isUserEvent("set")&&t.changes.length>1)return t;let n=ko(t,!!yt(r));if(n.length===0||n.length===1&&((o=n[0].tasksInfo)==null?void 0:o.isTaskChange)&&t.isUserEvent("input.paste"))return t;let{cycle:u,marks:a,excludeMarksFromCycle:s}=bo(r),i=u.filter(c=>!s.includes(c));if(i.length===0)return t;let d=[];for(let c of n){let{position:f,currentMark:l,wasCompleteTask:h,tasksInfo:p}=c,g=-1;for(let T=0;T<i.length;T++){let E=i[T];if(a[E]===l){g=T;break}}g===-1&&(g=0);let m=(g+1)%i.length,b=i[m],k=a[b]||" ";if(l===k){""+l;continue}if(h){let T=null;for(let[E,w]of Object.entries(a))if(w===l){T=E;break}if(T&&!r.settings.alwaysCycleNewTasks){""+l;continue}}let y=f;(k==="x"||k==="X"||k===" ")&&p!==null?d.push({from:p.originalFromA,to:p.originalToA,insert:p.originalInsertedText}):d.push({from:y,to:y+1,insert:k})}return d.length>0?{changes:d,selection:t.selection,annotations:le.of("taskStatusChange")}:t}function Oa(t,e,r,n){return Fa(t,e,n,"forward")}function Da(t,e,r,n){return Fa(t,e,n,"backward")}function Fa(t,e,r,n){let u=e.getCursor(),a=e.getLine(u.line),s=/^[\s|\t]*([-*+]|\d+\.)\s+\[(.)]/,i=a.match(s);if(!i)return!1;if(t)return!0;let{cycle:d,marks:o,excludeMarksFromCycle:c}=So(r),f=d.filter(k=>!c.includes(k));if(f.length===0)return!1;let l=i[2],h=-1;for(let k=0;k<f.length;k++){let y=f[k];if(o[y]===l){h=k;break}}h===-1&&(h=0);let p;n==="forward"?p=(h+1)%f.length:p=(h-1+f.length)%f.length;let g=f[p],m=o[g]||" ",b=a.indexOf("[")+1;return e.replaceRange(m,{line:u.line,ch:b},{line:u.line,ch:b+1}),!0}function So(t){return{cycle:t.settings.taskStatusCycle,excludeMarksFromCycle:t.settings.excludeMarksFromCycle||[],marks:t.settings.taskStatusMarks}}var K=A(require("obsidian"));var Ba=class extends K.FuzzySuggestModal{constructor(e,r,n,u,a){super(e);this.plugin=r,this.editor=n,this.currentFile=u,this.taskLine=a,this.setPlaceholder("Select a file or type to create a new one")}getItems(){let r=this.app.vault.getMarkdownFiles().filter(n=>n.path!==this.currentFile.path);return r.sort((n,u)=>n.path.localeCompare(u.path)),r}getItemText(e){return typeof e=="string"?`Create new file: ${e}`:e.path}renderSuggestion(e,r){let n=e.item;typeof n=="string"?r.createEl("div",{text:`Create new file: ${n}`}):r.createEl("div",{text:n.path})}onChooseItem(e,r){typeof e=="string"?this.createNewFileWithTasks(e):new Va(this.app,this.plugin,this.editor,this.currentFile,e,this.taskLine).open()}getSuggestions(e){let r=super.getSuggestions(e);return e&&!r.some(n=>typeof n.item=="string"&&n.item===e)&&this.isValidFileName(e)&&r.push({item:e,match:{score:1,matches:[]}}),r.slice(0,20)}isValidFileName(e){return e.length>0&&!e.includes("/")&&!e.includes("\\")}async createNewFileWithTasks(e){try{e.endsWith(".md")||(e+=".md");let r=this.getTaskWithChildren(),n=this.resetIndentation(r),u=this.currentFile.parent,a=u?`${u.path}/${e}`:e,s=await this.app.vault.create(a,n);this.removeTaskFromCurrentFile(),this.app.workspace.getLeaf(!0).openFile(s),new K.Notice(`Task moved to ${e}`)}catch(r){new K.Notice(`Failed to create file: ${r}`),console.error(r)}}getTaskWithChildren(){let r=this.editor.getValue().split(`
`),n=r[this.taskLine],u=this.getIndentation(n),a=[n];for(let s=this.taskLine+1;s<r.length;s++){let i=r[s];if(this.getIndentation(i)<=u)break;a.push(i)}return a.join(`
`)}removeTaskFromCurrentFile(){let r=this.editor.getValue().split(`
`),n=this.getIndentation(r[this.taskLine]),u=this.taskLine;for(let s=this.taskLine+1;s<r.length&&!(this.getIndentation(r[s])<=n);s++)u=s;let a=[...r.slice(0,this.taskLine),...r.slice(u+1)].join(`
`);this.editor.setValue(a)}getIndentation(e){let r=e.match(/^(\s*)/);return r?r[1].length:0}resetIndentation(e){let r=e.split(`
`),n=Number.MAX_SAFE_INTEGER;for(let u of r){if(u.trim().length===0)continue;let a=this.getIndentation(u);n=Math.min(n,a)}return n===Number.MAX_SAFE_INTEGER||n===0?e:r.map(u=>u.trim().length===0?u:u.substring(n)).join(`
`)}},Va=class extends K.SuggestModal{constructor(e,r,n,u,a,s){super(e);this.plugin=r,this.editor=n,this.sourceFile=u,this.targetFile=a,this.taskLine=s,this.metadataCache=e.metadataCache,this.setPlaceholder("Select a block to insert after")}async getSuggestions(e){let n=(await this.app.vault.read(this.targetFile)).split(`
`),u=this.metadataCache.getFileCache(this.targetFile),a=[];if(a.push({id:"beginning",text:"Beginning of file",level:0}),u&&u.headings)for(let s of u.headings){let i=n[s.position.start.line];a.push({id:`heading-${s.position.start.line}`,text:i,level:s.level})}if(u&&u.listItems)for(let s of u.listItems){let i=n[s.position.start.line];a.push({id:`list-${s.position.start.line}`,text:i,level:this.getIndentation(i)})}return e&&(a=a.filter(s=>s.text.toLowerCase().includes(e.toLowerCase()))),a.slice(0,20)}renderSuggestion(e,r){let n="  ".repeat(e.level);e.id==="beginning"?r.createEl("div",{text:e.text}):r.createEl("div",{text:`${n}${e.text}`})}onChooseSuggestion(e,r){this.moveTaskToTargetFile(e)}async moveTaskToTargetFile(e){try{let r=this.getTaskWithChildren(),u=(await this.app.vault.read(this.targetFile)).split(`
`),a,s=0;if(e.id==="beginning")a=0;else{let o=e.id.match(/-(\d+)$/);if(!o)throw new Error("Invalid block ID");let c=parseInt(o[1]);a=c+1,s=this.getIndentation(u[c])}let i=this.adjustIndentation(r,s),d=[...u.slice(0,a),i,...u.slice(a)].join(`
`);await this.app.vault.modify(this.targetFile,d),this.removeTaskFromSourceFile(),new K.Notice(`Task moved to ${this.targetFile.path}`)}catch(r){new K.Notice(`Failed to move task: ${r}`),console.error(r)}}getTaskWithChildren(){let r=this.editor.getValue().split(`
`),n=r[this.taskLine],u=this.getIndentation(n),a=[n];for(let s=this.taskLine+1;s<r.length;s++){let i=r[s];if(this.getIndentation(i)<=u)break;a.push(i)}return a.join(`
`)}adjustIndentation(e,r){let n=e.split(`
`),u=this.getIndentation(n[0]),a=r-u;if(a===0)return e;let s=a>0?Ae(this.app).repeat(a):"";return n.map(i=>{if(a>0)return s+i;{let d=this.getIndentation(i),o=Math.max(0,d+a);return Ae(this.app).repeat(o)+i.substring(d)}}).join(`
`)}removeTaskFromSourceFile(){let r=this.editor.getValue().split(`
`),n=this.getIndentation(r[this.taskLine]),u=this.taskLine;for(let s=this.taskLine+1;s<r.length&&!(this.getIndentation(r[s])<=n);s++)u=s;let a=[...r.slice(0,this.taskLine),...r.slice(u+1)].join(`
`);this.editor.setValue(a)}getIndentation(e){let r=e.match(/^(\s*)/);return r?r[1].length:0}};function Ua(t,e,r,n){let u=r.file;if(t){if(!u||u.extension!=="md")return!1;let s=e.getCursor();return e.getLine(s.line).match(/^\s*(-|\d+\.|\*) \[(.)\]/i)!==null}if(!u)return new K.Notice("No active file found"),!1;let a=e.getCursor();return new Ba(n.app,n,e,u,a.line).open(),!0}var D=A(require("obsidian"));var Ga=class extends D.FuzzySuggestModal{constructor(e,r,n,u,a,s){super(e);this.plugin=r,this.editor=n,this.currentFile=u,this.taskLine=a,this.moveMode=s,this.setPlaceholder("Select a file or type to create a new one")}getItems(){let r=this.app.vault.getMarkdownFiles().filter(n=>n.path!==this.currentFile.path);return r.sort((n,u)=>n.path.localeCompare(u.path)),r}getItemText(e){return typeof e=="string"?`Create new file: ${e}`:e.path}renderSuggestion(e,r){let n=e.item;typeof n=="string"?r.createEl("div",{text:`Create new file: ${n}`}):r.createEl("div",{text:n.path})}onChooseItem(e,r){typeof e=="string"?this.createNewFileWithTasks(e):new Ha(this.app,this.plugin,this.editor,this.currentFile,e,this.taskLine,this.moveMode).open()}getSuggestions(e){let r=super.getSuggestions(e);return e&&!r.some(n=>typeof n.item=="string"&&n.item===e)&&this.isValidFileName(e)&&r.push({item:e,match:{score:1,matches:[]}}),r.slice(0,20)}isValidFileName(e){return e.length>0&&!e.includes("/")&&!e.includes("\\")}async createNewFileWithTasks(e){try{e.endsWith(".md")||(e+=".md");let r=this.getCompletedTasksWithChildren(),n=this.resetIndentation(r),u=this.currentFile.parent,a=u?`${u.path}/${e}`:e,s=await this.app.vault.create(a,n);this.removeCompletedTasksFromCurrentFile(),this.app.workspace.getLeaf(!0).openFile(s),new D.Notice(`Completed tasks moved to ${e}`)}catch(r){new D.Notice(`Failed to create file: ${r}`),console.error(r)}}getCompletedTasksWithChildren(){let r=this.editor.getValue().split(`
`),n=r[this.taskLine],u=this.getIndentation(n),a=n.match(/\[(.)]/),s=a?a[1]:"",i=this.addMarkerToTask(n,!0);i=this.completeTaskIfNeeded(i);let d=[i],o=[];if(this.moveMode==="all"){for(let c=this.taskLine+1;c<r.length;c++){let f=r[c];if(this.getIndentation(f)<=u)break;d.push(this.completeTaskIfNeeded(f)),o.push(c)}o.push(this.taskLine)}else{let c=[];for(let f=this.taskLine+1;f<r.length;f++){let l=r[f],h=this.getIndentation(l);if(h<=u)break;let p=l.match(/\[(.)]/);if(p){let g=p[1],m=this.isCompletedTaskMark(g);c.push({line:l,index:f,indent:h,isCompleted:m})}else c.push({line:l,index:f,indent:h,isCompleted:!1})}if(this.moveMode==="allCompleted"){let f=new Set,l=new Set,h=new Set;c.forEach(g=>{if(g.isCompleted){f.add(g.index),l.add(g.index);let m=g,b=this.findParentTaskIndex(m.index,m.indent,c);for(;b!==-1;){l.add(b);let k=c.find(y=>y.index===b);if(!k)break;k.isCompleted||h.add(b),b=this.findParentTaskIndex(k.index,k.indent,c)}}}),c.forEach(g=>{let m=this.findParentTaskIndex(g.index,g.indent,c);m!==-1&&f.has(m)&&l.add(g.index)});let p=[...l].sort((g,m)=>g-m);d.length=0,d.push(i);for(let g of p){let m=c.find(b=>b.index===g);if(!!m){if(h.has(g)){let b=this.addMarkerToTask(m.line,!1);b=this.completeTaskIfNeeded(b),d.push(b)}else d.push(this.completeTaskIfNeeded(m.line));h.has(g)||o.push(g)}}this.isCompletedTaskMark(s)&&o.push(this.taskLine)}else if(this.moveMode==="directChildren"){let f=new Set,l=Number.MAX_SAFE_INTEGER;for(let p of c)p.indent>u&&p.indent<l&&(l=p.indent);for(let p of c)p.indent===l&&p.isCompleted&&f.add(p.index);d.length=0,d.push(i);let h=[...f].sort((p,g)=>p-g);for(let p of h){let g=c.find(k=>k.index===p);if(!g)continue;d.push(this.completeTaskIfNeeded(g.line)),o.push(p);let m=c.findIndex(k=>k.index===p)+1,b=g.indent;for(;m<c.length;){let k=c[m];if(k.indent<=b)break;d.push(this.completeTaskIfNeeded(k.line)),o.push(k.index),m++}}this.isCompletedTaskMark(s)&&o.push(this.taskLine)}}return this.plugin.linesToRemove=o,d.join(`
`)}findParentTaskIndex(e,r,n){for(let u=n.findIndex(a=>a.index===e)-1;u>=0;u--)if(n[u].indent<r)return n[u].index;return-1}getTabSize(){return ve(this.app)}getIndentation(e){let r=e.match(/^(\s*)/);return r?r[1].length:0}removeCompletedTasksFromCurrentFile(){if(!this.plugin.linesToRemove||this.plugin.linesToRemove.length===0)return;let r=this.editor.getValue().split(`
`),n=[...this.plugin.linesToRemove].sort((u,a)=>a-u);for(let u of n)r.splice(u,1);this.editor.setValue(r.join(`
`)),this.plugin.linesToRemove=[]}resetIndentation(e){let r=e.split(`
`),n=Number.MAX_SAFE_INTEGER;for(let u of r){if(u.trim().length===0)continue;let a=this.getIndentation(u);n=Math.min(n,a)}return n===Number.MAX_SAFE_INTEGER||n===0?e:r.map(u=>u.trim().length===0?u:u.substring(n)).join(`
`)}addMarkerToTask(e,r=!1){var l;let{taskMarkerType:n,versionMarker:u,dateMarker:a,customMarker:s,withCurrentFileLink:i}=this.plugin.settings.completedTaskMover,d=e.match(/^(.*?)(?:\s+^[a-zA-Z0-9]{6}$)?$/);if(!d)return e;let o=d[1].trim(),c=(l=d[2])==null?void 0:l.trim(),f=o;if(!o.includes(u)&&!o.includes(a)&&!o.includes(this.processCustomMarker(s)))switch(n){case"version":f=`${o} ${u}`;break;case"date":f=`${o} ${this.processDateMarker(a)}`;break;case"custom":f=`${o} ${this.processCustomMarker(s)}`;break;default:f=o}if(i&&r){let h=this.currentFile,p=this.app.fileManager.generateMarkdownLink(h,h.path);f=`${f} from ${p}`}return c&&(f=`${f} ${c}`),f}processCustomMarker(e){return e.replace(/\{\{DATE:([^}]+)\}\}/g,(r,n)=>(0,D.moment)().format(n))}processDateMarker(e){return e.replace(/\{\{date\}\}/g,()=>(0,D.moment)().format("YYYY-MM-DD"))}isCompletedTaskMark(e){var n,u;let r=((n=this.plugin.settings.taskStatuses.completed)==null?void 0:n.split("|"))||["x","X"];if(this.plugin.settings.completedTaskMover.treatAbandonedAsCompleted){let a=((u=this.plugin.settings.taskStatuses.abandoned)==null?void 0:u.split("|"))||["-"];return r.includes(e)||a.includes(e)}return r.includes(e)}completeTaskIfNeeded(e){var u;if(!this.plugin.settings.completedTaskMover.completeAllMovedTasks)return e;let r=e.match(/^(\s*(?:-|\d+\.|\*)\s+\[)(.)(].*)$/);if(!r)return e;let n=((u=this.plugin.settings.taskStatuses.completed)==null?void 0:u.split("|")[0])||"x";return`${r[1]}${n}${r[3]}`}},Ha=class extends D.SuggestModal{constructor(e,r,n,u,a,s,i){super(e);this.plugin=r,this.editor=n,this.sourceFile=u,this.targetFile=a,this.taskLine=s,this.metadataCache=e.metadataCache,this.moveMode=i,this.setPlaceholder("Select a block to insert after")}getIndentation(e){let r=e.match(/^(\s*)/);return r?r[1].length:0}getTabSize(){return ve(this.app)}async getSuggestions(e){let n=(await this.app.vault.read(this.targetFile)).split(`
`),u=this.metadataCache.getFileCache(this.targetFile),a=[];if(a.push({id:"beginning",text:"Beginning of file",level:0}),a.push({id:"end",text:"End of file",level:0}),u&&u.headings)for(let s of u.headings){let i=n[s.position.start.line];a.push({id:`heading-${s.position.start.line}`,text:i,level:s.level})}if(u&&u.listItems)for(let s of u.listItems){let i=n[s.position.start.line];a.push({id:`list-${s.position.start.line}`,text:i,level:this.getIndentation(i)})}return e&&(a=a.filter(s=>s.text.toLowerCase().includes(e.toLowerCase()))),a.slice(0,20)}renderSuggestion(e,r){let n="  ".repeat(e.level);e.id==="beginning"||e.id==="end"?r.createEl("div",{text:e.text}):r.createEl("div",{text:`${n}${e.text}`})}onChooseSuggestion(e,r){this.moveCompletedTasksToTargetFile(e)}async moveCompletedTasksToTargetFile(e){try{let r=this.getCompletedTasksWithChildren(),u=(await this.app.vault.read(this.targetFile)).split(`
`),a,s=0;if(e.id==="beginning")a=0;else if(e.id==="end")a=u.length;else{let o=e.id.match(/-(\d+)$/);if(!o)throw new Error("Invalid block ID");let c=parseInt(o[1]);a=c+1,s=this.getIndentation(u[c])}let i=this.adjustIndentation(r,s),d=[...u.slice(0,a),i,...u.slice(a)].join(`
`);await this.app.vault.modify(this.targetFile,d),this.removeCompletedTasksFromSourceFile(),new D.Notice(`Completed tasks moved to ${this.targetFile.path}`)}catch(r){new D.Notice(`Failed to move tasks: ${r}`),console.error(r)}}getCompletedTasksWithChildren(){let r=this.editor.getValue().split(`
`),n=r[this.taskLine],u=this.getIndentation(n),a=n.match(/\[(.)]/),s=a?a[1]:"",i=this.addMarkerToTask(n,!0);i=this.completeTaskIfNeeded(i);let d=[i],o=[];if(this.moveMode==="all"){for(let c=this.taskLine+1;c<r.length;c++){let f=r[c];if(this.getIndentation(f)<=u)break;d.push(this.completeTaskIfNeeded(f)),o.push(c)}o.push(this.taskLine)}else{let c=[];for(let f=this.taskLine+1;f<r.length;f++){let l=r[f],h=this.getIndentation(l);if(h<=u)break;let p=l.match(/\[(.)]/);if(p){let g=p[1],m=this.isCompletedTaskMark(g);c.push({line:l,index:f,indent:h,isCompleted:m})}else c.push({line:l,index:f,indent:h,isCompleted:!1})}if(this.moveMode==="allCompleted"){let f=new Set,l=new Set,h=new Set;c.forEach(g=>{if(g.isCompleted){f.add(g.index),l.add(g.index);let m=g,b=this.findParentTaskIndex(m.index,m.indent,c);for(;b!==-1;){l.add(b);let k=c.find(y=>y.index===b);if(!k)break;k.isCompleted||h.add(b),b=this.findParentTaskIndex(k.index,k.indent,c)}}}),c.forEach(g=>{let m=this.findParentTaskIndex(g.index,g.indent,c);m!==-1&&f.has(m)&&l.add(g.index)});let p=[...l].sort((g,m)=>g-m);d.length=0,d.push(i);for(let g of p){let m=c.find(b=>b.index===g);if(!!m){if(h.has(g)){let b=this.addMarkerToTask(m.line,!1);b=this.completeTaskIfNeeded(b),d.push(b)}else d.push(this.completeTaskIfNeeded(m.line));h.has(g)||o.push(g)}}this.isCompletedTaskMark(s)&&o.push(this.taskLine)}else if(this.moveMode==="directChildren"){let f=new Set,l=Number.MAX_SAFE_INTEGER;for(let p of c)p.indent>u&&p.indent<l&&(l=p.indent);for(let p of c)p.indent===l&&p.isCompleted&&f.add(p.index);d.length=0,d.push(i);let h=[...f].sort((p,g)=>p-g);for(let p of h){let g=c.find(k=>k.index===p);if(!g)continue;d.push(this.completeTaskIfNeeded(g.line)),o.push(p);let m=c.findIndex(k=>k.index===p)+1,b=g.indent;for(;m<c.length;){let k=c[m];if(k.indent<=b)break;d.push(this.completeTaskIfNeeded(k.line)),o.push(k.index),m++}}this.isCompletedTaskMark(s)&&o.push(this.taskLine)}}return this.plugin.linesToRemove=o,d.join(`
`)}findParentTaskIndex(e,r,n){for(let u=n.findIndex(a=>a.index===e)-1;u>=0;u--)if(n[u].indent<r)return n[u].index;return-1}removeCompletedTasksFromSourceFile(){if(!this.plugin.linesToRemove||this.plugin.linesToRemove.length===0)return;let r=this.editor.getValue().split(`
`),n=[...this.plugin.linesToRemove].sort((u,a)=>a-u);for(let u of n)r.splice(u,1);this.editor.setValue(r.join(`
`)),this.plugin.linesToRemove=[]}adjustIndentation(e,r){let n=e.split(`
`),u=this.getIndentation(n[0]),a=r-u;if(a===0)return e;let s=a>0?Ae(this.app).repeat(a):"";return n.map(i=>{if(a>0)return s+i;{let d=this.getIndentation(i),o=Math.max(0,d+a);return Ae(this.app).repeat(o)+i.substring(d)}}).join(`
`)}addMarkerToTask(e,r=!1){var l;let{taskMarkerType:n,versionMarker:u,dateMarker:a,customMarker:s,withCurrentFileLink:i}=this.plugin.settings.completedTaskMover,d=e.match(/^(.*?)(?:\s+^[a-zA-Z0-9]{6}$)?$/);if(!d)return e;let o=d[1].trim(),c=(l=d[2])==null?void 0:l.trim(),f=o;if(!o.includes(u)&&!o.includes(a)&&!o.includes(this.processCustomMarker(s)))switch(n){case"version":f=`${o} ${u}`;break;case"date":f=`${o} ${this.processDateMarker(a)}`;break;case"custom":f=`${o} ${this.processCustomMarker(s)}`;break;default:f=o}if(i&&r){let h=this.sourceFile,p=this.app.fileManager.generateMarkdownLink(h,h.path);f=`${f} from ${p}`}return c&&(f=`${f} ${c}`),f}isCompletedTaskMark(e){var n,u;let r=((n=this.plugin.settings.taskStatuses.completed)==null?void 0:n.split("|"))||["x","X"];if(this.plugin.settings.completedTaskMover.treatAbandonedAsCompleted){let a=((u=this.plugin.settings.taskStatuses.abandoned)==null?void 0:u.split("|"))||["-"];return r.includes(e)||a.includes(e)}return r.includes(e)}completeTaskIfNeeded(e){var u;if(!this.plugin.settings.completedTaskMover.completeAllMovedTasks)return e;let r=e.match(/^(\s*(?:-|\d+\.|\*)\s+\[)(.)(].*)$/);if(!r)return e;let n=((u=this.plugin.settings.taskStatuses.completed)==null?void 0:u.split("|")[0])||"x";return`${r[1]}${n}${r[3]}`}processCustomMarker(e){return e.replace(/\{\{DATE:([^}]+)\}\}/g,(r,n)=>(0,D.moment)().format(n))}processDateMarker(e){return e.replace(/\{\{date\}\}/g,()=>(0,D.moment)().format("YYYY-MM-DD"))}};function Mt(t,e,r,n,u){let a=r.file;if(t){if(!a||a.extension!=="md")return!1;let i=e.getCursor();return e.getLine(i.line).match(/^\s*(-|\d+\.|\*) \[(.)\]/i)!==null}if(!a)return new D.Notice("No active file found"),!1;let s=e.getCursor();return new Ga(n.app,n,e,a,s.line,u).open(),!0}var ue=A(require("@codemirror/view")),Se=A(require("obsidian")),$a=A(require("@codemirror/state")),At=A(require("@codemirror/language")),yo=$a.Annotation.define(),To=/📅 (\d{4}-\d{2}-\d{2})/g,za=class extends ue.WidgetType{constructor(e,r,n,u,a,s){super();this.app=e;this.plugin=r;this.view=n;this.from=u;this.to=a;this.currentDate=s}eq(e){return this.from===e.from&&this.to===e.to&&this.currentDate===e.currentDate}toDOM(){let e=createEl("span",{cls:"date-picker-widget",attr:{"aria-label":"Task Date"}}),r=document.createElement("span");return r.classList.add("task-date"),r.textContent=this.currentDate,r.addEventListener("click",n=>{n.preventDefault(),n.stopPropagation(),this.showDateMenu(n)}),e.appendChild(r),e}showDateMenu(e){let r=new Se.Menu,n=(u,a,s)=>{r.addItem(i=>{i.setTitle(s),i.setIcon("calendar"),i.onClick(()=>{let o=(0,Se.moment)().add(u,a).format("YYYY-MM-DD");this.setDate(`\u{1F4C5} ${o}`)})})};n(1,"days","Tomorrow"),n(2,"days","In 2 days"),n(3,"days","In 3 days"),n(5,"days","In 5 days"),n(1,"weeks","In 1 week"),n(10,"days","In 10 days"),n(2,"weeks","In 2 weeks"),n(1,"months","In 1 month"),n(2,"months","In 2 months"),n(3,"months","In 3 months"),n(6,"months","In 6 months"),n(1,"years","In 1 year"),n(5,"years","In 5 years"),n(10,"years","In 10 years"),r.showAtMouseEvent(e)}setDate(e){let r=this.view.state.update({changes:{from:this.from,to:this.to,insert:e},annotations:[yo.of(!0)]});this.view.dispatch(r)}};function ja(t,e){if(!e.settings.enableDatePicker)return[];class r{constructor(s){this.decorations=ue.Decoration.none;this.lastUpdate=0;this.updateThreshold=50;this.dateMatch=new ue.MatchDecorator({regexp:To,decorate:(s,i,d,o,c)=>{!this.shouldRender(c,i,d)||s(i,d,ue.Decoration.replace({widget:new za(t,e,c,i,d,o[0])}))}});this.view=s,this.plugin=e,this.updateDecorations(s)}update(s){if(s.docChanged||s.viewportChanged||!s.state.field(Se.editorLivePreviewField)){let i=Date.now();i-this.lastUpdate>this.updateThreshold&&(this.lastUpdate=i,this.updateDecorations(s.view))}}destroy(){}updateDecorations(s,i){!this.isLivePreview(s.state)||(this.decorations=this.dateMatch.createDeco(s))}isLivePreview(s){return s.field(Se.editorLivePreviewField)}shouldRender(s,i,d){let c=(0,At.syntaxTree)(s.state).resolveInner(i+1).type.prop(At.tokenClassNodeProp);if(c){let h=c.split(" ");if(h.includes("hmd-codeblock")||h.includes("hmd-frontmatter"))return!1}return!s.state.selection.ranges.some(h=>!(h.to<=i||h.from>=d))&&this.isLivePreview(s.state)}}let n={decorations:a=>a.decorations.update({filter:(s,i,d)=>{var f;if(((f=d.spec)==null?void 0:f.widget).error)return!1;let c=a.view.state.selection;for(let l of c.ranges)if(!(l.to<=s||l.from>=i))return!1;return!0}})};return ue.ViewPlugin.fromClass(r,n)}var qa=class extends ge.HoverPopover{constructor(e,r,n,u,a=1e3){super(n,u,a);this.hoverEl.toggleClass("task-progress-bar-popover",!0),this.plugin=e,this.data=r}onload(){ge.MarkdownRenderer.render(this.plugin.app,`
| Status | Count |
| --- | --- |
| Total | ${this.data.total} |
| Completed | ${this.data.completed} |
| In Progress | ${this.data.inProgress} |
| Abandoned | ${this.data.abandoned} |
| Not Started | ${this.data.notStarted} |
| Planned | ${this.data.planned} |
`,this.hoverEl,"",this.plugin)}},fr=(t,{progressBar:e,data:r,view:n})=>{let u=n.state.field(ge.editorInfoField);!u||new qa(t,r,u,e)},mr=class extends ge.Plugin{constructor(){super(...arguments);this.linesToRemove=[]}async onload(){await this.loadSettings(),this.addSettingTab(new gr(this.app,this)),this.registerEditorExtension([da(this.app,this)]),this.settings.enableTaskStatusSwitcher&&this.settings.enableCustomTaskMarks&&this.registerEditorExtension([wa(this.app,this)]),this.settings.enablePriorityPicker&&this.registerEditorExtension([Ra(this.app,this)]),this.settings.enableDatePicker&&this.registerEditorExtension([ja(this.app,this)]),this.addCommand({id:"cycle-task-status-forward",name:"Cycle task status forward",editorCheckCallback:(e,r,n)=>Oa(e,r,n,this)}),this.addCommand({id:"cycle-task-status-backward",name:"Cycle task status backward",editorCheckCallback:(e,r,n)=>Da(e,r,n,this)}),this.settings.enablePriorityKeyboardShortcuts&&(Object.entries(qe).forEach(([e,r])=>{e!=="none"&&this.addCommand({id:`set-priority-${e}`,name:`Set ${r.text}`,editorCallback:n=>{this.setPriorityAtCursor(n,r.emoji)}})}),Object.entries(We).forEach(([e,r])=>{this.addCommand({id:`set-priority-letter-${e}`,name:`Set priority ${e}`,editorCallback:n=>{this.setPriorityAtCursor(n,`[#${e}]`)}})}),this.addCommand({id:"remove-priority",name:"Remove priority",editorCallback:e=>{this.removePriorityAtCursor(e)}})),this.addCommand({id:"move-task-to-file",name:"Move task to another file",editorCheckCallback:(e,r,n)=>Ua(e,r,n,this)}),this.settings.completedTaskMover.enableCompletedTaskMover&&(this.addCommand({id:"move-completed-subtasks-to-file",name:"Move all completed subtasks to another file",editorCheckCallback:(e,r,n)=>Mt(e,r,n,this,"allCompleted")}),this.addCommand({id:"move-direct-completed-subtasks-to-file",name:"Move direct completed subtasks to another file",editorCheckCallback:(e,r,n)=>Mt(e,r,n,this,"directChildren")}),this.addCommand({id:"move-all-subtasks-to-file",name:"Move all subtasks to another file",editorCheckCallback:(e,r,n)=>Mt(e,r,n,this,"all")})),this.registerEvent(this.app.workspace.on("editor-menu",(e,r)=>{this.settings.enablePriorityKeyboardShortcuts&&e.addItem(n=>{n.setTitle("Set priority"),n.setIcon("list-ordered");let u=n.setSubmenu();Object.entries(qe).forEach(([a,s])=>{a!=="none"&&u.addItem(i=>{i.setTitle(`Set ${s.text}`),i.setIcon("arrow-big-up-dash"),i.onClick(()=>{this.setPriorityAtCursor(r,s.emoji)})})}),u.addSeparator(),Object.entries(We).forEach(([a,s])=>{u.addItem(i=>{i.setTitle(`Set priority ${a}`),i.setIcon("a-arrow-up"),i.onClick(()=>{this.setPriorityAtCursor(r,`[#${a}]`)})})}),u.addItem(a=>{a.setTitle("Remove Priority"),a.setIcon("list-x"),a.setWarning(!0),a.onClick(()=>{this.removePriorityAtCursor(r)})})})})),this.app.workspace.onLayoutReady(()=>{this.settings.autoCompleteParent&&this.registerEditorExtension([Aa(this.app,this)]),this.settings.enableCycleCompleteStatus&&this.registerEditorExtension([Na(this.app,this)]),this.registerMarkdownPostProcessor((e,r)=>{this.settings.enableTaskStatusSwitcher&&ga({plugin:this,element:e,ctx:r}),ha({plugin:this,element:e,ctx:r})})})}onunload(){}async loadSettings(){this.settings=Object.assign({},L,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}setPriorityAtCursor(e,r){var d;let n=e.getCursor(),u=e.getLine(n.line),a=e.posToOffset({line:n.line,ch:0}),s=/^([\s|\t]*[-*+] \[.\].*?)(?:🔺|⏫|🔼|🔽|⏬️|\[#[A-C]\])?(\s*)$/,i=u.match(s);if(i){let o=/(?:🔺|⏫|🔼|🔽|⏬️|\[#[A-C]\])/,c=u.match(o),f=e.cm;if(c)f.dispatch({changes:{from:a+(c.index||0),to:a+(c.index||0)+(((d=c[0])==null?void 0:d.length)||0),insert:r},annotations:[he.of(!0)]});else{let l=a+i[1].length;f.dispatch({changes:{from:l,to:l,insert:` ${r}`},annotations:[he.of(!0)]})}}}removePriorityAtCursor(e){var i;let r=e.getCursor(),n=e.getLine(r.line),u=e.posToOffset({line:r.line,ch:0}),a=/(?:🔺|⏫|🔼|🔽|⏬️|\[#[A-C]\])/,s=n.match(a);s&&e.cm.dispatch({changes:{from:u+(s.index||0),to:u+(s.index||0)+(((i=s[0])==null?void 0:i.length)||0),insert:""},annotations:[he.of(!0)]})}};
/*!
Copyright 2019 Ron Buckton

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/

/* nosourcemap */